/*! For license information please see main.e2e39da1.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},82:(e,t)=>{var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===l}},86:(e,t,n)=>{e.exports=n(82)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+N(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+N(s=e[c],c);l+=T(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,u=o+N(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,_=-1,I=5,N=-1;function T(){return!(t.unstable_now()-N<I)}function D(){if(null!==C){var e=t.unstable_now();N=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof b)k=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=D,k=function(){P.postMessage(null)}}else k=function(){v(D,0)};function R(e){C=e,S||(S=!0,k())}function O(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,O(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},330:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443:(e,t,n)=>{e.exports=n(717)},461:(e,t,n)=>{e.exports=n(330)},579:(e,t,n)=>{e.exports=n(153)},717:(e,t,n)=>{var r=n(43),i=n(461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=a(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Ca){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function _e(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Te(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return Ne(e,t,n)}finally{De=!1,(null!==ke||null!==Se)&&(Te(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function je(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Be={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,o,a,s,l){Le=!1,Me=null,je.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function Ge(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,kt,St,Ct,_t=!1,It=[],Nt=null,Tt=null,Dt=null,At=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){_t=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Dt&&Ft(Dt)&&(Dt=null),At.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==Tt&&Vt(Tt,e),null!==Dt&&Vt(Dt,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var $t=w.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=bt,o=$t.transition;$t.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,$t.transition=o}}function qt(e,t,n,r){var i=bt,o=$t.transition;$t.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,$t.transition=o}}function Wt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Dt=Lt(Dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&Hr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=M({},cn,{view:0,detail:0}),hn=on(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(M({},fn,{dataTransfer:0})),gn=on(M({},dn,{relatedTarget:0})),vn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var _n=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(_n),Nn=on(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(An),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Ln=u&&"TextEvent"in window&&!jn,Mn=u&&(!On||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Gn(e,t,n,r){_e(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Wn=null;function Kn(e){Fr(e,0)}function Qn(e){if(W(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Wn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Wn)){var t=[];Gn(t,Wn,e,xe(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Wn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function Cr(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var _r=Cr("animationend"),Ir=Cr("animationiteration"),Nr=Cr("animationstart"),Tr=Cr("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Dr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Or=Ar[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=o,i=xe(n),a=[];e:{var s=Dr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case _r:case Ir:case Nr:l=vn;break;case Tr:l=Dn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Gr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=h;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)h=Wr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wr(u),h=Wr(h)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Hn(s))if(Jn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Ei=[],ki=-1;function Si(e){return{current:e}}function Ci(e){0>ki||(e.current=Ei[ki],Ei[ki]=null,ki--)}function _i(e,t){ki++,Ei[ki]=e.current,e.current=t}var Ii={},Ni=Si(Ii),Ti=Si(!1),Di=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ci(Ti),Ci(Ni)}function Oi(e,t,n){if(Ni.current!==Ii)throw Error(o(168));_i(Ni,t),_i(Ti,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,$(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Di=Ni.current,_i(Ni,e),_i(Ti,Ti.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ji(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(Ni),_i(Ni,e)):Ci(Ti),_i(Ti,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{bt=t,Bi=!1}}return null}var $i=[],Hi=0,Gi=null,qi=0,Wi=[],Ki=0,Qi=null,Yi=1,Ji="";function Xi(e,t){$i[Hi++]=qi,$i[Hi++]=Gi,Gi=e,qi=t}function Zi(e,t,n){Wi[Ki++]=Yi,Wi[Ki++]=Ji,Wi[Ki++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Yi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Gi;)Gi=$i[--Hi],$i[Hi]=null,qi=$i[--Hi],$i[Hi]=null;for(;e===Qi;)Qi=Wi[--Ki],Wi[Ki]=null,Ji=Wi[--Ki],Wi[Ki]=null,Yi=Wi[--Ki],Wi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,s,l,c){var u=j(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((o=Lc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=jc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(j(a))return g(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),Eo=wo(!1),ko=Si(null),So=null,Co=null,_o=null;function Io(){_o=Co=So=null}function No(e){var t=ko.current;Ci(ko),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Do(e,t){So=e,_o=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===So)throw Error(o(308));Co=e,So.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Po=null;function Ro(e){null===Po?Po=[e]:Po.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,jo(e,r)}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,jo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var i=e.updateQueue;Lo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Lo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Go={},qo=Si(Go),Wo=Si(Go),Ko=Si(Go);function Qo(e){if(e===Go)throw Error(o(174));return e}function Yo(e,t){switch(_i(Ko,t),_i(Wo,e),_i(qo,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(qo),_i(qo,t)}function Jo(){Ci(qo),Ci(Wo),Ci(Ko)}function Xo(e){Qo(Ko.current);var t=Qo(qo.current),n=le(t,e.type);t!==n&&(_i(Wo,e),_i(qo,n))}function Zo(e){Wo.current===e&&(Ci(qo),Ci(Wo))}var ea=Si(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?es:ts,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ns,e=n(r,i)}while(da)}if(ia.current=Za,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Sa(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Ma(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Pa(9,Ia.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(o(349));0!==(30&aa)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Da(e)}function Na(e,t,n){return n((function(){Ta(t)&&Da(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Da(e){var t=jo(e,1);null!==t&&rc(t,e,1,-1)}function Aa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return ba().memoizedState}function Oa(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Pa(t,n,o,r))}sa.flags|=e,i.memoizedState=Pa(1|t,n,o,r)}function La(e,t){return Oa(8390656,8,e,t)}function Ma(e,t){return ja(2048,8,e,t)}function Fa(e,t){return ja(4,2,e,t)}function Ua(e,t){return ja(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Ba.bind(null,t,e),n)}function za(){}function $a(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Ml|=n,e.baseState=!0),t)}function qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Wa(){return ba().memoizedState}function Ka(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ja(t,n);else if(null!==(n=Oo(e,t,n,r))){rc(n,e,r,tc()),Xa(n,t,r)}}function Qa(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ja(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ro(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(rc(n,e,r,i=tc()),Xa(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ja(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Za={readContext:Ao,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},es={readContext:Ao,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Aa,useDebugValue:za,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=qa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Dl)throw Error(o(349));0!==(30&aa)||_a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Na.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Dl.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ts={readContext:Ao,useCallback:$a,useContext:Ao,useEffect:Ma,useImperativeHandle:Va,useInsertionEffect:Fa,useLayoutEffect:Ua,useMemo:Ha,useReducer:xa,useRef:Ra,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){return Ga(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Wa,unstable_isNewReconciler:!1},ns={readContext:Ao,useCallback:$a,useContext:Ao,useEffect:Ma,useImperativeHandle:Va,useInsertionEffect:Fa,useLayoutEffect:Ua,useMemo:Ha,useReducer:Ea,useRef:Ra,useState:function(){return Ea(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ga(t,la.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Wa,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(rc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(rc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(rc(t,e,r,n),Vo(t,e,r))}};function as(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function ss(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Pi(t)?Di:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ls(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Pi(t)?Di:Ni.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(is(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&os.enqueueReplaceState(i,i.state,null),$o(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,ql=r),hs(0,t)},n}function ms(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Eo(t,null,n,r):xo(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var o=t.ref;return Do(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||ws?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Ol,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Ol,Rl),Rl|=r;return xs(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var o=Pi(n)?Di:Ni.current;return o=Ai(t,o),Do(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||ws?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ns(e,t,n,r,i){if(Pi(n)){var o=!0;Li(t)}else o=!1;if(Do(t,i),null===t.stateNode)Hs(e,t),ss(t,n,r),cs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(t,c=Pi(n)?Di:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ls(t,a,r,c),Lo=!1;var h=t.memoizedState;a.state=h,$o(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ti.current||Lo?("function"===typeof u&&(is(t,n,u,r),l=t.memoizedState),(s=Lo||as(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rs(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(t,l=Pi(n)?Di:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ls(t,a,r,l),Lo=!1,h=t.memoizedState,a.state=h,$o(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ti.current||Lo?("function"===typeof f&&(is(t,n,f,r),p=t.memoizedState),(c=Lo||as(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){_s(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Gs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Yo(e,t.containerInfo)}function As(e,t,n,r,i){return po(),mo(i),t.flags|=256,xs(e,t,n,r),t.child}var Ps,Rs,Os,js,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Dl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,jo(e,i),rc(r,e,i,-1))}return gc(),Bs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Ki++]=Yi,Wi[Ki++]=Ji,Wi[Ki++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $s(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ws(t),null;case 3:return r=t.stateNode,Jo(),Ci(Ti),Ci(Ni),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Rs(e,t),Ws(t),null;case 5:Zo(t);var i=Qo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=Qo(qo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Ko.current),Qo(qo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ci(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===jl&&(jl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Jo(),Rs(e,t),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return No(t.type._context),Ws(t),null;case 19:if(Ci(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qs(a,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,qs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>$l&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ws(t),null}else 2*Je()-a.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,_i(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ci(Ti),Ci(Ni),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ci(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ea),null;case 4:return Jo(),null;case 10:return No(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(qo.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Js&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fl(e,t,n),Js=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Cc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Cc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Cc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,gl(t,e),Js=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,Zs=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zs=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Ys;var c=Js;if(Ys=a,(Js=l)&&!c)for(Zs=i;null!==Zs;)l=(a=Zs).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Zs=l):kl(i);for(;null!==o;)Zs=o,wl(o,t,n),o=o.sibling;Zs=i,Ys=s,Js=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):xl(e)}}function xl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ol(t)}catch(f){Cc(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function El(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function kl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Cc(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Cc(t,a,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Sl,Cl=Math.ceil,_l=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,Tl=0,Dl=null,Al=null,Pl=0,Rl=0,Ol=Si(0),jl=0,Ll=null,Ml=0,Fl=0,Ul=0,Bl=null,Vl=null,zl=0,$l=1/0,Hl=null,Gl=!1,ql=null,Wl=null,Kl=!1,Ql=null,Yl=0,Jl=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Tl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Dl||(e===Dl&&(0===(2&Tl)&&(Fl|=n),4===jl&&lc(e,Pl)),ic(e,r),1===n&&0===Tl&&0===(1&t.mode)&&($l=Je()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Dl?Pl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0===(6&Tl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Dl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Tl;Tl|=2;var a=mc();for(Dl===e&&Pl===t||(Hl=null,$l=Je()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}Io(),_l.current=a,Tl=i,null!==Al?t=0:(Dl=null,Pl=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,Vl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Vl,Hl),t);break}Ec(e,Vl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Vl,Hl),r);break}Ec(e,Vl,Hl);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(o(327));kc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,Hl),ic(e,Je()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&($l=Je()+500,Ui&&zi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&kc();var t=Tl;Tl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(Tl=t))&&zi()}}function hc(){Rl=Ol.current,Ci(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Jo(),Ci(Ti),Ci(Ni),ra();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:Ci(ea);break;case 10:No(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Dl=e,Al=e=Oc(e.current,null),Pl=Rl=t,jl=0,Ll=null,Ul=Fl=Ml=0,Vl=Bl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function pc(e,t){for(;;){var n=Al;try{if(Io(),ia.current=Za,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Il.current=null,null===n||null===n.return){jl=1,Ll=t,Al=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==jl&&(jl=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=_l.current;return _l.current=Za,null===e?Za:e}function gc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Dl||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Dl,Pl)}function vc(e,t){var n=Tl;Tl|=2;var r=mc();for(Dl===e&&Pl===t||(Hl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Io(),Tl=n,_l.current=r,null!==Al)throw Error(o(261));return Dl=null,Pl=0,jl}function yc(){for(;null!==Al;)wc(Al)}function bc(){for(;null!==Al&&!Qe();)wc(Al)}function wc(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,Il.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Rl)))return void(Al=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return jl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===jl&&(jl=5)}function Ec(e,t,n){var r=bt,i=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Ql);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Dl&&(Al=Dl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Dc(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Il.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:rs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Cc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ye(),Tl=l,bt=s,Nl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Yl=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,zi()}(e,t,n,r)}finally{Nl.transition=i,bt=r}return null}function kc(){if(null!==Ql){var e=wt(Yl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,p=d.return;if(al(d),d===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Cc(l,l.return,E)}if(l===s){Zs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Zs=x;break e}Zs=l.return}}if(Tl=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function Sc(e,t,n){e=Bo(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Bo(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Pl&n)===n&&(4===jl||3===jl&&(130023424&Pl)===Pl&&500>Je()-zl?fc(e,0):Ul|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=jo(e,t))&&(vt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Dc(e,t){return We(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Lc(n.children,i,a,t);case S:s=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case T:return(e=Pc(13,n,t,i)).elementType=T,e.lanes=a,e;case D:return(e=Pc(19,n,t,i)).elementType=D,e.lanes=a,e;case R:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case I:s=9;break e;case N:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return ji(e,n,t)}return t}function $c(e,t,n,r,i,o,a,s,l){return(e=Vc(n,r,!0,e,0,o,0,s,l)).context=zc(null),n=e.current,(o=Uo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(rc(e,i,a,o),Vo(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ds(t),po();break;case 5:Xo(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(_i(ea,1&ea.current),null!==(e=Gs(e,t,n))?e.sibling:null);_i(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $s(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Gs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ai(t,Ni.current);Do(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mo(t),i.updater=os,t.stateNode=i,i._reactInternals=t,cs(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=rs(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=ks(null,t,r,rs(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:rs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:rs(r,i),n);case 3:e:{if(Ds(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),$o(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Gs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),_s(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:rs(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(ko,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Do(t,n),r=r(i=Ao(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=rs(r=t.type,t.pendingProps),ks(e,t,r,i=rs(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rs(r,i),Hs(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Do(t,n),ss(t,r,i),cs(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return $s(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gc(a);s.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gc(a);o.call(e)}}var a=$c(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Tl)&&($l=Je()+500,zi()))}break;case 13:dc((function(){var t=jo(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=jo(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=jo(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));W(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,xi,_e,Ie,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||x(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".b5ac5b62.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="lock-the-effin:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunklock_the_effin=self.webpackChunklock_the_effin||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(43),o=n.t(i,2),a=n(391),s=n(950),l=n.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,l=r.Pop,h=null,g=v();function v(){return(s.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,s.replaceState(c({},s.state,{idx:g}),""));let w={get action(){return l},get location(){return e(o,s)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),h=e,()=>{o.removeEventListener(u,y),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=v()+1;let c=f(i,g),u=w.createHref(i);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(u)}a&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=v();let o=f(i,g),c=w.createHref(i);s.replaceState(o,"",c),a&&h&&h({action:l,location:w.location,delta:0})},go:e=>s.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let o=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=R(i);a=A(o[s],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),x(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:D(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)})),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=E(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,S=3,C=2,_=1,I=10,N=-2,T=e=>"*"===e;function D(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=N),t&&(r+=C),n.filter((e=>!T(e))).reduce(((e,t)=>e+(k.test(t)?S:""===t?_:I)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:U([o,u.pathname]),pathnameBase:B(U([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=U([o,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),j("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),j("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),j("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:V(r),hash:z(i)}}(i,o),u=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],G=(new Set(H),["get",...H]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const W=i.createContext(null);const K=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||d(!1),i.useContext(Y).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=i.useRef(!1);return te((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t])}():function(){Z()||d(!1);let e=i.useContext(W),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:o}=i.useContext(J),{pathname:a}=ee(),s=JSON.stringify(M(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return te((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=F(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:U([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e])}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:o}=i.useContext(J),{pathname:a}=ee(),s=JSON.stringify(M(o,r.v7_relativeSplatPath));return i.useMemo((()=>F(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function ie(e,t,n,o){Z()||d(!1);let{navigator:a,static:s}=i.useContext(Q),{matches:l}=i.useContext(J),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ee();if(t){var m;let e="string"===typeof t?g(t):t;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||d(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let x=ce(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:U([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:U([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,o);return t&&x?i.createElement(Y.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},x):x}function oe(){let e=function(){var e;let t=i.useContext(X),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ae=i.createElement(oe,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(W);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function ce(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,c&&(u<0&&0===o?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===o&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(W);return t||d(!1),t}function fe(e){let t=i.useContext(K);return t||d(!1),t}function pe(e){let t=function(){let e=i.useContext(J);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:o}=e;Z()||d(!1);let{future:a,static:s}=i.useContext(Q),{matches:l}=i.useContext(J),{pathname:c}=ee(),u=ne(),h=F(t,M(l,a.v7_relativeSplatPath),c,"path"===o),f=JSON.stringify(h);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:o})),[u,f,o,n,r]),null}function ye(e){d(!1)}function be(e){let{basename:t="/",children:n=null,location:o,navigationType:a=r.Pop,navigator:s,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:s,static:l,future:q({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof o&&(o=g(o));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=o,b=i.useMemo((()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}}),[u,f,p,m,v,y,a]);return null==b?null:i.createElement(Q.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return ie(xe(t),n)}new Promise((()=>{}));i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,o));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,o)),n.push(a)})),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(BC){}new Map;const Ce=o.startTransition;l.flushSync,o.useId;function _e(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),v((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=g(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:m(t))}),(function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},f=i.useCallback((e=>{d&&Ce?Ce((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(f)),[l,f]),i.useEffect((()=>ge(r)),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=ke(e,Se),{basename:g}=i.useContext(Q),v=!1;if("string"===typeof u&&Ne.test(u)&&(n=u,Ie))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(BC){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:o}=i.useContext(Q),{hash:a,pathname:s,search:l}=re(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:U([r,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:s});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}}),[u,c,d,r,o,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:f});return i.createElement("a",Ee({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var De,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));const Pe=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,i,o);return o},Re=e=>e?Pe(e):Pe;var Oe=n(443);const{useDebugValue:je}=i,{useSyncExternalStoreWithSelector:Le}=Oe;let Me=!1;const Fe=e=>e;const Ue=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?Re(e):e,n=(e,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe,n=arguments.length>2?arguments[2]:void 0;n&&!Me&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Me=!0);const r=Le(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return je(r),r}(t,e,n);return Object.assign(n,t),n},Be=e=>e?Ue(e):Ue;const Ve=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ve(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new $e;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class $e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(e){return function(e){const t=Ve(e);return ze.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ge=function(e){try{return ze.decodeString(e,!0)}catch(BC){console.error("base64Decode failed: ",BC)}return null};const qe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,We=()=>{try{return qe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"your_api_key_here",REACT_APP_FIREBASE_APP_ID:"your_app_id",REACT_APP_FIREBASE_AUTH_DOMAIN:"your_project_id.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"your_messaging_sender_id",REACT_APP_FIREBASE_PROJECT_ID:"your_project_id",REACT_APP_FIREBASE_STORAGE_BUCKET:"your_project_id.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(BC){return}const t=e&&Ge(e[1]);return t&&JSON.parse(t)})()}catch(BC){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${BC}`)}},Ke=e=>{var t,n;return null===(n=null===(t=We())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Qe=e=>{const t=Ke(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ye=()=>{var e;return null===(e=We())||void 0===e?void 0:e.config},Je=e=>{var t;return null===(t=We())||void 0===t?void 0:t[`_${e}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ze(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(o)),""].join(".")}function et(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function tt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function nt(){return!function(){var e;const t=null===(e=We())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(BC){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rt(){try{return"object"===typeof indexedDB}catch(BC){return!1}}function it(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class ot extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(st,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new ot(n,o,t)}}const st=/\{\$([^}]+)}/g;function lt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ct(n)&&ct(o)){if(!lt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ct(e){return null!==e&&"object"===typeof e}function ut(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function dt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ht(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ft{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=pt),void 0===r.error&&(r.error=pt),void 0===r.complete&&(r.complete=pt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(BC){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(BC){"undefined"!==typeof console&&console.error&&console.error(BC)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function pt(){}function mt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function gt(e){return e&&e._delegate?e._delegate:e}class vt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const yt="[DEFAULT]";class bt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(BC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(BC){if(r)return null;throw BC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yt})}catch(BC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(BC){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return this.component?this.component.multipleInstances?e:yt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function wt(e){return e===yt?void 0:e}class xt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Et=[];var kt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kt||(kt={}));const St={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Ct=kt.INFO,_t={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},It=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=_t[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class Nt{constructor(e){this.name=e,this._logLevel=Ct,this._logHandler=It,this._userLogHandler=null,Et.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?St[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}let Tt,Dt;const At=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Ot=new WeakMap,jt=new WeakMap;let Lt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Rt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ut(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Mt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dt||(Dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bt(this),n),Ut(At.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ut(e.apply(Bt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Bt(this),t,...r);return Rt.set(o,t.sort?t.sort():[t]),Ut(o)}}function Ft(e){return"function"===typeof e?Mt(e):(e instanceof IDBTransaction&&function(e){if(Pt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Pt.set(e,t)}(e),t=e,(Tt||(Tt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Lt):e);var t}function Ut(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ut(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&At.set(t,e)})).catch((()=>{})),jt.set(t,e),t}(e);if(Ot.has(e))return Ot.get(e);const t=Ft(e);return t!==e&&(Ot.set(e,t),jt.set(t,e)),t}const Bt=e=>jt.get(e);function Vt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Ut(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Ut(a.result),e.oldVersion,e.newVersion,Ut(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}const zt=["get","getKey","getAll","getAllKeys","count"],$t=["put","add","delete","clear"],Ht=new Map;function Gt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ht.get(t))return Ht.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$t.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Ht.set(t,o),o}Lt=(e=>({...e,get:(t,n,r)=>Gt(t,n)||e.get(t,n,r),has:(t,n)=>!!Gt(t,n)||e.has(t,n)}))(Lt);class qt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Wt="@firebase/app",Kt="0.10.13",Qt=new Nt("@firebase/app"),Yt="@firebase/app-compat",Jt="@firebase/analytics-compat",Xt="@firebase/analytics",Zt="@firebase/app-check-compat",en="@firebase/app-check",tn="@firebase/auth",nn="@firebase/auth-compat",rn="@firebase/database",on="@firebase/data-connect",an="@firebase/database-compat",sn="@firebase/functions",ln="@firebase/functions-compat",cn="@firebase/installations",un="@firebase/installations-compat",dn="@firebase/messaging",hn="@firebase/messaging-compat",fn="@firebase/performance",pn="@firebase/performance-compat",mn="@firebase/remote-config",gn="@firebase/remote-config-compat",vn="@firebase/storage",yn="@firebase/storage-compat",bn="@firebase/firestore",wn="@firebase/vertexai-preview",xn="@firebase/firestore-compat",En="firebase",kn="[DEFAULT]",Sn={[Wt]:"fire-core",[Yt]:"fire-core-compat",[Xt]:"fire-analytics",[Jt]:"fire-analytics-compat",[en]:"fire-app-check",[Zt]:"fire-app-check-compat",[tn]:"fire-auth",[nn]:"fire-auth-compat",[rn]:"fire-rtdb",[on]:"fire-data-connect",[an]:"fire-rtdb-compat",[sn]:"fire-fn",[ln]:"fire-fn-compat",[cn]:"fire-iid",[un]:"fire-iid-compat",[dn]:"fire-fcm",[hn]:"fire-fcm-compat",[fn]:"fire-perf",[pn]:"fire-perf-compat",[mn]:"fire-rc",[gn]:"fire-rc-compat",[vn]:"fire-gcs",[yn]:"fire-gcs-compat",[bn]:"fire-fst",[xn]:"fire-fst-compat",[wn]:"fire-vertex","fire-js":"fire-js",[En]:"fire-js-all"},Cn=new Map,_n=new Map,In=new Map;function Nn(e,t){try{e.container.addComponent(t)}catch(BC){Qt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,BC)}}function Tn(e){const t=e.name;if(In.has(t))return Qt.debug(`There were multiple attempts to register component ${t}.`),!1;In.set(t,e);for(const n of Cn.values())Nn(n,e);for(const n of _n.values())Nn(n,e);return!0}function Dn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function An(e){return void 0!==e.settings}const Pn=new at("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Rn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}const On="10.14.1";function jn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:kn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Pn.create("bad-app-name",{appName:String(i)});if(n||(n=Ye()),!n)throw Pn.create("no-options");const o=Cn.get(i);if(o){if(lt(n,o.options)&&lt(r,o.config))return o;throw Pn.create("duplicate-app",{appName:i})}const a=new xt(i);for(const l of In.values())a.addComponent(l);const s=new Rn(n,r,a);return Cn.set(i,s),s}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;const t=Cn.get(e);if(!t&&e===kn&&Ye())return jn();if(!t)throw Pn.create("no-app",{appName:e});return t}function Mn(e,t,n){var r;let i=null!==(r=Sn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Qt.warn(e.join(" "))}Tn(new vt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Fn="firebase-heartbeat-store";let Un=null;function Bn(){return Un||(Un=Vt("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Fn)}catch(BC){console.warn(BC)}}}).catch((e=>{throw Pn.create("idb-open",{originalErrorMessage:e.message})}))),Un}async function Vn(e,t){try{const n=(await Bn()).transaction(Fn,"readwrite"),r=n.objectStore(Fn);await r.put(t,zn(e)),await n.done}catch(BC){if(BC instanceof ot)Qt.warn(BC.message);else{const t=Pn.create("idb-set",{originalErrorMessage:null===BC||void 0===BC?void 0:BC.message});Qt.warn(t.message)}}}function zn(e){return`${e.name}!${e.options.appId}`}class $n{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Gn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Hn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(BC){Qt.warn(BC)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Hn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),qn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=He(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(BC){return Qt.warn(BC),""}}}function Hn(){return(new Date).toISOString().substring(0,10)}class Gn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!rt()&&it().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Bn()).transaction(Fn),n=await t.objectStore(Fn).get(zn(e));return await t.done,n}catch(BC){if(BC instanceof ot)Qt.warn(BC.message);else{const t=Pn.create("idb-get",{originalErrorMessage:null===BC||void 0===BC?void 0:BC.message});Qt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Vn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Vn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function qn(e){return He(JSON.stringify({version:2,heartbeats:e})).length}var Wn;Wn="",Tn(new vt("platform-logger",(e=>new qt(e)),"PRIVATE")),Tn(new vt("heartbeat",(e=>new $n(e)),"PRIVATE")),Mn(Wt,Kt,Wn),Mn(Wt,Kt,"esm2017"),Mn("fire-js","");function Kn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Qn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yn=Qn,Jn=new at("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xn=new Nt("@firebase/auth");function Zn(e){if(Xn.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xn.error(`Auth (${On}): ${e}`,...n)}}function er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw or(e,...n)}function tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return or(e,...n)}function nr(e,t,n){const r=Object.assign(Object.assign({},Yn()),{[t]:n});return new at("auth","Firebase",r).create(t,{appName:e.name})}function rr(e){return nr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ir(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&er(e,"argument-error"),nr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Jn.create(e,...n)}function ar(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw or(t,...r)}}function sr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Zn(t),new Error(t)}function lr(e,t){e||sr(t)}function cr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ur(){return"http:"===dr()||"https:"===dr()}function dr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class hr{constructor(e,t){this.shortDelay=e,this.longDelay=t,lr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ur()||tt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function fr(e,t){lr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class pr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gr=new hr(3e4,6e4);function vr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function yr(e,t,n,r){return br(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=ut(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),pr.fetch()(xr(e,e.config.apiHost,n,a),l)}))}async function br(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},mr),t);try{const t=new kr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Sr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Sr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Sr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Sr(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw nr(e,s,a);er(e,s)}}catch(BC){if(BC instanceof ot)throw BC;er(e,"network-request-failed",{message:String(BC)})}}async function wr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await yr(e,t,n,r,i);return"mfaPendingCredential"in o&&er(e,"multi-factor-auth-required",{_serverResponse:o}),o}function xr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?fr(e.config,i):`${e.config.apiScheme}://${i}`}function Er(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(tr(this.auth,"network-request-failed"))),gr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=tr(e,t,r);return i.customData._tokenResponse=n,i}function Cr(e){return void 0!==e&&void 0!==e.enterprise}class _r{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Er(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ir(e,t){return yr(e,"GET","/v2/recaptchaConfig",vr(e,t))}async function Nr(e,t){return yr(e,"POST","/v1/accounts:lookup",t)}function Tr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(BC){}}function Dr(e){return 1e3*Number(e)}function Ar(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Zn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ge(n);return e?JSON.parse(e):(Zn("Failed to decode base64 JWT payload"),null)}catch(BC){return Zn("Caught error parsing JWT payload as JSON",null===BC||void 0===BC?void 0:BC.toString()),null}}function Pr(e){const t=Ar(e);return ar(t,"internal-error"),ar("undefined"!==typeof t.exp,"internal-error"),ar("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Rr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(BC){throw BC instanceof ot&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(BC)&&e.auth.currentUser===e&&await e.auth.signOut(),BC}}class Or{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(BC){return void("auth/network-request-failed"===(null===BC||void 0===BC?void 0:BC.code)&&this.schedule(!0))}this.schedule()}}class jr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Rr(e,Nr(n,{idToken:r}));ar(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Mr(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new jr(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Mr(e){return e.map((e=>{var{providerId:t}=e,n=Kn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ar(e.idToken,"internal-error"),ar("undefined"!==typeof e.idToken,"internal-error"),ar("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Pr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ar(0!==e.length,"internal-error");const t=Pr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ar(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await br(e,{},(async()=>{const n=ut({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=xr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pr.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Fr;return n&&(ar("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(ar("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(ar("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fr,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Ur(e,t){ar("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Br{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Kn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Rr(this,this.stsTokenManager.getToken(this.auth,e));return ar(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=gt(e),r=await n.getIdToken(t),i=Ar(r);ar(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Tr(Dr(i.auth_time)),issuedAtTime:Tr(Dr(i.iat)),expirationTime:Tr(Dr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=gt(e);await Lr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ar(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ar(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Lr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await Rr(this,async function(e,t){return yr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;ar(y&&E,e,"internal-error");const k=Fr.fromJSON(this.name,E);ar("string"===typeof y,e,"internal-error"),Ur(u,e.name),Ur(d,e.name),ar("boolean"===typeof b,e,"internal-error"),ar("boolean"===typeof w,e,"internal-error"),Ur(h,e.name),Ur(f,e.name),Ur(p,e.name),Ur(m,e.name),Ur(g,e.name),Ur(v,e.name);const S=new Br({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(S.providerData=x.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Fr;r.updateFromServerResponse(t);const i=new Br({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Lr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ar(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Mr(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Fr;a.updateFromIdToken(n);const s=new Br({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new jr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Vr=new Map;function zr(e){lr(e instanceof Function,"Expected a class definition");let t=Vr.get(e);return t?(lr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vr.set(e,t),t)}class $r{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$r.type="NONE";const Hr=$r;function Gr(e,t,n){return`firebase:${e}:${t}:${n}`}class qr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Gr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Gr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new qr(zr(Hr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||zr(Hr);const o=Gr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Br._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new qr(i,e,n)):new qr(i,e,n)}}function Wr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zr(t))return"Blackberry";if(ei(t))return"Webos";if(Qr(t))return"Safari";if((t.includes("chrome/")||Yr(t))&&!t.includes("edge/"))return"Chrome";if(Xr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();return/firefox\//i.test(e)}function Qr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:et()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();return/crios\//i.test(e)}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();return/iemobile/i.test(e)}function Xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();return/android/i.test(e)}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();return/blackberry/i.test(e)}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();return/webos/i.test(e)}function ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ni(){return function(){const e=et();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();return ti(e)||Xr(e)||ei(e)||Zr(e)||/windows phone/i.test(e)||Jr(e)}function ii(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wr(et());break;case"Worker":t=`${Wr(et())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${On}/${r}`}class oi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(BC){r(BC)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(BC){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===BC||void 0===BC?void 0:BC.message})}}}class ai{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class si{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ci(this),this.idTokenSubscription=new ci(this),this.beforeStateQueue=new oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await qr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(BC){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Nr(this,{idToken:e}),n=await Br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(An(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(BC){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(BC)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ar(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(BC){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lr(e)}catch(BC){if("auth/network-request-failed"!==(null===BC||void 0===BC?void 0:BC.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(rr(this));const t=e?gt(e):null;return t&&ar(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ar(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return An(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(rr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(zr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return yr(e,"GET","/v2/passwordPolicy",vr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ai(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new at("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return yr(e,"POST","/v2/accounts:revokeToken",vr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zr(e)||this._popupRedirectResolver;ar(t,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ar(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ar(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Xn.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xn.warn(`Auth (${On}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function li(e){return gt(e)}class ci{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ft(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return ar(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ui={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function di(e){return ui.loadJS(e)}function hi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class fi{constructor(e){this.type="recaptcha-enterprise",this.auth=li(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Cr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ir(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new _r(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Cr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ui.recaptchaEnterpriseScript;0!==t.length&&(t+=i),di(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function pi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new fi(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function mi(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await pi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await pi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function gi(e,t,n){const r=li(e);ar(r._canInitEmulator,r,"emulator-config-failed"),ar(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=vi(t),{host:a,port:s}=function(e){const t=vi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:yi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:yi(t)}}}(t),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class bi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,t){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function wi(e,t){return yr(e,"POST","/v1/accounts:signUp",t)}async function xi(e,t){return wr(e,"POST","/v1/accounts:signInWithPassword",vr(e,t))}class Ei extends bi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ei(e,t,"password")}static _fromEmailAndCode(e,t){return new Ei(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return mi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",xi);case"emailLink":return async function(e,t){return wr(e,"POST","/v1/accounts:signInWithEmailLink",vr(e,t))}(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return mi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wi);case"emailLink":return async function(e,t){return wr(e,"POST","/v1/accounts:signInWithEmailLink",vr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ki(e,t){return wr(e,"POST","/v1/accounts:signInWithIdp",vr(e,t))}class Si extends bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Kn(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Si(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ki(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ki(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ki(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ut(t)}return e}}const Ci={USER_NOT_FOUND:"user-not-found"};class _i extends bi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _i({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _i({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return wr(e,"POST","/v1/accounts:signInWithPhoneNumber",vr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await wr(e,"POST","/v1/accounts:signInWithPhoneNumber",vr(e,t));if(n.temporaryProof)throw Sr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return wr(e,"POST","/v1/accounts:signInWithPhoneNumber",vr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ci)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new _i({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ii{constructor(e){var t,n,r,i,o,a;const s=dt(ht(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);ar(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=dt(ht(e)).link,n=t?dt(ht(t)).deep_link_id:null,r=dt(ht(e)).deep_link_id;return(r?dt(ht(r)).link:null)||r||n||t||e}(e);try{return new Ii(t)}catch(n){return null}}}class Ni{constructor(){this.providerId=Ni.PROVIDER_ID}static credential(e,t){return Ei._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ii.parseLink(t);return ar(n,"argument-error"),Ei._fromEmailAndCode(e,n.code,n.tenantId)}}Ni.PROVIDER_ID="password",Ni.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ni.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ti{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Di extends Ti{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ai extends Di{constructor(){super("facebook.com")}static credential(e){return Si._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ai.credential(t.oauthAccessToken)}catch(n){return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ai.PROVIDER_ID="facebook.com";class Pi extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Si._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Pi.credential(n,r)}catch(i){return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com",Pi.PROVIDER_ID="google.com";class Ri extends Di{constructor(){super("github.com")}static credential(e){return Si._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch(n){return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com",Ri.PROVIDER_ID="github.com";class Oi extends Di{constructor(){super("twitter.com")}static credential(e,t){return Si._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Oi.credential(n,r)}catch(i){return null}}}async function ji(e,t){return wr(e,"POST","/v1/accounts:signUp",vr(e,t))}Oi.TWITTER_SIGN_IN_METHOD="twitter.com",Oi.PROVIDER_ID="twitter.com";class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Br._fromIdTokenResponse(e,n,r),o=Mi(n);return new Li({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Mi(n);return new Li({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Mi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Fi extends ot{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Fi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Fi(e,t,n,r)}}function Ui(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Fi._fromErrorAndOperation(e,n,t,r);throw n}))}async function Bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Rr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Li._forOperation(e,"link",r)}async function Vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(An(r.app))return Promise.reject(rr(r));const i="reauthenticate";try{const o=await Rr(e,Ui(r,i,t,e),n);ar(o.idToken,r,"internal-error");const a=Ar(o.idToken);ar(a,r,"internal-error");const{sub:s}=a;return ar(e.uid===s,r,"user-mismatch"),Li._forOperation(e,i,o)}catch(BC){throw"auth/user-not-found"===(null===BC||void 0===BC?void 0:BC.code)&&er(r,"user-mismatch"),BC}}async function zi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(An(e.app))return Promise.reject(rr(e));const r="signIn",i=await Ui(e,r,t),o=await Li._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function $i(e,t){return zi(li(e),t)}async function Hi(e){const t=li(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Gi="__sak";class qi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gi,"1"),this.storage.removeItem(Gi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Wi extends qi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ri(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ni()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wi.type="LOCAL";const Ki=Wi;class Qi extends qi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qi.type="SESSION";const Yi=Qi;class Ji{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ji(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ji.receivers=[];class Zi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Xi("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function eo(){return window}function to(){return"undefined"!==typeof eo().WorkerGlobalScope&&"function"===typeof eo().importScripts}const no="firebaseLocalStorageDb",ro="firebaseLocalStorage",io="fbase_key";class oo{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ao(e,t){return e.transaction([ro],t?"readwrite":"readonly").objectStore(ro)}function so(){const e=indexedDB.open(no,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ro,{keyPath:io})}catch(BC){n(BC)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ro)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(no);return new oo(e).toPromise()}(),t(await so()))}))}))}async function lo(e,t,n){const r=ao(e,!0).put({[io]:t,value:n});return new oo(r).toPromise()}function co(e,t){const n=ao(e,!0).delete(t);return new oo(n).toPromise()}class uo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await so()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(BC){if(t++>3)throw BC;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return to()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ji._getInstance(to()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Zi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await so();return await lo(e,Gi,"1"),await co(e,Gi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>lo(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ao(e,!1).get(t),r=await new oo(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>co(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ao(e,!1).getAll();return new oo(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}uo.type="LOCAL";const ho=uo;hi("rcb"),new hr(3e4,6e4);const fo="recaptcha";async function po(e,t,n){var r;const i=await n.verify();try{let o;if(ar("string"===typeof i,e,"argument-error"),ar(n.type===fo,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ar("enroll"===t.type,e,"internal-error");const n=await function(e,t){return yr(e,"POST","/v2/accounts/mfaEnrollment:start",vr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ar("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ar(n,e,"missing-multi-factor-info");const a=await function(e,t){return yr(e,"POST","/v2/accounts/mfaSignIn:start",vr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return yr(e,"POST","/v1/accounts:sendVerificationCode",vr(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class mo{constructor(e){this.providerId=mo.PROVIDER_ID,this.auth=li(e)}verifyPhoneNumber(e,t){return po(this.auth,e,gt(t))}static credential(e,t){return _i._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mo.credentialFromTaggedObject(t)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?_i._fromTokenResponse(n,r):null}}function go(e,t){return t?zr(t):(ar(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}mo.PROVIDER_ID="phone",mo.PHONE_SIGN_IN_METHOD="phone";class vo extends bi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ki(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ki(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yo(e){return zi(e.auth,new vo(e),e.bypassAuthState)}function bo(e){const{auth:t,user:n}=e;return ar(n,t,"internal-error"),Vi(n,new vo(e),e.bypassAuthState)}async function wo(e){const{auth:t,user:n}=e;return ar(n,t,"internal-error"),Bi(n,new vo(e),e.bypassAuthState)}class xo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(BC){this.reject(BC)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(BC){this.reject(BC)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yo;case"linkViaPopup":case"linkViaRedirect":return wo;case"reauthViaPopup":case"reauthViaRedirect":return bo;default:er(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Eo=new hr(2e3,1e4);class ko extends xo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ar(e,this.auth,"internal-error"),e}async onExecution(){lr(1===this.filter.length,"Popup operations only handle one event");const e=Xi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(tr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Eo.get())};e()}}ko.currentPopupAction=null;const So=new Map;class Co extends xo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=So.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=No(t),r=Io(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(BC){e=()=>Promise.reject(BC)}So.set(this.auth._key(),e)}return this.bypassAuthState||So.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _o(e,t){So.set(e._key(),t)}function Io(e){return zr(e._redirectPersistence)}function No(e){return Gr("pendingRedirect",e.config.apiKey,e.name)}async function To(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(An(e.app))return Promise.reject(rr(e));const r=li(e),i=go(r,t),o=new Co(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Do{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Po(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Po(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ao(e))}saveEventToCache(e){this.cachedEventUids.add(Ao(e)),this.lastProcessedEventTime=Date.now()}}function Ao(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Po(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Ro=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oo=/^https?/;async function jo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return yr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Lo(r))return}catch(n){}er(e,"unauthorized-domain")}function Lo(e){const t=cr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Oo.test(n))return!1;if(Ro.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Mo=new hr(3e4,6e4);function Fo(){const e=eo().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Uo(e){return new Promise(((t,n)=>{var r,i,o;function a(){Fo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fo(),n(tr(e,"network-request-failed"))},timeout:Mo.get()})}if(null===(i=null===(r=eo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=eo().gapi)||void 0===o?void 0:o.load)){const t=hi("iframefcb");return eo()[t]=()=>{gapi.load?a():n(tr(e,"network-request-failed"))},di(`${ui.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Bo=null,e}))}let Bo=null;const Vo=new hr(5e3,15e3),zo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$o=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ho(e){const t=e.config;ar(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:On},i=$o.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ut(r).slice(1)}`}async function Go(e){const t=await function(e){return Bo=Bo||Uo(e),Bo}(e),n=eo().gapi;return ar(n,e,"internal-error"),t.open({where:document.body,url:Ho(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=tr(e,"network-request-failed"),o=eo().setTimeout((()=>{r(i)}),Vo.get());function a(){eo().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const qo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(BC){}}}function Ko(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},qo),{width:r.toString(),height:i.toString(),top:o,left:a}),c=et().toLowerCase();n&&(s=Yr(c)?"_blank":n),Kr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return ti(arguments.length>0&&void 0!==arguments[0]?arguments[0]:et())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Wo(null);const d=window.open(t||"",s,u);ar(d,e,"popup-blocked");try{d.focus()}catch(BC){}return new Wo(d)}const Qo="__/auth/handler",Yo="emulator/auth/handler",Jo=encodeURIComponent("fac");async function Xo(e,t,n,r,i,o){ar(e.config.authDomain,e,"auth-domain-config-required"),ar(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:On,eventId:i};if(t instanceof Ti){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Di){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Jo}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Qo}`;return fr(t,Yo)}(e)}?${ut(s).slice(1)}${c}`}const Zo="webStorageSupport";const ea=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yi,this._completeRedirectFn=To,this._overrideRedirectResult=_o}async _openPopup(e,t,n,r){var i;lr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ko(e,await Xo(e,t,n,cr(),r),Xi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){eo().location.href=e}(await Xo(e,t,n,cr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(lr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Go(e),n=new Do(e);return t.register("authEvent",(t=>{ar(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zo,{type:Zo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Zo];void 0!==i&&t(!!i),er(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ri()||Qr()||ti()}};var ta="@firebase/auth",na="1.7.9";class ra{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ar(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ia=Je("authIdTokenMaxAge")||300;let oa=null;var aa,sa;aa={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=tr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},ui=aa,sa="Browser",Tn(new vt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ar(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:sa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ii(sa)},c=new si(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Tn(new vt("auth-internal",(e=>(e=>new ra(e))(li(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Mn(ta,na,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(sa)),Mn(ta,na,"esm2017");var la,ca,ua="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},da={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ca=da.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},la=da.Integer=r}).apply("undefined"!==typeof ua?ua:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ha,fa,pa,ma,ga,va,ya,ba,wa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},xa={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof wa&&wa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _),(e=>e.reset()));class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,N=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},D=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){k(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}d(j,R);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),G={};function q(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(o=e.g[t],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):B(e)}}}function J(e){return e in G?G[e]:G[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;x(t=new R(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var we={},xe=null;function Ee(){return xe=xe||new ne}function ke(e){R.call(this,we.La,e)}function Se(e){const t=Ee();re(t,new ke(t))}function Ce(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function _e(e){const t=Ee();re(t,new Ce(t,e))}function Ie(e,t){R.call(this,we.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Te(){this.g=!0}function De(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(ke,R),we.STAT_EVENT="statevent",d(Ce,R),we.Ma="timingevent",d(Ie,R),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ae=new Oe;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=q(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function Ge(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Yt(n)}rn(n),_e(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(Ge(s),$e(s)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const h=Gt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||Se(),Ge(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=qt(this.g);e="";var o=r.length,a=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),qe(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,_e(12),We(this),qe(this);break e}De(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==Fe){4==h&&(this.s=4,_e(14),n=!1),De(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,_e(15),De(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}De(this.i,this.l,e,null),Ke(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),on(d),d.M=!0,_e(11))}}else De(this.i,this.l,s,"[Invalid Chunked Response]"),We(this),qe(this)}else De(this.i,this.l,s,null),Ke(this,s);4==h&&We(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),We(this),qe(this)}}}catch(Ea){}},je.prototype.cancel=function(){this.J=!0,We(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),_e(17)),We(this),this.s=2,qe(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){Et(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return Et(e),t=_t(e,t),e.g.has(t)}function Ct(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),h(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Nt(){this.g=new fe}function Tt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(BC){throw t.push(r+"type="+encodeURIComponent("_badmap")),BC}}function Dt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){Et(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,St(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Dt,pe),Dt.prototype.g=function(){return new At(this.l,this.j)},Dt.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Ot(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),$t(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Ft.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Gt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Vt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(BC){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ca){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new je(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Yt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Jt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||D(),N||(I(),N=!0),T.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Tt(s,e,"req"+n+"_")}catch(Ea){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||D(),N||(I(),N=!0),T.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Be(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Ie(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Te;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),dn(e),Jt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Dt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Bt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Bt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(jt(o)))+"&"+t:this.m&&Lt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),_e(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ba=xa.createWebChannelTransport=function(){return new mn},ya=xa.getStatEventTarget=function(){return Ee()},va=xa.Event=we,ga=xa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,ma=xa.ErrorCode=Pe,Re.COMPLETE="complete",pa=xa.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,fa=xa.WebChannel=ge,xa.FetchXmlHttpFactory=Dt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,ha=xa.XhrIo=Mt}).apply("undefined"!==typeof wa?wa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ea="@firebase/firestore";class ka{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ka.UNAUTHENTICATED=new ka(null),ka.GOOGLE_CREDENTIALS=new ka("google-credentials-uid"),ka.FIRST_PARTY=new ka("first-party-uid"),ka.MOCK_USER=new ka("mock-user");let Sa="10.14.0";const Ca=new Nt("@firebase/firestore");function _a(){return Ca.logLevel}function Ia(e){if(Ca.logLevel<=kt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Da);Ca.debug(`Firestore (${Sa}): ${e}`,...i)}}function Na(e){if(Ca.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Da);Ca.error(`Firestore (${Sa}): ${e}`,...i)}}function Ta(e){if(Ca.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Da);Ca.warn(`Firestore (${Sa}): ${e}`,...i)}}function Da(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Aa(){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Na(e),new Error(e)}function Pa(e,t){e||Aa()}function Ra(e,t){return e}const Oa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ja extends ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class La{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ma{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ka.UNAUTHENTICATED)))}shutdown(){}}class Ua{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ba{constructor(e){this.t=e,this.currentUser=ka.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pa(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new La;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new La,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Ia("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ia("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new La)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ia("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Pa("string"==typeof t.accessToken),new Ma(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pa(null===e||"string"==typeof e),new ka(e)}}class Va{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ka.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class za{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Va(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ka.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $a{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ha{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Pa(void 0===this.o);const n=e=>{null!=e.error&&Ia("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Ia("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ia("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ia("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Pa("string"==typeof e.token),this.R=e.token,new $a(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ga(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class qa{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ga(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Wa(e,t){return e<t?-1:e>t?1:0}function Ka(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Qa{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ja(Oa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ja(Oa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ja(Oa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ja(Oa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qa.fromMillis(Date.now())}static fromDate(e){return Qa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Qa(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wa(this.nanoseconds,e.nanoseconds):Wa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ya{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ya(e)}static min(){return new Ya(new Qa(0,0))}static max(){return new Ya(new Qa(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ja{constructor(e,t,n){void 0===t?t=0:t>e.length&&Aa(),void 0===n?n=e.length-t:n>e.length-t&&Aa(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ja.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ja?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xa extends Ja{construct(e,t,n){return new Xa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ja(Oa.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Xa(e)}static emptyPath(){return new Xa([])}}const Za=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class es extends Ja{construct(e,t,n){return new es(e,t,n)}static isValidIdentifier(e){return Za.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),es.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new es(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ja(Oa.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ja(Oa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ja(Oa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ja(Oa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new es(t)}static emptyPath(){return new es([])}}class ts{constructor(e){this.path=e}static fromPath(e){return new ts(Xa.fromString(e))}static fromName(e){return new ts(Xa.fromString(e).popFirst(5))}static empty(){return new ts(Xa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ts(new Xa(e.slice()))}}class ns{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ns.UNKNOWN_ID=-1;function rs(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ya.fromTimestamp(1e9===r?new Qa(n+1,0):new Qa(n,r));return new os(i,ts.empty(),t)}function is(e){return new os(e.readTime,e.key,-1)}class os{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new os(Ya.min(),ts.empty(),-1)}static max(){return new os(Ya.max(),ts.empty(),-1)}}function as(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ts.comparator(e.documentKey,t.documentKey),0!==n?n:Wa(e.largestBatchId,t.largestBatchId))}const ss="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ls{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cs(e){if(e.code!==Oa.FAILED_PRECONDITION||e.message!==ss)throw e;Ia("LocalStore","Unexpectedly lost primary lease")}class us{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Aa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new us(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof us?t:us.resolve(t)}catch(e){return us.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):us.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):us.reject(t)}static resolve(e){return new us(((t,n)=>{t(e)}))}static reject(e){return new us(((t,n)=>{n(e)}))}static waitFor(e){return new us(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=us.resolve(!1);for(const n of e)t=t.next((e=>e?us.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new us(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new us(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ds(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hs(e){return"IndexedDbTransactionError"===e.name}class fs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ps(e){return null==e}function ms(e){return 0===e&&1/e==-1/0}function gs(e){return"number"==typeof e&&Number.isInteger(e)&&!ms(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}fs.oe=-1;const vs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ys=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bs=ys,ws=[...bs,"indexConfiguration","indexState","indexEntries"];function xs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Es(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ks(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ss{constructor(e,t){this.comparator=e,this.root=t||_s.EMPTY}insert(e,t){return new Ss(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new Ss(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cs(this.root,e,this.comparator,!0)}}class Cs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_s.RED,this.left=null!=r?r:_s.EMPTY,this.right=null!=i?i:_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _s(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _s.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Aa();if(this.right.isRed())throw Aa();const e=this.left.check();if(e!==this.right.check())throw Aa();return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Aa()}get value(){throw Aa()}get color(){throw Aa()}get left(){throw Aa()}get right(){throw Aa()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _s(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Is{constructor(e){this.comparator=e,this.data=new Ss(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ns(this.data.getIterator())}getIteratorFrom(e){return new Ns(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Is))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Is(this.comparator);return t.data=e,t}}class Ns{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ts{constructor(e){this.fields=e,e.sort(es.comparator)}static empty(){return new Ts([])}unionWith(e){let t=new Is(es.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ds extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class As{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ds("Invalid base64 string: "+e):e}}(e);return new As(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new As(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}As.EMPTY_BYTE_STRING=new As("");const Ps=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(e){if(Pa(!!e),"string"==typeof e){let t=0;const n=Ps.exec(e);if(Pa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Os(e.seconds),nanos:Os(e.nanos)}}function Os(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function js(e){return"string"==typeof e?As.fromBase64String(e):As.fromUint8Array(e)}function Ls(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ms(e){const t=e.mapValue.fields.__previous_value__;return Ls(t)?Ms(t):t}function Fs(e){const t=Rs(e.mapValue.fields.__local_write_time__.timestampValue);return new Qa(t.seconds,t.nanos)}class Us{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Bs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bs&&e.projectId===this.projectId&&e.database===this.database}}const Vs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ls(e)?4:il(e)?9007199254740991:nl(e)?10:11:Aa()}function $s(e,t){if(e===t)return!0;const n=zs(e);if(n!==zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fs(e).isEqual(Fs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Rs(e.timestampValue),r=Rs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return js(e.bytesValue).isEqual(js(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Os(e.geoPointValue.latitude)===Os(t.geoPointValue.latitude)&&Os(e.geoPointValue.longitude)===Os(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Os(e.integerValue)===Os(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Os(e.doubleValue),r=Os(t.doubleValue);return n===r?ms(n)===ms(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ka(e.arrayValue.values||[],t.arrayValue.values||[],$s);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xs(n)!==xs(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$s(n[i],r[i])))return!1;return!0}(e,t);default:return Aa()}}function Hs(e,t){return void 0!==(e.values||[]).find((e=>$s(e,t)))}function Gs(e,t){if(e===t)return 0;const n=zs(e),r=zs(t);if(n!==r)return Wa(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wa(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Os(e.integerValue||e.doubleValue),r=Os(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qs(e.timestampValue,t.timestampValue);case 4:return qs(Fs(e),Fs(t));case 5:return Wa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=js(e),r=js(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Wa(n[i],r[i]);if(0!==e)return e}return Wa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Wa(Os(e.latitude),Os(t.latitude));return 0!==n?n:Wa(Os(e.longitude),Os(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ws(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=Wa((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Ws(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Vs.mapValue&&t===Vs.mapValue)return 0;if(e===Vs.mapValue)return 1;if(t===Vs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Wa(r[a],o[a]);if(0!==e)return e;const t=Gs(n[r[a]],i[o[a]]);if(0!==t)return t}return Wa(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Aa()}}function qs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wa(e,t);const n=Rs(e),r=Rs(t),i=Wa(n.seconds,r.seconds);return 0!==i?i:Wa(n.nanos,r.nanos)}function Ws(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Gs(n[i],r[i]);if(e)return e}return Wa(n.length,r.length)}function Ks(e){return Qs(e)}function Qs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Rs(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return js(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ts.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Qs(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Qs(e.fields[i])}`;return n+"}"}(e.mapValue):Aa()}function Ys(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Js(e){return!!e&&"integerValue"in e}function Xs(e){return!!e&&"arrayValue"in e}function Zs(e){return!!e&&"nullValue"in e}function el(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tl(e){return!!e&&"mapValue"in e}function nl(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Es(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=rl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=rl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function il(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ol{constructor(e){this.value=e}static empty(){return new ol({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!tl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(t)}setAll(e){let t=es.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=rl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());tl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];tl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Es(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ol(rl(this.value))}}function al(e){const t=[];return Es(e.fields,((e,n)=>{const r=new es([e]);if(tl(n)){const e=al(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ts(t)}class sl{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sl(e,0,Ya.min(),Ya.min(),Ya.min(),ol.empty(),0)}static newFoundDocument(e,t,n,r){return new sl(e,1,t,Ya.min(),n,r,0)}static newNoDocument(e,t){return new sl(e,2,t,Ya.min(),Ya.min(),ol.empty(),0)}static newUnknownDocument(e,t){return new sl(e,3,t,Ya.min(),Ya.min(),ol.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ya.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ol.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ol.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ya.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ll{constructor(e,t){this.position=e,this.inclusive=t}}function cl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ts.comparator(ts.fromName(a.referenceValue),n.key):Gs(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ul(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$s(e.position[n],t.position[n]))return!1;return!0}class dl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function hl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class fl{}class pl extends fl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new El(e,t,n):"array-contains"===t?new _l(e,n):"in"===t?new Il(e,n):"not-in"===t?new Nl(e,n):"array-contains-any"===t?new Tl(e,n):new pl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kl(e,n):new Sl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gs(t,this.value)):null!==t&&zs(this.value)===zs(t)&&this.matchesComparison(Gs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Aa()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ml extends fl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ml(e,t)}matches(e){return gl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gl(e){return"and"===e.op}function vl(e){return yl(e)&&gl(e)}function yl(e){for(const t of e.filters)if(t instanceof ml)return!1;return!0}function bl(e){if(e instanceof pl)return e.field.canonicalString()+e.op.toString()+Ks(e.value);if(vl(e))return e.filters.map((e=>bl(e))).join(",");{const t=e.filters.map((e=>bl(e))).join(",");return`${e.op}(${t})`}}function wl(e,t){return e instanceof pl?function(e,t){return t instanceof pl&&e.op===t.op&&e.field.isEqual(t.field)&&$s(e.value,t.value)}(e,t):e instanceof ml?function(e,t){return t instanceof ml&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&wl(n,t.filters[r])),!0)}(e,t):void Aa()}function xl(e){return e instanceof pl?function(e){return`${e.field.canonicalString()} ${e.op} ${Ks(e.value)}`}(e):e instanceof ml?function(e){return e.op.toString()+" {"+e.getFilters().map(xl).join(" ,")+"}"}(e):"Filter"}class El extends pl{constructor(e,t,n){super(e,t,n),this.key=ts.fromName(n.referenceValue)}matches(e){const t=ts.comparator(e.key,this.key);return this.matchesComparison(t)}}class kl extends pl{constructor(e,t){super(e,"in",t),this.keys=Cl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Sl extends pl{constructor(e,t){super(e,"not-in",t),this.keys=Cl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Cl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ts.fromName(e.referenceValue)))}class _l extends pl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xs(t)&&Hs(t.arrayValue,this.value)}}class Il extends pl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hs(this.value.arrayValue,t)}}class Nl extends pl{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hs(this.value.arrayValue,t)}}class Tl extends pl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xs(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Hs(this.value.arrayValue,e)))}}class Dl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Al(e){return new Dl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Pl(e){const t=Ra(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>bl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ps(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ks(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ks(e))).join(",")),t.ue=e}return t.ue}function Rl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ul(e.startAt,t.startAt)&&ul(e.endAt,t.endAt)}function Ol(e){return ts.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class jl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ll(e,t,n,r,i,o,a,s){return new jl(e,t,n,r,i,o,a,s)}function Ml(e){return new jl(e)}function Fl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ul(e){return null!==e.collectionGroup}function Bl(e){const t=Ra(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Is(es.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new dl(r,n))})),e.has(es.keyField().canonicalString())||t.ce.push(new dl(es.keyField(),n))}return t.ce}function Vl(e){const t=Ra(e);return t.le||(t.le=zl(t,Bl(e))),t.le}function zl(e,t){if("F"===e.limitType)return Al(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new dl(e.field,t)}));const n=e.endAt?new ll(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ll(e.startAt.position,e.startAt.inclusive):null;return Al(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $l(e,t){const n=e.filters.concat([t]);return new jl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hl(e,t,n){return new jl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gl(e,t){return Rl(Vl(e),Vl(t))&&e.limitType===t.limitType}function ql(e){return`${Pl(Vl(e))}|lt:${e.limitType}`}function Wl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>xl(e))).join(", ")}]`),ps(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ks(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ks(e))).join(",")),`Target(${t})`}(Vl(e))}; limitType=${e.limitType})`}function Kl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ts.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Bl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=cl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bl(e),t))&&!(e.endAt&&!function(e,t,n){const r=cl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bl(e),t))}(e,t)}function Ql(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Yl(e){return(t,n)=>{let r=!1;for(const i of Bl(e)){const e=Jl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Jl(e,t,n){const r=e.field.isKeyField()?ts.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gs(r,i):Aa()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Aa()}}class Xl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ks(this.inner)}size(){return this.innerSize}}const Zl=new Ss(ts.comparator);function ec(){return Zl}const tc=new Ss(ts.comparator);function nc(){let e=tc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function rc(e){let t=tc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ic(){return ac()}function oc(){return ac()}function ac(){return new Xl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const sc=new Ss(ts.comparator),lc=new Is(ts.comparator);function cc(){let e=lc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const uc=new Is(Wa);function dc(){return uc}function hc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ms(t)?"-0":t}}function fc(e){return{integerValue:""+e}}function pc(e,t){return gs(t)?fc(t):hc(e,t)}class mc{constructor(){this._=void 0}}function gc(e,t,n){return e instanceof bc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ls(t)&&(t=Ms(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wc?xc(e,t):e instanceof Ec?kc(e,t):function(e,t){const n=yc(e,t),r=Cc(n)+Cc(e.Pe);return Js(n)&&Js(e.Pe)?fc(r):hc(e.serializer,r)}(e,t)}function vc(e,t,n){return e instanceof wc?xc(e,t):e instanceof Ec?kc(e,t):n}function yc(e,t){return e instanceof Sc?function(e){return Js(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class bc extends mc{}class wc extends mc{constructor(e){super(),this.elements=e}}function xc(e,t){const n=_c(t);for(const r of e.elements)n.some((e=>$s(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ec extends mc{constructor(e){super(),this.elements=e}}function kc(e,t){let n=_c(t);for(const r of e.elements)n=n.filter((e=>!$s(e,r)));return{arrayValue:{values:n}}}class Sc extends mc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Cc(e){return Os(e.integerValue||e.doubleValue)}function _c(e){return Xs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ic{constructor(e,t){this.field=e,this.transform=t}}class Nc{constructor(e,t){this.version=e,this.transformResults=t}}class Tc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tc}static exists(e){return new Tc(void 0,e)}static updateTime(e){return new Tc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ac{}function Pc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zc(e.key,Tc.none()):new Mc(e.key,e.data,Tc.none());{const n=e.data,r=ol.empty();let i=new Is(es.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Fc(e.key,r,new Ts(i.toArray()),Tc.none())}}function Rc(e,t,n){e instanceof Mc?function(e,t,n){const r=e.value.clone(),i=Bc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Fc?function(e,t,n){if(!Dc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Bc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Uc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Oc(e,t,n,r){return e instanceof Mc?function(e,t,n,r){if(!Dc(e.precondition,t))return n;const i=e.value.clone(),o=Vc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Fc?function(e,t,n,r){if(!Dc(e.precondition,t))return n;const i=Vc(e.fieldTransforms,r,t),o=t.data;return o.setAll(Uc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Dc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function jc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=yc(r.transform,e||null);null!=i&&(null===n&&(n=ol.empty()),n.set(r.field,i))}return n||null}function Lc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ka(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wc&&t instanceof wc||e instanceof Ec&&t instanceof Ec?Ka(e.elements,t.elements,$s):e instanceof Sc&&t instanceof Sc?$s(e.Pe,t.Pe):e instanceof bc&&t instanceof bc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mc extends Ac{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fc extends Ac{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Uc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Bc(e,t,n){const r=new Map;Pa(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,vc(a,s,n[i]))}return r}function Vc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,gc(e,o,t))}return r}class zc extends Ac{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $c extends Ac{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Rc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Oc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Oc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=oc();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Pc(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Ya.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),cc())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,((e,t)=>Lc(e,t)))&&Ka(this.baseMutations,e.baseMutations,((e,t)=>Lc(e,t)))}}class Gc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Pa(e.mutations.length===n.length);let r=sc;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Gc(e,t,n,r)}}class qc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Kc,Qc;function Yc(e){switch(e){default:return Aa();case Oa.CANCELLED:case Oa.UNKNOWN:case Oa.DEADLINE_EXCEEDED:case Oa.RESOURCE_EXHAUSTED:case Oa.INTERNAL:case Oa.UNAVAILABLE:case Oa.UNAUTHENTICATED:return!1;case Oa.INVALID_ARGUMENT:case Oa.NOT_FOUND:case Oa.ALREADY_EXISTS:case Oa.PERMISSION_DENIED:case Oa.FAILED_PRECONDITION:case Oa.ABORTED:case Oa.OUT_OF_RANGE:case Oa.UNIMPLEMENTED:case Oa.DATA_LOSS:return!0}}function Jc(e){if(void 0===e)return Na("GRPC error has no .code"),Oa.UNKNOWN;switch(e){case Kc.OK:return Oa.OK;case Kc.CANCELLED:return Oa.CANCELLED;case Kc.UNKNOWN:return Oa.UNKNOWN;case Kc.DEADLINE_EXCEEDED:return Oa.DEADLINE_EXCEEDED;case Kc.RESOURCE_EXHAUSTED:return Oa.RESOURCE_EXHAUSTED;case Kc.INTERNAL:return Oa.INTERNAL;case Kc.UNAVAILABLE:return Oa.UNAVAILABLE;case Kc.UNAUTHENTICATED:return Oa.UNAUTHENTICATED;case Kc.INVALID_ARGUMENT:return Oa.INVALID_ARGUMENT;case Kc.NOT_FOUND:return Oa.NOT_FOUND;case Kc.ALREADY_EXISTS:return Oa.ALREADY_EXISTS;case Kc.PERMISSION_DENIED:return Oa.PERMISSION_DENIED;case Kc.FAILED_PRECONDITION:return Oa.FAILED_PRECONDITION;case Kc.ABORTED:return Oa.ABORTED;case Kc.OUT_OF_RANGE:return Oa.OUT_OF_RANGE;case Kc.UNIMPLEMENTED:return Oa.UNIMPLEMENTED;case Kc.DATA_LOSS:return Oa.DATA_LOSS;default:return Aa()}}(Qc=Kc||(Kc={}))[Qc.OK=0]="OK",Qc[Qc.CANCELLED=1]="CANCELLED",Qc[Qc.UNKNOWN=2]="UNKNOWN",Qc[Qc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qc[Qc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qc[Qc.NOT_FOUND=5]="NOT_FOUND",Qc[Qc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qc[Qc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qc[Qc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qc[Qc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qc[Qc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qc[Qc.ABORTED=10]="ABORTED",Qc[Qc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qc[Qc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qc[Qc.INTERNAL=13]="INTERNAL",Qc[Qc.UNAVAILABLE=14]="UNAVAILABLE",Qc[Qc.DATA_LOSS=15]="DATA_LOSS";let Xc=null;function Zc(){return new TextEncoder}const eu=new la([4294967295,4294967295],0);function tu(e){const t=Zc().encode(e),n=new ca;return n.update(t),new Uint8Array(n.digest())}function nu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new la([n,r],0),new la([i,o],0)]}class ru{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(n<0)throw new iu(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new iu(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=la.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(la.fromNumber(n)));return 1===r.compare(eu)&&(r=new la([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=tu(e),[n,r]=nu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ru(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=tu(e),[n,r]=nu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ou{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ou(Ya.min(),r,new Ss(Wa),ec(),cc())}}class au{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new au(n,t,cc(),cc(),cc())}}class su{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class lu{constructor(e,t){this.targetId=e,this.me=t}}class cu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:As.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class uu{constructor(){this.fe=0,this.ge=fu(),this.pe=As.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=cc(),t=cc(),n=cc();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Aa()}})),new au(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=fu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pa(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class du{constructor(e){this.Le=e,this.Be=new Map,this.ke=ec(),this.qe=hu(),this.Qe=new Ss(Wa)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Aa()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Ol(i))if(0===n){const e=new ts(i.path);this.Ue(t,e,sl.newNoDocument(e,Ya.min()))}else Pa(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Xc||Xc.et(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=js(n).toUint8Array()}catch(e){if(e instanceof Ds)return Ta("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ru(o,r,i)}catch(e){return Ta(e instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Ol(i.target)){const t=new ts(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,sl.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=cc();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new ou(e,t,this.Qe,this.ke,n);return this.ke=ec(),this.qe=hu(),this.Qe=new Ss(Wa),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new uu,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Is(Wa),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ia("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function hu(){return new Ss(ts.comparator)}function fu(){return new Ss(ts.comparator)}const pu={asc:"ASCENDING",desc:"DESCENDING"},mu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gu={and:"AND",or:"OR"};class vu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yu(e,t){return e.useProto3Json||ps(t)?t:{value:t}}function bu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xu(e,t){return bu(e,t.toTimestamp())}function Eu(e){return Pa(!!e),Ya.fromTimestamp(function(e){const t=Rs(e);return new Qa(t.seconds,t.nanos)}(e))}function ku(e,t){return Su(e,t).canonicalString()}function Su(e,t){const n=function(e){return new Xa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Cu(e){const t=Xa.fromString(e);return Pa(Gu(t)),t}function _u(e,t){return ku(e.databaseId,t.path)}function Iu(e,t){const n=Cu(t);if(n.get(1)!==e.databaseId.projectId)throw new ja(Oa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ja(Oa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ts(Au(n))}function Nu(e,t){return ku(e.databaseId,t)}function Tu(e){const t=Cu(e);return 4===t.length?Xa.emptyPath():Au(t)}function Du(e){return new Xa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Au(e){return Pa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Pu(e,t,n){return{name:_u(e,t),fields:n.value.mapValue.fields}}function Ru(e,t){let n;if(t instanceof Mc)n={update:Pu(e,t.key,t.value)};else if(t instanceof zc)n={delete:_u(e,t.key)};else if(t instanceof Fc)n={update:Pu(e,t.key,t.data),updateMask:Hu(t.fieldMask)};else{if(!(t instanceof $c))return Aa();n={verify:_u(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof bc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ec)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sc)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Aa()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Aa()}(e,t.precondition)),n}function Ou(e,t){return{documents:[Nu(e,t.path)]}}function ju(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nu(e,i);const o=function(e){if(0!==e.length)return $u(ml.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Vu(e.field),direction:Fu(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=yu(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Lu(e){let t=Tu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Mu(e);return t instanceof ml&&vl(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new dl(zu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,ps(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ll(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ll(n,t)}(n.endAt)),Ll(t,i,a,o,s,"F",l,c)}function Mu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zu(e.unaryFilter.field);return pl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=zu(e.unaryFilter.field);return pl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zu(e.unaryFilter.field);return pl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zu(e.unaryFilter.field);return pl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Aa()}}(e):void 0!==e.fieldFilter?function(e){return pl.create(zu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Aa()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ml.create(e.compositeFilter.filters.map((e=>Mu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Aa()}}(e.compositeFilter.op))}(e):Aa()}function Fu(e){return pu[e]}function Uu(e){return mu[e]}function Bu(e){return gu[e]}function Vu(e){return{fieldPath:e.canonicalString()}}function zu(e){return es.fromServerFormat(e.fieldPath)}function $u(e){return e instanceof pl?function(e){if("=="===e.op){if(el(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NAN"}};if(Zs(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(el(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NOT_NAN"}};if(Zs(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(e.field),op:Uu(e.op),value:e.value}}}(e):e instanceof ml?function(e){const t=e.getFilters().map((e=>$u(e)));return 1===t.length?t[0]:{compositeFilter:{op:Bu(e.op),filters:t}}}(e):Aa()}function Hu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Gu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class qu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ya.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ya.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:As.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new qu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wu{constructor(e){this.ct=e}}function Ku(e){const t=Lu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hl(t,t.limit,"L"):t}class Qu{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Os(e.integerValue));else if("doubleValue"in e){const n=Os(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),ms(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Rs(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(js(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?il(e)?this.dt(t,Number.MAX_SAFE_INTEGER):nl(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Aa()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Os(a)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),ts.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Qu.vt=new Qu;class Yu{constructor(){this.un=new Ju}addToCollectionParentIndex(e,t){return this.un.add(t),us.resolve()}getCollectionParents(e,t){return us.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return us.resolve()}deleteFieldIndex(e,t){return us.resolve()}deleteAllFieldIndexes(e){return us.resolve()}createTargetIndexes(e,t){return us.resolve()}getDocumentsMatchingTarget(e,t){return us.resolve(null)}getIndexType(e,t){return us.resolve(0)}getFieldIndexes(e,t){return us.resolve([])}getNextCollectionGroupToUpdate(e){return us.resolve(null)}getMinOffset(e,t){return us.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return us.resolve(os.min())}updateCollectionGroup(e,t,n){return us.resolve()}updateIndexEntries(e,t){return us.resolve()}}class Ju{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Is(Xa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Is(Xa.comparator)).toArray()}}new Uint8Array(0);class Xu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Xu(e,Xu.DEFAULT_COLLECTION_PERCENTILE,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Xu.DEFAULT_COLLECTION_PERCENTILE=10,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xu.DEFAULT=new Xu(41943040,Xu.DEFAULT_COLLECTION_PERCENTILE,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xu.DISABLED=new Xu(-1,0,0);class Zu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zu(0)}static kn(){return new Zu(-1)}}class ed{constructor(){this.changes=new Xl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?us.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class td{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Oc(n.mutation,e,Ts.empty(),Qa.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,cc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cc();const r=ic();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=nc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ic();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,cc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ec();const o=ac(),a=ac();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Fc)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Oc(a.mutation,t,a.mutation.getFieldMask(),Qa.now())):o.set(t.key,Ts.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new td(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ac();let r=new Ss(((e,t)=>e-t)),i=cc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Ts.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||cc()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=oc();l.forEach((e=>{if(!i.has(e)){const r=Pc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return us.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ts.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ul(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):us.resolve(ic());let a=-1,s=i;return o.next((t=>us.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?us.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,cc()))).next((e=>({batchId:a,changes:rc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ts(t)).next((e=>{let t=nc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=nc();return this.indexManager.getCollectionParents(e,i).next((a=>us.forEach(a,(a=>{const s=function(e,t){return new jl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,sl.newInvalidDocument(r)))}));let n=nc();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Oc(o.mutation,r,Ts.empty(),Qa.now()),Kl(t,r)&&(n=n.insert(e,r))})),n}))}}class rd{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return us.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Eu(e.createTime)}}(t)),us.resolve()}getNamedQuery(e,t){return us.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Ku(e.bundledQuery),readTime:Eu(e.readTime)}}(t)),us.resolve()}}class id{constructor(){this.overlays=new Ss(ts.comparator),this.Ir=new Map}getOverlay(e,t){return us.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ic();return us.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),us.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),us.resolve()}getOverlaysForCollection(e,t,n){const r=ic(),i=t.length+1,o=new ts(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return us.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ss(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ic(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ic(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return us.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qc(t,n));let i=this.Ir.get(t);void 0===i&&(i=cc(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class od{constructor(){this.sessionToken=As.EMPTY_BYTE_STRING}getSessionToken(e){return us.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,us.resolve()}}class ad{constructor(){this.Tr=new Is(sd.Er),this.dr=new Is(sd.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new sd(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new sd(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new ts(new Xa([])),n=new sd(t,e),r=new sd(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ts(new Xa([])),n=new sd(t,e),r=new sd(t,e+1);let i=cc();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new sd(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sd{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ts.comparator(e.key,t.key)||Wa(e.wr,t.wr)}static Ar(e,t){return Wa(e.wr,t.wr)||ts.comparator(e.key,t.key)}}class ld{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Is(sd.Er)}checkEmpty(e){return us.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hc(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new sd(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return us.resolve(o)}lookupMutationBatch(e,t){return us.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return us.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return us.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return us.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new sd(t,0),r=new sd(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),us.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Is(Wa);return t.forEach((e=>{const t=new sd(e,0),r=new sd(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),us.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ts.isDocumentKey(i)||(i=i.child(""));const o=new sd(new ts(i),0);let a=new Is(Wa);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),o),us.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Pa(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return us.forEach(t.mutations,(r=>{const i=new sd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new sd(t,0),r=this.br.firstAfterOrEqual(n);return us.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,us.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cd{constructor(e){this.Mr=e,this.docs=new Ss(ts.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return us.resolve(n?n.document.mutableCopy():sl.newInvalidDocument(t))}getEntries(e,t){let n=ec();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():sl.newInvalidDocument(e))})),us.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ec();const o=t.path,a=new ts(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||as(is(a),n)<=0||(r.has(a.key)||Kl(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return us.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Aa()}Or(e,t){return us.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ud(this)}getSize(e){return us.resolve(this.size)}}class ud extends ed{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),us.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class dd{constructor(e){this.persistence=e,this.Nr=new Xl((e=>Pl(e)),Rl),this.lastRemoteSnapshotVersion=Ya.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ad,this.targetCount=0,this.kr=Zu.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),us.resolve()}getLastRemoteSnapshotVersion(e){return us.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return us.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),us.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),us.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Zu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,us.resolve()}updateTargetData(e,t){return this.Kn(t),us.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,us.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),us.waitFor(i).next((()=>r))}getTargetCount(e){return us.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return us.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),us.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),us.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),us.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return us.resolve(n)}containsKey(e,t){return us.resolve(this.Br.containsKey(t))}}class hd{constructor(e,t){this.qr={},this.overlays={},this.Qr=new fs(0),this.Kr=!1,this.Kr=!0,this.$r=new od,this.referenceDelegate=e(this),this.Ur=new dd(this),this.indexManager=new Yu,this.remoteDocumentCache=function(e){return new cd(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Wu(t),this.Gr=new rd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new id,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new ld(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Ia("MemoryPersistence","Starting transaction:",e);const r=new fd(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return us.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class fd extends ls{constructor(e){super(),this.currentSequenceNumber=e}}class pd{constructor(e){this.persistence=e,this.Jr=new ad,this.Yr=null}static Zr(e){return new pd(e)}get Xr(){if(this.Yr)return this.Yr;throw Aa()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),us.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),us.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),us.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return us.forEach(this.Xr,(n=>{const r=ts.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Ya.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return us.or([()=>us.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class md{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=cc(),r=cc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new md(e,t.fromCache,n,r)}}class gd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=nt()?8:ds(et())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new gd;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(_a()<=kt.DEBUG&&Ia("QueryEngine","SDK will not create cache indexes for query:",Wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),us.resolve()):(_a()<=kt.DEBUG&&Ia("QueryEngine","Query:",Wl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(_a()<=kt.DEBUG&&Ia("QueryEngine","The SDK decides to create cache indexes for query:",Wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vl(t))):us.resolve())}Yi(e,t){if(Fl(t))return us.resolve(null);let n=Vl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Hl(t,null,"F"),n=Vl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=cc(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,Hl(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,r){return Fl(t)||r.isEqual(Ya.min())?us.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?us.resolve(null):(_a()<=kt.DEBUG&&Ia("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wl(t)),this.rs(e,o,t,rs(r,-1)).next((e=>e)))}))}ts(e,t){let n=new Is(Yl(e));return t.forEach(((t,r)=>{Kl(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return _a()<=kt.DEBUG&&Ia("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.Ji.getDocumentsMatchingQuery(e,t,os.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class yd{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Ss(Wa),this._s=new Xl((e=>Pl(e)),Rl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function bd(e,t,n,r){return new yd(e,t,n,r)}async function wd(e,t){const n=Ra(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=cc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function xd(e){const t=Ra(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Ed(e,t,n){let r=cc(),i=cc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ec();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ya.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ia("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Ps:r,Is:i}}))}function kd(e,t){const n=Ra(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Sd(e,t){const n=Ra(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,us.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new qu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function Cd(e,t,n){const r=Ra(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!hs(e))throw e;Ia("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function _d(e,t,n){const r=Ra(e);let i=Ya.min(),o=cc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ra(e),i=r._s.get(n);return void 0!==i?us.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Vl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Ya.min(),n?o:cc()))).next((e=>(Id(r,Ql(t),e),{documents:e,Ts:o})))))}function Id(e,t,n){let r=e.us.get(t)||Ya.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class Nd{constructor(){this.activeTargetIds=dc()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Td{constructor(){this.so=new Nd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Nd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dd{_o(e){}shutdown(){}}class Ad{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ia("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ia("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pd=null;function Rd(){return null===Pd?Pd=268435456+Math.round(2147483648*Math.random()):Pd++,"0x"+Pd.toString(16)}const Od={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jd{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ld="WebChannelConnection";class Md extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const o=Rd(),a=this.xo(e,t.toUriEncodedString());Ia("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then((t=>(Ia("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Ta("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Od[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Rd();return new Promise(((o,a)=>{const s=new ha;s.setWithCredentials(!0),s.listenOnce(pa.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case ma.NO_ERROR:const t=s.getResponseJson();Ia(Ld,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case ma.TIMEOUT:Ia(Ld,`RPC '${e}' ${i} timed out`),a(new ja(Oa.DEADLINE_EXCEEDED,"Request time out"));break;case ma.HTTP_ERROR:const n=s.getStatus();if(Ia(Ld,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Oa).indexOf(t)>=0?t:Oa.UNKNOWN}(t.status);a(new ja(e,t.message))}else a(new ja(Oa.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new ja(Oa.UNAVAILABLE,"Connection failed."));break;default:Aa()}}finally{Ia(Ld,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Ia(Ld,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=Rd(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ba(),a=ya(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Ia(Ld,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new jd({Io:t=>{h?Ia(Ld,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Ia(Ld,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Ia(Ld,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,fa.EventType.OPEN,(()=>{h||(Ia(Ld,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(u,fa.EventType.CLOSE,(()=>{h||(h=!0,Ia(Ld,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(u,fa.EventType.ERROR,(t=>{h||(h=!0,Ta(Ld,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new ja(Oa.UNAVAILABLE,"The operation could not be completed")))})),p(u,fa.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Pa(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Ia(Ld,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Kc[e];if(void 0!==t)return Jc(t)}(t),i=a.message;void 0===n&&(n=Oa.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new ja(n,i)),u.close()}else Ia(Ld,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(a,va.STAT_EVENT,(t=>{t.stat===ga.PROXY?Ia(Ld,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ga.NOPROXY&&Ia(Ld,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function Fd(){return"undefined"!=typeof document?document:null}function Ud(e){return new vu(e,!0)}class Bd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Ia("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Vd{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bd(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Oa.RESOURCE_EXHAUSTED?(Na(t.toString()),Na("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Oa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new ja(Oa.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ia("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(Ia("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zd extends Vd{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Aa()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Pa(void 0===t||"string"==typeof t),As.fromBase64String(t||"")):(Pa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),As.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Oa.UNKNOWN:Jc(e.code);return new ja(t,e.message||"")}(a);n=new cu(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Iu(e,r.document.name),o=Eu(r.document.updateTime),a=r.document.createTime?Eu(r.document.createTime):Ya.min(),s=new ol({mapValue:{fields:r.document.fields}}),l=sl.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new su(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Iu(e,r.document),o=r.readTime?Eu(r.readTime):Ya.min(),a=sl.newNoDocument(i,o),s=r.removedTargetIds||[];n=new su([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Iu(e,r.document),o=r.removedTargetIds||[];n=new su([],o,i,null)}else{if(!("filter"in t))return Aa();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Wc(r,i),a=e.targetId;n=new lu(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ya.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ya.min():t.readTime?Eu(t.readTime):Ya.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Du(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ol(r)?{documents:Ou(e,r)}:{query:ju(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=wu(e,t.resumeToken);const r=yu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ya.min())>0){n.readTime=bu(e,t.snapshotVersion.toTimestamp());const r=yu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Aa()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Du(this.serializer),t.removeTarget=e,this.a_(t)}}class $d extends Vd{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Pa(!!e.streamToken),this.lastStreamToken=e.streamToken,Pa(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Pa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Pa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Eu(e.updateTime):Eu(t);return n.isEqual(Ya.min())&&(n=Eu(t)),new Nc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Eu(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Du(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ru(this.serializer,e)))};this.a_(t)}}class Hd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ja(Oa.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Mo(e,Su(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Oa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ja(Oa.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Lo(e,Su(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Oa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ja(Oa.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Gd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Na(t),this.D_=!1):Ia("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class qd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{th(this)&&(Ia("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ra(e);t.L_.add(4),await Kd(t),t.q_.set("Unknown"),t.L_.delete(4),await Wd(t)}(this))}))})),this.q_=new Gd(n,r)}}async function Wd(e){if(th(e))for(const t of e.B_)await t(!0)}async function Kd(e){for(const t of e.B_)await t(!1)}function Qd(e,t){const n=Ra(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),eh(n)?Zd(n):wh(n).r_()&&Jd(n,t))}function Yd(e,t){const n=Ra(e),r=wh(n);n.N_.delete(t),r.r_()&&Xd(n,t),0===n.N_.size&&(r.r_()?r.o_():th(n)&&n.q_.set("Unknown"))}function Jd(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ya.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wh(e).A_(t)}function Xd(e,t){e.Q_.xe(t),wh(e).R_(t)}function Zd(e){e.Q_=new du({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),wh(e).start(),e.q_.v_()}function eh(e){return th(e)&&!wh(e).n_()&&e.N_.size>0}function th(e){return 0===Ra(e).L_.size}function nh(e){e.Q_=void 0}async function rh(e){e.q_.set("Online")}async function ih(e){e.N_.forEach(((t,n)=>{Jd(e,t)}))}async function oh(e,t){nh(e),eh(e)?(e.q_.M_(t),Zd(e)):e.q_.set("Unknown")}async function ah(e,t,n){if(e.q_.set("Online"),t instanceof cu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Ia("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sh(e,n)}else if(t instanceof su?e.Q_.Ke(t):t instanceof lu?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Ya.min()))try{const t=await xd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(As.EMPTY_BYTE_STRING,r.snapshotVersion)),Xd(e,t);const i=new qu(r.target,t,n,r.sequenceNumber);Jd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ia("RemoteStore","Failed to raise snapshot:",t),await sh(e,t)}}async function sh(e,t,n){if(!hs(t))throw t;e.L_.add(1),await Kd(e),e.q_.set("Offline"),n||(n=()=>xd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ia("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Wd(e)}))}function lh(e,t){return t().catch((n=>sh(e,n,t)))}async function ch(e){const t=Ra(e),n=xh(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;uh(t);)try{const e=await kd(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,dh(t,e)}catch(e){await sh(t,e)}hh(t)&&fh(t)}function uh(e){return th(e)&&e.O_.length<10}function dh(e,t){e.O_.push(t);const n=xh(e);n.r_()&&n.V_&&n.m_(t.mutations)}function hh(e){return th(e)&&!xh(e).n_()&&e.O_.length>0}function fh(e){xh(e).start()}async function ph(e){xh(e).p_()}async function mh(e){const t=xh(e);for(const n of e.O_)t.m_(n.mutations)}async function gh(e,t,n){const r=e.O_.shift(),i=Gc.from(r,t,n);await lh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ch(e)}async function vh(e,t){t&&xh(e).V_&&await async function(e,t){if(function(e){return Yc(e)&&e!==Oa.ABORTED}(t.code)){const n=e.O_.shift();xh(e).s_(),await lh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ch(e)}}(e,t),hh(e)&&fh(e)}async function yh(e,t){const n=Ra(e);n.asyncQueue.verifyOperationInProgress(),Ia("RemoteStore","RemoteStore received new credentials");const r=th(n);n.L_.add(3),await Kd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Wd(n)}async function bh(e,t){const n=Ra(e);t?(n.L_.delete(2),await Wd(n)):t||(n.L_.add(2),await Kd(n),n.q_.set("Unknown"))}function wh(e){return e.K_||(e.K_=function(e,t,n){const r=Ra(e);return r.w_(),new zd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:rh.bind(null,e),Ro:ih.bind(null,e),mo:oh.bind(null,e),d_:ah.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),eh(e)?Zd(e):e.q_.set("Unknown")):(await e.K_.stop(),nh(e))}))),e.K_}function xh(e){return e.U_||(e.U_=function(e,t,n){const r=Ra(e);return r.w_(),new $d(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ph.bind(null,e),mo:vh.bind(null,e),f_:mh.bind(null,e),g_:gh.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await ch(e)):(await e.U_.stop(),e.O_.length>0&&(Ia("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class Eh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Eh(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ja(Oa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kh(e,t){if(Na("AsyncQueue",`${t}: ${e}`),hs(e))return new ja(Oa.UNAVAILABLE,`${t}: ${e}`);throw e}class Sh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ts.comparator(t.key,n.key):(e,t)=>ts.comparator(e.key,t.key),this.keyedMap=nc(),this.sortedSet=new Ss(this.comparator)}static emptySet(e){return new Sh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Sh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ch{constructor(){this.W_=new Ss(ts.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Aa():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _h{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new _h(e,t,Sh.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ih{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Nh{constructor(){this.queries=Th(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Ra(e),r=n.queries;n.queries=Th(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new ja(Oa.ABORTED,"Firestore shutting down"))}}function Th(){return new Xl((e=>ql(e)),Gl)}async function Dh(e,t){const n=Ra(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new Ih,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=kh(e,`Initialization of query '${Wl(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&Oh(n)}async function Ah(e,t){const n=Ra(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ph(e,t){const n=Ra(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Oh(n)}function Rh(e,t,n){const r=Ra(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function Oh(e){e.Y_.forEach((e=>{e.next()}))}var jh,Lh;(Lh=jh||(jh={})).ea="default",Lh.Cache="cache";class Mh{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _h(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jh.Cache}}class Fh{constructor(e){this.key=e}}class Uh{constructor(e){this.key=e}}class Bh{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=cc(),this.mutatedKeys=cc(),this.Aa=Yl(e),this.Ra=new Sh(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Ch,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Kl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Aa()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new _h(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ch,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=cc(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Uh(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Fh(n))})),t}ba(e){this.Ta=e.Ts,this.da=cc();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return _h.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Vh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zh{constructor(e){this.key=e,this.va=!1}}class $h{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Xl((e=>ql(e)),Gl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ss(ts.comparator),this.Na=new Map,this.La=new ad,this.Ba={},this.ka=new Map,this.qa=Zu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Hh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=hf(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await qh(r,t,n,!0),i}async function Gh(e,t){const n=hf(e);await qh(n,t,!0,!1)}async function qh(e,t,n,r){const i=await Sd(e.localStore,Vl(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Wh(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Qd(e.remoteStore,i),s}async function Wh(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await _d(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return af(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await _d(e.localStore,t,!0),a=new Bh(t,o.Ts),s=a.ma(o.documents),l=au.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);af(e,n,c.wa);const u=new Vh(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Kh(e,t,n){const r=Ra(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((e=>!Gl(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yd(r.remoteStore,i.targetId),rf(r,i.targetId)})).catch(cs)):(rf(r,i.targetId),await Cd(r.localStore,i.targetId,!0))}async function Qh(e,t){const n=Ra(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yd(n.remoteStore,r.targetId))}async function Yh(e,t){const n=Ra(e);try{const e=await function(e,t){const n=Ra(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(As.EMPTY_BYTE_STRING,Ya.min()).withLastLimboFreeSnapshotVersion(Ya.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Ur.updateTargetData(e,c))}));let s=ec(),l=cc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Ed(e,o,t.documentUpdates).next((e=>{s=e.Ps,l=e.Is}))),!r.isEqual(Ya.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return us.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(Pa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Pa(r.va):e.removedDocuments.size>0&&(Pa(r.va),r.va=!1))})),await cf(n,e,t)}catch(e){await cs(e)}}function Jh(e,t,n){const r=Ra(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ra(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Oh(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Xh(e,t,n){const r=Ra(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new Ss(ts.comparator);e=e.insert(o,sl.newNoDocument(o,Ya.min()));const n=cc().add(o),i=new ou(Ya.min(),new Map,new Ss(Wa),e,n);await Yh(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),lf(r)}else await Cd(r.localStore,t,!1).then((()=>rf(r,t,n))).catch(cs)}async function Zh(e,t){const n=Ra(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ra(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=us.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Pa(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);nf(n,r,null),tf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cf(n,e)}catch(e){await cs(e)}}async function ef(e,t,n){const r=Ra(e);try{const e=await function(e,t){const n=Ra(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Pa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);nf(r,t,n),tf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cf(r,e)}catch(n){await cs(n)}}function tf(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function nf(e,t,n){const r=Ra(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function rf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||of(e,t)}))}function of(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Yd(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),lf(e))}function af(e,t,n){for(const r of n)r instanceof Fh?(e.La.addReference(r.key,t),sf(e,r)):r instanceof Uh?(Ia("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||of(e,r.key)):Aa()}function sf(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Ia("SyncEngine","New document in limbo: "+n),e.xa.add(r),lf(e))}function lf(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ts(Xa.fromString(t)),r=e.qa.next();e.Na.set(r,new zh(n)),e.Oa=e.Oa.insert(n,r),Qd(e.remoteStore,new qu(Vl(Ml(n.path)),r,"TargetPurposeLimboResolution",fs.oe))}}async function cf(e,t,n){const r=Ra(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,s)=>{a.push(r.Ka(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=md.Wi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Ra(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>us.forEach(t,(t=>us.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>us.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!hs(e))throw e;Ia("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function uf(e,t){const n=Ra(e);if(!n.currentUser.isEqual(t)){Ia("SyncEngine","User change. New user:",t.toKey());const e=await wd(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new ja(Oa.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cf(n,e.hs)}}function df(e,t){const n=Ra(e),r=n.Na.get(t);if(r&&r.va)return cc().add(r.key);{let e=cc();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function hf(e){const t=Ra(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=df.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xh.bind(null,t),t.Ca.d_=Ph.bind(null,t.eventManager),t.Ca.$a=Rh.bind(null,t.eventManager),t}function ff(e){const t=Ra(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ef.bind(null,t),t}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return bd(this.persistence,new vd,e.initialUser,this.serializer)}Ga(e){return new hd(pd.Zr,this.serializer)}Wa(e){return new Td}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class mf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Jh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=uf.bind(null,this.syncEngine),await bh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Nh}createDatastore(e){const t=Ud(e.databaseInfo.databaseId),n=function(e){return new Md(e)}(e.databaseInfo);return function(e,t,n,r){return new Hd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Jh(this.syncEngine,e,0)),Ad.D()?new Ad:new Dd)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new $h(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ra(e);Ia("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Kd(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}mf.provider={build:()=>new mf};class gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Na("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class vf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ka.UNAUTHENTICATED,this.clientId=qa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Ia("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ia("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=kh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function yf(e,t){e.asyncQueue.verifyOperationInProgress(),Ia("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await wd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function bf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wf(e);Ia("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>yh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>yh(t.remoteStore,n))),e._onlineComponents=t}async function wf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ia("FirestoreClient","Using user provided OfflineComponentProvider");try{await yf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Oa.FAILED_PRECONDITION||e.code===Oa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await yf(e,new pf)}}else Ia("FirestoreClient","Using default OfflineComponentProvider"),await yf(e,new pf);return e._offlineComponents}async function xf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ia("FirestoreClient","Using user provided OnlineComponentProvider"),await bf(e,e._uninitializedComponentsProvider._online)):(Ia("FirestoreClient","Using default OnlineComponentProvider"),await bf(e,new mf))),e._onlineComponents}function Ef(e){return xf(e).then((e=>e.syncEngine))}async function kf(e){const t=await xf(e),n=t.eventManager;return n.onListen=Hh.bind(null,t.syncEngine),n.onUnlisten=Kh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Qh.bind(null,t.syncEngine),n}function Sf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new La;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new gf({next:s=>{o.Za(),t.enqueueAndForget((()=>Ah(e,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new ja(Oa.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new ja(Oa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Mh(Ml(n.path),o,{includeMetadataChanges:!0,_a:!0});return Dh(e,a)}(await kf(e),e.asyncQueue,t,n,r))),r.promise}function Cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new La;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new gf({next:n=>{o.Za(),t.enqueueAndForget((()=>Ah(e,a))),n.fromCache&&"server"===r.source?i.reject(new ja(Oa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Mh(n,o,{includeMetadataChanges:!0,_a:!0});return Dh(e,a)}(await kf(e),e.asyncQueue,t,n,r))),r.promise}function _f(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const If=new Map;function Nf(e,t,n){if(!n)throw new ja(Oa.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Tf(e){if(!ts.isDocumentKey(e))throw new ja(Oa.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Df(e){if(ts.isDocumentKey(e))throw new ja(Oa.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Af(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Aa()}function Pf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ja(Oa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(e);throw new ja(Oa.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Rf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ja(Oa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ja(Oa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ja(Oa.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_f(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ja(Oa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ja(Oa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ja(Oa.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ja(Oa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ja(Oa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fa;switch(e.type){case"firstParty":return new za(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ja(Oa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=If.get(e);t&&(Ia("ComponentProvider","Removing Datastore"),If.delete(e),t.terminate())}(this),Promise.resolve()}}class jf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jf(this.firestore,e,this._query)}}class Lf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lf(this.firestore,e,this._key)}}class Mf extends jf{constructor(e,t,n){super(e,t,Ml(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lf(this.firestore,null,new ts(e))}withConverter(e){return new Mf(this.firestore,e,this._path)}}function Ff(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),Nf("collection","path",t),e instanceof Of){const n=Xa.fromString(t,...r);return Df(n),new Mf(e,null,n)}{if(!(e instanceof Lf||e instanceof Mf))throw new ja(Oa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xa.fromString(t,...r));return Df(n),new Mf(e.firestore,null,n)}}function Uf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),1===arguments.length&&(t=qa.newId()),Nf("doc","path",t),e instanceof Of){const n=Xa.fromString(t,...r);return Tf(n),new Lf(e,null,new ts(n))}{if(!(e instanceof Lf||e instanceof Mf))throw new ja(Oa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xa.fromString(t,...r));return Tf(n),new Lf(e.firestore,e instanceof Mf?e.converter:null,new ts(n))}}class Bf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bd(this,"async_queue_retry"),this.Vu=()=>{const e=Fd();e&&Ia("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Fd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Fd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new La;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(BC){if(!hs(BC))throw BC;Ia("AsyncQueue","Operation failed with retryable error: "+BC)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Na("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Eh.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&Aa()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Vf extends Of{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Bf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bf(e),this._firestoreClient=void 0,await e}}}function zf(e){if(e._terminated)throw new ja(Oa.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||$f(e),e._firestoreClient}function $f(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Us(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_f(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new vf(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Hf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hf(As.fromBase64String(e))}catch(e){throw new ja(Oa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hf(As.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ja(Oa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new es(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qf{constructor(e){this._methodName=e}}class Wf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ja(Oa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ja(Oa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wa(this._lat,e._lat)||Wa(this._long,e._long)}}class Kf{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Qf=/^__.*__$/;class Yf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Fc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mc(e,this.data,t,this.fieldTransforms)}}class Jf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Fc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Aa()}}class Zf{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Xf(this.Cu)&&Qf.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ep{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ud(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Zf({Cu:e,methodName:t,qu:n,path:es.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(e){const t=e._freezeSettings(),n=Ud(e._databaseId);return new ep(e._databaseId,!!t.ignoreUndefinedProperties,n)}function np(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);dp("Data must be an object, but it was:",a,r);const s=cp(r,a);let l,c;if(o.merge)l=new Ts(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=hp(t,r,n);if(!a.contains(i))throw new ja(Oa.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);gp(e,i)||e.push(i)}l=new Ts(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Yf(new ol(s),l,c)}class rp extends qf{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rp}}class ip extends qf{_toFieldTransform(e){return new Ic(e.path,new bc)}isEqual(e){return e instanceof ip}}function op(e,t,n,r){const i=e.Qu(1,t,n);dp("Data must be an object, but it was:",i,r);const o=[],a=ol.empty();Es(r,((e,r)=>{const s=pp(t,e,n);r=gt(r);const l=i.Nu(s);if(r instanceof rp)o.push(s);else{const e=lp(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Ts(o);return new Jf(a,s,i.fieldTransforms)}function ap(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[hp(t,r,n)],l=[i];if(o.length%2!=0)throw new ja(Oa.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(hp(t,o[h])),l.push(o[h+1]);const c=[],u=ol.empty();for(let h=s.length-1;h>=0;--h)if(!gp(c,s[h])){const e=s[h];let t=l[h];t=gt(t);const n=a.Nu(e);if(t instanceof rp)c.push(e);else{const r=lp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ts(c);return new Jf(u,d,a.fieldTransforms)}function sp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lp(n,e.Qu(r?4:3,t))}function lp(e,t){if(up(e=gt(e)))return dp("Unsupported field value:",t,e),cp(e,t);if(e instanceof qf)return function(e,t){if(!Xf(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=lp(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=gt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qa.fromDate(e);return{timestampValue:bu(t.serializer,n)}}if(e instanceof Qa){const n=new Qa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bu(t.serializer,n)}}if(e instanceof Wf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hf)return{bytesValue:wu(t.serializer,e._byteString)};if(e instanceof Lf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ku(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Kf)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return hc(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${Af(e)}`)}(e,t)}function cp(e,t){const n={};return ks(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Es(e,((e,r)=>{const i=lp(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function up(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qa||e instanceof Wf||e instanceof Hf||e instanceof Lf||e instanceof qf||e instanceof Kf)}function dp(e,t,n){if(!up(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Af(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function hp(e,t,n){if((t=gt(t))instanceof Gf)return t._internalPath;if("string"==typeof t)return pp(e,t);throw mp("Field path arguments must be of type string or ",e,!1,void 0,n)}const fp=new RegExp("[~\\*/\\[\\]]");function pp(e,t,n){if(t.search(fp)>=0)throw mp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Gf(...t.split("."))._internalPath}catch(r){throw mp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function mp(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ja(Oa.INVALID_ARGUMENT,s+e+l)}function gp(e,t){return e.some((e=>e.isEqual(t)))}class vp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Lf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yp extends vp{data(){return super.data()}}function bp(e,t){return"string"==typeof t?pp(e,t):t instanceof Gf?t._internalPath:t._delegate._internalPath}function wp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ja(Oa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Ep extends xp{}function kp(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof xp&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof _p)).length,n=e.filter((e=>e instanceof Sp)).length;if(t>1||t>0&&n>0)throw new ja(Oa.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Sp extends Ep{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Sp(e,t,n)}_apply(e){const t=this._parse(e);return Ap(e._query,t),new jf(e.firestore,e.converter,$l(e._query,t))}_parse(e){const t=tp(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ja(Oa.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Dp(a,o);const t=[];for(const n of a)t.push(Tp(r,e,n));s={arrayValue:{values:t}}}else s=Tp(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Dp(a,o),s=sp(n,t,a,"in"===o||"not-in"===o);return pl.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Cp(e,t,n){const r=t,i=bp("where",e);return Sp._create(i,r,n)}class _p extends xp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _p(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ml.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ap(n,i),n=$l(n,i)}(e._query,t),new jf(e.firestore,e.converter,$l(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ip extends Ep{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ip(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ja(Oa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ja(Oa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dl(t,n)}(e._query,this._field,this._direction);return new jf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new jl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Np(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bp("orderBy",e);return Ip._create(n,t)}function Tp(e,t,n){if("string"==typeof(n=gt(n))){if(""===n)throw new ja(Oa.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ul(t)&&-1!==n.indexOf("/"))throw new ja(Oa.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Xa.fromString(n));if(!ts.isDocumentKey(r))throw new ja(Oa.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ys(e,new ts(r))}if(n instanceof Lf)return Ys(e,n._key);throw new ja(Oa.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function Dp(e,t){if(!Array.isArray(e)||0===e.length)throw new ja(Oa.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ap(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ja(Oa.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ja(Oa.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Pp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Os(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Aa()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Es(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Os(e.doubleValue)));return new Kf(i)}convertGeoPoint(e){return new Wf(Os(e.latitude),Os(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ms(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fs(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new Qa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xa.fromString(e);Pa(Gu(n));const r=new Bs(n.get(1),n.get(3)),i=new ts(n.popFirst(5));return r.isEqual(t)||Na(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Rp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Op{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jp extends vp{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Lp extends jp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Mp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Op(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Lp(this._firestore,this._userDataWriter,n.key,n,new Op(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ja(Oa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Lp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Op(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Lp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Op(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Fp(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Fp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Aa()}}function Up(e){e=Pf(e,Lf);const t=Pf(e.firestore,Vf);return Sf(zf(t),e._key).then((n=>Wp(t,e,n)))}class Bp extends Pp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lf(this.firestore,null,t)}}function Vp(e){e=Pf(e,jf);const t=Pf(e.firestore,Vf),n=zf(t),r=new Bp(t);return wp(e._query),Cf(n,e._query).then((n=>new Mp(t,r,e,n)))}function zp(e,t,n){e=Pf(e,Lf);const r=Pf(e.firestore,Vf),i=Rp(e.converter,t,n);return qp(r,[np(tp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Tc.none())])}function $p(e,t,n){e=Pf(e,Lf);const r=Pf(e.firestore,Vf),i=tp(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=gt(t))||t instanceof Gf?ap(i,"updateDoc",e._key,t,n,s):op(i,"updateDoc",e._key,t),qp(r,[o.toMutation(e._key,Tc.exists(!0))])}function Hp(e){return qp(Pf(e.firestore,Vf),[new zc(e._key,Tc.none())])}function Gp(e,t){const n=Pf(e.firestore,Vf),r=Uf(e),i=Rp(e.converter,t);return qp(n,[np(tp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Tc.exists(!1))]).then((()=>r))}function qp(e,t){return function(e,t){const n=new La;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ff(e);try{const e=await function(e,t){const n=Ra(e),r=Qa.now(),i=t.reduce(((e,t)=>e.add(t.key)),cc());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=ec(),l=cc();return n.cs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=jc(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Fc(e.key,t,al(t.value.mapValue),Tc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:rc(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Ss(Wa)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await cf(r,e.changes),await ch(r.remoteStore)}catch(e){const t=kh(e,"Failed to persist write");n.reject(t)}}(await Ef(e),t,n))),n.promise}(zf(e),t)}function Wp(e,t,n){const r=n.docs.get(t._key),i=new Bp(e);return new jp(e,i,t._key,r,new Op(n.hasPendingWrites,n.fromCache),t.converter)}function Kp(){return new ip("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sa=e}(On),Tn(new vt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Vf(new Ba(e.getProvider("auth-internal")),new Ha(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ja(Oa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bs(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Mn(Ea,"4.7.3",e),Mn(Ea,"4.7.3","esm2017")}();Mn("firebase","10.14.1","app");const Qp="firebasestorage.googleapis.com",Yp="storageBucket";class Jp extends ot{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(em(e),`Firebase Storage: ${t} (${em(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jp.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xp,Zp;function em(e){return"storage/"+e}function tm(){return new Jp(Xp.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function nm(){return new Jp(Xp.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rm(){return new Jp(Xp.CANCELED,"User canceled the upload/download.")}function im(e){return new Jp(Xp.INVALID_ARGUMENT,e)}function om(){return new Jp(Xp.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Xp||(Xp={}));class am{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=am.makeFromUrl(e,t)}catch(BC){return new am(e,"")}if(""===n.path)return n;throw r=e,new Jp(Xp.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===Qp?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new am(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Jp(Xp.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class sm{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function lm(e,t,n,r){if(r<t)throw im(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw im(`Invalid value for '${e}'. Expected ${n} or less.`)}function cm(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function um(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Zp||(Zp={}));class dm{constructor(e,t,n,r,i,o,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new hm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Zp.NO_ERROR,i=n.getStatus();if(!t||um(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Zp.ABORT;return void e(!1,new hm(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new hm(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(BC){r(BC)}else if(null!==i){const e=tm();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?om():rm())}else{r(nm())}};this.canceled_?t(0,new hm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function fm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class pm{constructor(e,t){this._service=e,this._location=t instanceof am?t:am.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new pm(e,t)}get root(){const e=new am(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new am(this._location.bucket,e);return new pm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Jp(Xp.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function mm(e,t){const n=null===t||void 0===t?void 0:t[Yp];return null==n?null:am.makeFromBucketSpec(n,e)}class gm{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Qp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?am.makeFromBucketSpec(r,this._host):mm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=am.makeFromBucketSpec(this._url,e):this._bucket=mm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pm(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new sm(om());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=cm(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new dm(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const vm="@firebase/storage",ym="0.13.2",bm="storage";function wm(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new gm(r,i,o,n,On)}Tn(new vt(bm,wm,"PUBLIC").setMultipleInstances(!0)),Mn(vm,ym,""),Mn(vm,ym,"esm2017");const xm="@firebase/installations",Em="0.6.9",km=1e4,Sm=`w:${Em}`,Cm="FIS_v2",_m=36e5,Im=new at("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nm(e){return e instanceof ot&&e.code.includes("request-failed")}function Tm(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Dm(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Am(e,t){const n=(await t.json()).error;return Im.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Pm(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Rm(e,t){let{refreshToken:n}=t;const r=Pm(e);return r.append("Authorization",function(e){return`${Cm} ${e}`}(n)),r}async function Om(e){const t=await e();return t.status>=500&&t.status<600?e():t}function jm(e){return new Promise((t=>{setTimeout(t,e)}))}const Lm=/^[cdef][\w-]{21}$/;function Mm(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Lm.test(t)?t:""}catch(e){return""}}function Fm(e){return`${e.appName}!${e.appId}`}const Um=new Map;function Bm(e,t){const n=Fm(e);Vm(n,t),function(e,t){const n=$m();n&&n.postMessage({key:e,fid:t});Hm()}(n,t)}function Vm(e,t){const n=Um.get(e);if(n)for(const r of n)r(t)}let zm=null;function $m(){return!zm&&"BroadcastChannel"in self&&(zm=new BroadcastChannel("[Firebase] FID Change"),zm.onmessage=e=>{Vm(e.data.key,e.data.fid)}),zm}function Hm(){0===Um.size&&zm&&(zm.close(),zm=null)}const Gm="firebase-installations-store";let qm=null;function Wm(){return qm||(qm=Vt("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Gm)}})),qm}async function Km(e,t){const n=Fm(e),r=(await Wm()).transaction(Gm,"readwrite"),i=r.objectStore(Gm),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Bm(e,t.fid),t}async function Qm(e){const t=Fm(e),n=(await Wm()).transaction(Gm,"readwrite");await n.objectStore(Gm).delete(t),await n.done}async function Ym(e,t){const n=Fm(e),r=(await Wm()).transaction(Gm,"readwrite"),i=r.objectStore(Gm),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||Bm(e,a.fid),a}async function Jm(e){let t;const n=await Ym(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Mm(),registrationStatus:0};return eg(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Im.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Tm(n),a=Pm(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Cm,appId:n.appId,sdkVersion:Sm},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Om((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Dm(e.authToken)}}throw await Am("Create Installation",u)}(e,t);return Km(e.appConfig,n)}catch(BC){throw Nm(BC)&&409===BC.customData.serverCode?await Qm(e.appConfig):await Km(e.appConfig,{fid:t.fid,registrationStatus:0}),BC}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Xm(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Xm(e){let t=await Zm(e.appConfig);for(;1===t.registrationStatus;)await jm(100),t=await Zm(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Jm(e);return n||t}return t}function Zm(e){return Ym(e,(e=>{if(!e)throw Im.create("installation-not-found");return eg(e)}))}function eg(e){return 1===(t=e).registrationStatus&&t.registrationTime+km<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function tg(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Tm(e)}/${n}/authTokens:generate`}(n,t),o=Rm(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:Sm,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await Om((()=>fetch(i,l)));if(c.ok){return Dm(await c.json())}throw await Am("Generate Auth Token",c)}async function ng(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Ym(e.appConfig,(r=>{if(!ig(r))throw Im.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+_m}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await rg(e.appConfig);for(;1===n.authToken.requestStatus;)await jm(100),n=await rg(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ng(e,t):r}(e,n),r;{if(!navigator.onLine)throw Im.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await tg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Km(e.appConfig,r),n}catch(BC){if(!Nm(BC)||401!==BC.customData.serverCode&&404!==BC.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Km(e.appConfig,n)}else await Qm(e.appConfig);throw BC}}(e,n),n}}));return t?await t:r.authToken}function rg(e){return Ym(e,(e=>{if(!ig(e))throw Im.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+km<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function ig(e){return void 0!==e&&2===e.registrationStatus}async function og(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Jm(e);t&&await t}(n);return(await ng(n,t)).token}function ag(e){return Im.create("missing-app-config-values",{valueName:e})}const sg="installations",lg=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ag("App Configuration");if(!e.name)throw ag("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ag(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Dn(t,"heartbeat"),_delete:()=>Promise.resolve()}},cg=e=>{const t=Dn(e.getProvider("app").getImmediate(),sg).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Jm(t);return r?r.catch(console.error):ng(t).catch(console.error),n.fid}(t),getToken:e=>og(t,e)}};Tn(new vt(sg,lg,"PUBLIC")),Tn(new vt("installations-internal",cg,"PRIVATE")),Mn(xm,Em),Mn(xm,Em,"esm2017");const ug="analytics",dg="https://www.googletagmanager.com/gtag/js",hg=new Nt("@firebase/analytics"),fg=new at("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function pg(e){if(!e.startsWith(dg)){const t=fg.create("invalid-gtag-resource",{gtagURL:e});return hg.warn(t.message),""}return e}function mg(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function gg(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:pg}),r=document.createElement("script"),i=`${dg}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function vg(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await mg(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(BC){hg.error(BC)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await mg(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(BC){hg.error(BC)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(BC){hg.error(BC)}}}const yg=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function bg(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function wg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yg,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw fg.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw fg.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Eg;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),xg({appId:r,apiKey:i,measurementId:o},a,s,t)}async function xg(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yg;var a;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(fg.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(BC){if(l)return hg.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===BC||void 0===BC?void 0:BC.message}]`),{appId:s,measurementId:l};throw BC}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:bg(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw fg.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return o.deleteThrottleMetadata(s),t}catch(BC){const r=BC;if(!function(e){if(!(e instanceof ot)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(s),l)return hg.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:s,measurementId:l};throw BC}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?mt(i,o.intervalMillis,30):mt(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(s,u),hg.debug(`Calling attemptFetch again in ${c} millis`),xg(e,u,n,o)}}class Eg{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let kg,Sg;function Cg(e){Sg=e}function _g(e){kg=e}async function Ig(e,t,n,r,i,o,a){var s;const l=wg(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&hg.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>hg.error(e))),t.push(l);const c=async function(){if(!rt())return hg.warn(fg.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await it()}catch(BC){return hg.warn(fg.create("indexeddb-unavailable",{errorInfo:null===BC||void 0===BC?void 0:BC.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(dg)&&n.src.includes(e))return n;return null})(o)||gg(o,u.measurementId),Sg&&(i("consent","default",Sg),Cg(void 0)),i("js",new Date);const h=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),kg&&(i("set",kg),_g(void 0)),u.measurementId}class Ng{constructor(e){this.app=e}_delete(){return delete Tg[this.app.options.appId],Promise.resolve()}}let Tg={},Dg=[];const Ag={};let Pg,Rg,Og="dataLayer",jg="gtag",Lg=!1;function Mg(){const e=[];if(tt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=fg.create("invalid-analytics-context",{errorInfo:t});hg.warn(n.message)}}function Fg(e,t,n){Mg();const r=e.options.appId;if(!r)throw fg.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw fg.create("no-api-key");hg.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tg[r])throw fg.create("already-exists",{id:r});if(!Lg){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Og);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=vg(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Tg,Dg,Ag,Og,jg);Rg=e,Pg=t,Lg=!0}Tg[r]=Ig(e,Dg,Ag,t,Pg,Og,n);return new Ng(e)}function Ug(e,t,n,r){e=gt(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Rg,Tg[e.app.options.appId],t,n,r).catch((e=>hg.error(e)))}const Bg="@firebase/analytics",Vg="0.10.8";Tn(new vt(ug,((e,t)=>{let{options:n}=t;return Fg(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Tn(new vt("analytics-internal",(function(e){try{const t=e.getProvider(ug).getImmediate();return{logEvent:(e,n,r)=>Ug(t,e,n,r)}}catch(BC){throw fg.create("interop-component-reg-failed",{reason:BC})}}),"PRIVATE")),Mn(Bg,Vg),Mn(Bg,Vg,"esm2017");const zg=jn({apiKey:"AIzaSyDvXjsWizQnnihwItdKCl8mHyeSg5ufM94",authDomain:"lock-the-effin.firebaseapp.com",projectId:"lock-the-effin",storageBucket:"lock-the-effin.appspot.com",messagingSenderId:"1043643092661",appId:"1:1043643092661:web:12033c56cff59e6b6038fc",measurementId:"G-KY8Q5YS4ZY"}),$g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln();const t=Dn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Dn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(lt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;er(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ea,persistence:[ho,Ki,Yi]}),r=Je("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ia)return;const r=null===t||void 0===t?void 0:t.token;oa!==r&&(oa=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){gt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){gt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Ke("auth");return o&&gi(n,`http://${o}`),n}(zg),Hg=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Dn("object"==typeof e?e:Ln(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Qe("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Pf(e,Of))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ka.MOCK_USER;else{t=Ze(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ja(Oa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ka(o)}e._authCredentials=new Ua(new Ma(t,n))}}(r,...e)}return r}(zg),Gg=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln(),t=arguments.length>1?arguments[1]:void 0;e=gt(e);const n=Dn(e,bm).getImmediate({identifier:t}),r=Qe("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ze(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(zg),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln();e=gt(e);const t=Dn(e,ug);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Dn(e,ug);if(n.isInitialized()){const e=n.getImmediate();if(lt(t,n.getOptions()))return e;throw fg.create("already-initialized")}const r=n.initialize({options:t})}(e)}(zg),new Pi),qg=Be(((e,t)=>({user:null,profile:null,loading:!0,error:null,initialized:!1,register:async function(t,n,r){try{e({loading:!0,error:null});const i=await async function(e,t,n){if(An(e.app))return Promise.reject(rr(e));const r=li(e),i=mi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ji),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Hi(e),t})),a=await Li._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}($g,t,n),o=i.user,a={uid:o.uid,email:o.email,displayName:r,photoURL:o.photoURL,createdAt:new Date,theme:"light"};await zp(Uf(Hg,"users",o.uid),a),e({loading:!1})}catch(i){e({error:i.message,loading:!1})}},login:async function(t,n){try{e({loading:!0,error:null}),await function(e,t,n){return An(e.app)?Promise.reject(rr(e)):$i(gt(e),Ni.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Hi(e),t}))}($g,t,n),e({loading:!1})}catch(r){e({error:r.message,loading:!1})}},loginWithGoogle:async function(){try{e({loading:!0,error:null});const t=await async function(e,t,n){if(An(e.app))return Promise.reject(tr(e,"operation-not-supported-in-this-environment"));const r=li(e);ir(e,t,Ti);const i=go(r,n);return new ko(r,"signInViaPopup",t,i).executeNotNull()}($g,Gg),n=t.user;if(!(await Up(Uf(Hg,"users",n.uid))).exists()){const e={uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,createdAt:new Date,theme:"light"};await zp(Uf(Hg,"users",n.uid),e)}e({loading:!1})}catch(t){e({error:t.message,loading:!1})}},logout:async function(){try{e({loading:!0,error:null}),await function(e){return gt(e).signOut()}($g),e({user:null,profile:null,loading:!1})}catch(t){e({error:t.message,loading:!1})}},updateProfile:async function(n){try{const{user:r}=t();if(!r)throw new Error("No user logged in");e({loading:!0,error:null}),await zp(Uf(Hg,"users",r.uid),n,{merge:!0});const i=await Up(Uf(Hg,"users",r.uid));i.exists()&&e({profile:i.data(),loading:!1})}catch(r){e({error:r.message,loading:!1})}},clearError:function(){e({error:null})}})));!function(e,t,n,r){gt(e).onAuthStateChanged(t,n,r)}($g,(async function(e){qg.getState();if(e)try{const t=await Up(Uf(Hg,"users",e.uid));if(t.exists())qg.setState({user:e,profile:t.data(),loading:!1,initialized:!0});else{const t={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,createdAt:new Date,theme:"light"};await zp(Uf(Hg,"users",e.uid),t),qg.setState({user:e,profile:t,loading:!1,initialized:!0})}}catch(t){qg.setState({error:t.message,loading:!1,initialized:!0})}else qg.setState({user:null,profile:null,loading:!1,initialized:!0})}));var Wg=n(579);const Kg={light:{name:"Light",primary:"#ffffff",secondary:"#f8f9fa",accent:"#4f46e5",text:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6",background:"#ffffff",shadow:"rgba(0, 0, 0, 0.1)"},dark:{name:"Dark",primary:"#1f2937",secondary:"#111827",accent:"#6366f1",text:"#f9fafb",textSecondary:"#d1d5db",border:"#374151",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6",background:"#111827",shadow:"rgba(0, 0, 0, 0.3)"},pastelPink:{name:"Pastel Pink",primary:"#FFD1DC",secondary:"#FFE0E6",accent:"#FF8DA1",text:"#2E2E2E",textSecondary:"#4A4A4A",border:"#FFBBC8",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6",background:"#FFD1DC",shadow:"rgba(0, 0, 0, 0.4)"},pastelBlue:{name:"Pastel Blue",primary:"#D0EFFF",secondary:"#E0F4FF",accent:"#89CFF0",text:"#1F2A44",textSecondary:"#2F3A54",border:"#B5E2FF",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6",background:"#D0EFFF",shadow:"rgba(0, 0, 0, 0.4)"},pastelGreen:{name:"Pastel Green",primary:"#D5F5E3",secondary:"#E8F8F0",accent:"#8ED1AF",text:"#155724",textSecondary:"#2F6745",border:"#ABEBC6",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6",background:"#D5F5E3",shadow:"rgba(0, 0, 0, 0.4)"},pastelYellow:{name:"Pastel Yellow",primary:"#FFFACD",secondary:"#FFFDE7",accent:"#F9E79F",text:"#1A1A1A",textSecondary:"#3A3A3A",border:"#FFF59D",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6",background:"#FFFACD",shadow:"rgba(0, 0, 0, 0.4)"},pastelPurple:{name:"Pastel Purple",primary:"#E1D5E7",secondary:"#EDE7F6",accent:"#B39DDB",text:"#2E1A47",textSecondary:"#4E3A67",border:"#D1C4E9",success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6",background:"#E1D5E7",shadow:"rgba(0, 0, 0, 0.4)"}},Qg=(0,i.createContext)(),Yg=e=>{let{children:t}=e;const{user:n}=qg(),[r,o]=(0,i.useState)("pastelGreen"),[a,s]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{if(n&&n.uid)try{const e=Uf(Hg,"users",n.uid),t=await Up(e);t.exists()&&t.data().preferences&&t.data().preferences.theme?o(t.data().preferences.theme):o("pastelGreen")}catch(e){console.error("Error loading theme preference:",e),o("pastelGreen")}finally{s(!1)}else o("pastelGreen"),s(!1)})()}),[n]);const l=e=>{o(e),(async e=>{if(n&&n.uid)try{const t=Uf(Hg,"users",n.uid),r=await Up(t);if(r.exists()){const n=r.data().preferences||{};await $p(t,{preferences:{...n,theme:e}})}}catch(t){console.error("Error saving theme preference:",t)}})(e);const t=document.documentElement,r=Kg[e];t.style.setProperty("--color-primary",r.primary),t.style.setProperty("--color-secondary",r.secondary),t.style.setProperty("--color-accent",r.accent),t.style.setProperty("--color-text",r.text),t.style.setProperty("--color-text-secondary",r.textSecondary),t.style.setProperty("--color-border",r.border),t.style.setProperty("--color-success",r.success),t.style.setProperty("--color-error",r.error),t.style.setProperty("--color-warning",r.warning),t.style.setProperty("--color-info",r.info),t.style.setProperty("--color-background",r.background),t.style.setProperty("--color-shadow",r.shadow),e.startsWith("pastel")?t.style.setProperty("--text-shadow","1px 1px 3px rgba(0, 0, 0, 0.2)"):t.style.setProperty("--text-shadow","none"),document.body.style.backgroundColor=r.background,document.body.style.color=r.text,document.documentElement.setAttribute("data-theme",e);const i=new CustomEvent("themechange",{detail:{theme:e}});window.dispatchEvent(i)};return(0,i.useEffect)((()=>{a||l(r)}),[r,a]),(0,Wg.jsx)(Qg.Provider,{value:{currentTheme:r,changeTheme:l,themes:Kg},children:t})},Jg=()=>(0,i.useContext)(Qg);var Xg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zg=i.createContext&&i.createContext(Xg),ev=function(){return ev=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ev.apply(this,arguments)},tv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function nv(e){return e&&e.map((function(e,t){return i.createElement(e.tag,ev({key:t},e.attr),nv(e.child))}))}function rv(e){return function(t){return i.createElement(iv,ev({attr:ev({},e.attr)},t),nv(e.child))}}function iv(e){var t=function(t){var n,r=e.attr,o=e.size,a=e.title,s=tv(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",ev({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:ev(ev({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&i.createElement("title",null,a),e.children)};return void 0!==Zg?i.createElement(Zg.Consumer,null,(function(e){return t(e)})):t(Xg)}function ov(e){return rv({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function av(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"}}]})(e)}function sv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}function lv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function cv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"}}]})(e)}function uv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(e)}function dv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function hv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}function fv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function pv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function mv(e){return rv({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"}}]})(e)}function gv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"}}]})(e)}function vv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function yv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function bv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function wv(e){return rv({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function xv(e){return rv({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function Ev(e){return rv({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"}}]})(e)}function kv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function Sv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Cv(e){return rv({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function _v(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"}}]})(e)}function Iv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Nv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"}}]})(e)}function Tv(e){return rv({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function Dv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function Av(e){return rv({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"}}]})(e)}function Pv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function Rv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"}}]})(e)}function Ov(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function jv(e){return rv({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z"}}]})(e)}function Lv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function Mv(e){return rv({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(e)}function Fv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function Uv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function Bv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function Vv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function zv(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function $v(e){return rv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function Hv(e){return rv({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Gv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function qv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function Wv(e){return rv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}const Kv=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(!1),{login:s,loginWithGoogle:l,error:c,clearError:u}=qg(),d=ne();return(0,Wg.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:(0,Wg.jsxs)("div",{className:"w-full max-w-md",children:[(0,Wg.jsxs)("div",{className:"text-center mb-10",children:[(0,Wg.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900 mb-4",children:(0,Wg.jsx)(Lv,{className:"text-3xl text-indigo-600 dark:text-indigo-400"})}),(0,Wg.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Welcome Back"}),(0,Wg.jsx)("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Sign in to continue to Lock The Eff In"})]}),c&&(0,Wg.jsxs)("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 text-red-700 rounded-lg flex items-start",children:[(0,Wg.jsx)("div",{className:"flex-1",children:c}),(0,Wg.jsx)("button",{onClick:u,className:"ml-2 text-red-500 hover:text-red-700",children:"\xd7"})]}),(0,Wg.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-soft p-6 mb-6",children:[(0,Wg.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n){a(!0);try{await s(e,n),d("/")}catch(r){console.error("Login failed:",r)}finally{a(!1)}}},children:[(0,Wg.jsxs)("div",{className:"mb-4",children:[(0,Wg.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Wg.jsx)(Iv,{className:"text-slate-400"})}),(0,Wg.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),className:"input pl-10 w-full",placeholder:"you@example.com",required:!0})]})]}),(0,Wg.jsxs)("div",{className:"mb-6",children:[(0,Wg.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Wg.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),(0,Wg.jsx)("a",{href:"#",className:"text-sm text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Forgot password?"})]}),(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Wg.jsx)(jv,{className:"text-slate-400"})}),(0,Wg.jsx)("input",{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),className:"input pl-10 w-full",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]})]}),(0,Wg.jsxs)("button",{type:"submit",disabled:o,className:"btn-primary w-full flex items-center justify-center",children:[o?(0,Wg.jsx)("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,Wg.jsx)(Lv,{className:"mr-2"}),"Sign In"]})]}),(0,Wg.jsxs)("div",{className:"mt-6",children:[(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Wg.jsx)("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),(0,Wg.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Wg.jsx)("span",{className:"px-2 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400",children:"Or continue with"})})]}),(0,Wg.jsx)("div",{className:"mt-6",children:(0,Wg.jsxs)("button",{onClick:async()=>{a(!0);try{await l(),d("/")}catch(e){console.error("Google login failed:",e)}finally{a(!1)}},disabled:o,className:"w-full flex items-center justify-center px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm text-sm font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600",children:[(0,Wg.jsx)(ov,{className:"mr-2 text-red-500"}),"Google"]})})]})]}),(0,Wg.jsxs)("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:["Don't have an account?"," ",(0,Wg.jsx)(Te,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Sign up"})]})]})})},Qv=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),{register:f,loginWithGoogle:p,error:m,clearError:g}=qg(),v=ne();return(0,Wg.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:(0,Wg.jsxs)("div",{className:"w-full max-w-md",children:[(0,Wg.jsxs)("div",{className:"text-center mb-10",children:[(0,Wg.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-900 mb-4",children:(0,Wg.jsx)(Lv,{className:"text-3xl text-indigo-600 dark:text-indigo-400"})}),(0,Wg.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Create Account"}),(0,Wg.jsx)("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Join Lock The Eff In and boost your productivity"})]}),m&&(0,Wg.jsxs)("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 text-red-700 rounded-lg flex items-start",children:[(0,Wg.jsx)("div",{className:"flex-1",children:m}),(0,Wg.jsx)("button",{onClick:g,className:"ml-2 text-red-500 hover:text-red-700",children:"\xd7"})]}),(0,Wg.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-soft p-6 mb-6",children:[(0,Wg.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),n&&o&&e&&(o!==s?(h("Passwords do not match"),0):o.length<6?(h("Password must be at least 6 characters"),0):(h(""),1))){u(!0);try{await f(n,o,e),v("/")}catch(r){console.error("Registration failed:",r)}finally{u(!1)}}},children:[(0,Wg.jsxs)("div",{className:"mb-4",children:[(0,Wg.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Wg.jsx)(Wv,{className:"text-slate-400"})}),(0,Wg.jsx)("input",{id:"displayName",type:"text",value:e,onChange:e=>t(e.target.value),className:"input pl-10 w-full",placeholder:"Your name",required:!0})]})]}),(0,Wg.jsxs)("div",{className:"mb-4",children:[(0,Wg.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Wg.jsx)(Iv,{className:"text-slate-400"})}),(0,Wg.jsx)("input",{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),className:"input pl-10 w-full",placeholder:"you@example.com",required:!0})]})]}),(0,Wg.jsxs)("div",{className:"mb-4",children:[(0,Wg.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Wg.jsx)(jv,{className:"text-slate-400"})}),(0,Wg.jsx)("input",{id:"password",type:"password",value:o,onChange:e=>a(e.target.value),className:"input pl-10 w-full",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]})]}),(0,Wg.jsxs)("div",{className:"mb-6",children:[(0,Wg.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Confirm Password"}),(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Wg.jsx)(Lv,{className:"text-slate-400"})}),(0,Wg.jsx)("input",{id:"confirmPassword",type:"password",value:s,onChange:e=>l(e.target.value),className:"input pl-10 w-full "+(d?"border-red-500":""),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),d&&(0,Wg.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d})]}),(0,Wg.jsxs)("button",{type:"submit",disabled:c,className:"btn-primary w-full flex items-center justify-center",children:[c?(0,Wg.jsx)("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,Wg.jsx)(Lv,{className:"mr-2"}),"Create Account"]})]}),(0,Wg.jsxs)("div",{className:"mt-6",children:[(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Wg.jsx)("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),(0,Wg.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Wg.jsx)("span",{className:"px-2 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400",children:"Or continue with"})})]}),(0,Wg.jsx)("div",{className:"mt-6",children:(0,Wg.jsxs)("button",{onClick:async()=>{u(!0);try{await p(),v("/")}catch(e){console.error("Google login failed:",e)}finally{u(!1)}},disabled:c,className:"w-full flex items-center justify-center px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm text-sm font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600",children:[(0,Wg.jsx)(ov,{className:"mr-2 text-red-500"}),"Google"]})})]})]}),(0,Wg.jsxs)("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:["Already have an account?"," ",(0,Wg.jsx)(Te,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Sign in"})]})]})})},Yv=Be(((e,t)=>({events:[],loading:!1,error:null,fetchEvents:async t=>{e({loading:!0,error:null});try{const n=kp(Ff(Hg,"events"),Cp("userId","==",t)),r=await Vp(n),i=[];return r.forEach((e=>{const t=e.data();i.push({id:e.id,...t,date:t.date?t.date.toDate?t.date.toDate():new Date(t.date):new Date,createdAt:t.createdAt?t.createdAt.toDate?t.createdAt.toDate():new Date(t.createdAt):new Date,updatedAt:t.updatedAt?t.updatedAt.toDate?t.updatedAt.toDate():new Date(t.updatedAt):new Date})})),e({events:i,loading:!1}),i}catch(n){return console.error("Error fetching events:",n),e({error:n.message,loading:!1}),[]}},createEvent:async(t,n)=>{e({loading:!0,error:null});try{if(!n.isFromTask&&!n.taskId)try{const e=Jv.getState(),r={title:n.title.startsWith("Task: ")?n.title.substring(6):n.title,description:n.description||"",dueDate:n.date,priority:"normal"},i=await e.createTask(t,r);i&&(n.taskId=i.id,n.isFromTask=!1)}catch(r){console.error("Error creating corresponding task:",r)}const i=Ff(Hg,"events"),o={...n,userId:t,createdAt:Kp(),updatedAt:Kp()},a={id:(await Gp(i,o)).id,...o,createdAt:new Date,updatedAt:new Date};return e((e=>({events:[...e.events,a],loading:!1}))),a}catch(i){return console.error("Error creating event:",i),e({error:i.message,loading:!1}),null}},updateEvent:async(n,r)=>{e({loading:!0,error:null});try{const o=t().events.find((e=>e.id===n));if(!o)throw new Error("Event not found");const a=Uf(Hg,"events",n),s={...r,updatedAt:Kp()};if(await $p(a,s),e((e=>({events:e.events.map((e=>e.id===n?{...e,...r,updatedAt:new Date}:e)),loading:!1}))),o.taskId&&!o.isFromTask)try{const e=Jv.getState(),t={};r.title&&(t.title=r.title.startsWith("Task: ")?r.title.substring(6):r.title),void 0!==r.description&&(t.description=r.description),r.date&&(t.dueDate=r.date),Object.keys(t).length>0&&await e.updateTask(o.taskId,t)}catch(i){console.error("Error updating corresponding task:",i)}return!0}catch(o){return console.error("Error updating event:",o),e({error:o.message,loading:!1}),!1}},deleteEvent:async n=>{e({loading:!0,error:null});try{const i=t().events.find((e=>e.id===n));if(!i)throw new Error("Event not found");const o=Uf(Hg,"events",n);if(await Hp(o),e((e=>({events:e.events.filter((e=>e.id!==n)),loading:!1}))),i.taskId&&!i.isFromTask)try{const e=Jv.getState();await e.deleteTask(i.taskId)}catch(r){console.error("Error deleting corresponding task:",r)}return!0}catch(i){return console.error("Error deleting event:",i),e({error:i.message,loading:!1}),!1}}}))),Jv=Be(((e,t)=>({tasks:[],isLoading:!1,error:null,fetchTasks:async t=>{if(t){e({isLoading:!0,error:null});try{const n=kp(Ff(Hg,"tasks"),Cp("createdBy","==",t),Np("createdAt","desc")),r=await Vp(n),i=[];return r.forEach((e=>{const t=e.data();i.push({id:e.id,...t,dueDate:t.dueDate?t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate):null,createdAt:t.createdAt?t.createdAt.toDate?t.createdAt.toDate():new Date(t.createdAt):new Date,updatedAt:t.updatedAt?t.updatedAt.toDate?t.updatedAt.toDate():new Date(t.updatedAt):new Date})})),e({tasks:i,isLoading:!1}),i}catch(n){return console.error("Error fetching tasks:",n),e({error:n.message,isLoading:!1}),[]}}},createTask:async(t,n)=>{if(console.log("Creating task with userId:",t),console.log("Task data received:",n),t){e({isLoading:!0,error:null});try{const i={...n,completed:!1,createdBy:t,createdAt:Kp(),updatedAt:Kp()};console.log("Prepared task data for Firestore:",i);const o=await Gp(Ff(Hg,"tasks"),i);console.log("Task created successfully with ID:",o.id);const a={id:o.id,...i,createdAt:new Date,updatedAt:new Date};if(e((e=>({tasks:[a,...e.tasks],isLoading:!1}))),n.dueDate)try{const e=Yv.getState();await e.createEvent(t,{title:`Task: ${n.title}`,date:n.dueDate,description:n.description||"",isFromTask:!0,taskId:o.id})}catch(r){console.error("Error creating corresponding event:",r)}return a}catch(i){return console.error("Error creating task:",i),console.error("Error details:",i.code,i.message),e({error:i.message,isLoading:!1}),null}}else console.error("Cannot create task: No user ID provided")},updateTask:async(n,r)=>{e({isLoading:!0,error:null});try{const o=Uf(Hg,"tasks",n),a={...r,updatedAt:Kp()};if(await $p(o,a),e((e=>({tasks:e.tasks.map((e=>e.id===n?{...e,...r,updatedAt:new Date}:e)),isLoading:!1}))),"dueDate"in r)try{const e=Yv.getState(),i=e.events.find((e=>e.taskId===n));if(i)await e.updateEvent(i.id,{title:r.title?`Task: ${r.title}`:i.title,date:r.dueDate,description:r.description||i.description});else if(r.dueDate){const i=t().tasks.find((e=>e.id===n));await e.createEvent(i.createdBy,{title:`Task: ${i.title}`,date:r.dueDate,description:i.description||"",isFromTask:!0,taskId:n})}}catch(i){console.error("Error updating corresponding event:",i)}return!0}catch(o){return console.error("Error updating task:",o),e({error:o.message,isLoading:!1}),!1}},toggleTaskCompletion:async(n,r)=>{const i=Uf(Hg,"tasks",n);try{await $p(i,{...r,updatedAt:Kp()});const o=t().tasks.map((e=>e.id===n?{...e,...r,updatedAt:new Date}:e));e({tasks:o})}catch(o){throw console.error("Error toggling task completion:",o),o}},deleteTask:async t=>{e({isLoading:!0,error:null});try{const r=Uf(Hg,"tasks",t);await Hp(r),e((e=>({tasks:e.tasks.filter((e=>e.id!==t)),isLoading:!1})));try{const e=Yv.getState(),n=e.events.find((e=>e.taskId===t));n&&await e.deleteEvent(n.id)}catch(n){console.error("Error deleting corresponding event:",n)}return!0}catch(r){return console.error("Error deleting task:",r),e({error:r.message,isLoading:!1}),!1}},getCompletedTasks:()=>t().tasks.filter((e=>e.completed)),getIncompleteTasks:()=>t().tasks.filter((e=>!e.completed)),todoItems:[],fetchTodoItems:async n=>{await t().fetchTasks(n),e({todoItems:t().tasks})}}))),Xv=()=>{const{user:e}=qg(),{tasks:t,createTask:n,fetchTasks:r}=Jv(),{events:o,fetchEvents:a}=Yv(),s=ne(),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)({title:"",description:"",priority:"medium",dueDate:""});(0,i.useEffect)((()=>{e&&e.uid&&(r(e.uid),a(e.uid))}),[e,r,a]);const h=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:n})))},f=e=>{s(e)},p=()=>{if(!o||0===o.length)return[];const e=new Date,t=new Date;return t.setDate(e.getDate()+7),o.filter((n=>{const r=n.date instanceof Date?n.date:new Date(n.date);return r>=e&&r<=t})).sort(((e,t)=>(e.date instanceof Date?e.date:new Date(e.date))-(t.date instanceof Date?t.date:new Date(t.date)))).slice(0,5)},m=()=>t&&0!==t.length?t.filter((e=>!e.completed)).sort(((e,t)=>{if(e.dueDate&&t.dueDate){return(e.dueDate instanceof Date?e.dueDate:new Date(e.dueDate))-(t.dueDate instanceof Date?t.dueDate:new Date(t.dueDate))}return 0})).slice(0,5):[],g=e=>{if(!e)return"No due date";return(e instanceof Date?e:new Date(e)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return(0,Wg.jsxs)("div",{className:"h-full",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)"},children:[(0,Wg.jsxs)("div",{className:"mb-6",children:[(0,Wg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wg.jsx)("h1",{className:"text-3xl font-bold text-gray-900",style:{color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"Dashboard"}),(0,Wg.jsx)("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md",children:(0,Wg.jsx)(_v,{})})]}),(0,Wg.jsx)("p",{className:"mt-1 text-sm text-gray-500",style:{color:"var(--color-text-secondary)"},children:"Track your tasks, habits, and stay organized"})]}),(0,Wg.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Wg.jsxs)("div",{className:"flex-grow",children:[(0,Wg.jsxs)("div",{className:"rounded-lg border border-gray-200 shadow-sm mb-6",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 2px 4px var(--color-shadow)",borderRadius:"0.5rem",padding:"1.5rem"},children:[(0,Wg.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",style:{color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"To Do List Overview"}),t&&t.length>0?(0,Wg.jsx)("div",{className:"space-y-2",children:t.slice(0,5).map(((e,t)=>(0,Wg.jsxs)("div",{className:"flex items-center p-3 border border-gray-100 rounded-md hover:bg-gray-50",style:{backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsx)("div",{className:"mr-3",children:(0,Wg.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:e.completed,readOnly:!0})}),(0,Wg.jsxs)("div",{className:"flex-1",children:[(0,Wg.jsx)("h3",{className:"font-medium text-gray-900",style:{color:"var(--color-text)"},children:e.title}),e.dueDate&&(0,Wg.jsxs)("p",{className:"text-xs text-gray-500",style:{color:"var(--color-text-secondary)"},children:["Due: ",g(e.dueDate)]})]})]},e.id||t)))}):(0,Wg.jsx)("p",{className:"text-gray-500",style:{color:"var(--color-text-secondary)"},children:"No tasks found. Create some tasks to get started!"}),(0,Wg.jsx)("button",{onClick:()=>f("/todo"),className:"mt-4 px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-accent)",border:"1px solid var(--color-accent)"},children:"View all tasks"})]}),(0,Wg.jsxs)("div",{className:"rounded-lg border border-gray-200 shadow-sm mb-6",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 2px 4px var(--color-shadow)",borderRadius:"0.5rem",padding:"1.5rem"},children:[(0,Wg.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",style:{color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"Upcoming Events"}),p().length>0?(0,Wg.jsx)("div",{className:"space-y-3",children:p().map(((e,t)=>(0,Wg.jsxs)("div",{className:"flex items-start p-3 border border-gray-100 rounded-md hover:bg-gray-50",style:{backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-accent)"},children:(0,Wg.jsx)(vv,{})}),(0,Wg.jsxs)("div",{className:"flex-1",children:[(0,Wg.jsx)("h3",{className:"font-medium text-gray-900",style:{color:"var(--color-text)"},children:e.title}),(0,Wg.jsx)("p",{className:"text-sm text-gray-500",style:{color:"var(--color-text-secondary)"},children:g(e.date)}),e.description&&(0,Wg.jsx)("p",{className:"text-sm text-gray-600 mt-1",style:{color:"var(--color-text-secondary)"},children:e.description})]})]},e.id||t)))}):(0,Wg.jsx)("p",{className:"text-gray-500",style:{color:"var(--color-text-secondary)"},children:"No upcoming events"}),(0,Wg.jsx)("button",{onClick:()=>f("/calendar"),className:"mt-4 px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-accent)",border:"1px solid var(--color-accent)"},children:"Go to Calendar"})]}),(0,Wg.jsxs)("div",{className:"rounded-lg border border-gray-200 shadow-sm mb-6",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 2px 4px var(--color-shadow)",borderRadius:"0.5rem",padding:"1.5rem"},children:[(0,Wg.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",style:{color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"Pending To Do Items"}),m().length>0?(0,Wg.jsx)("div",{className:"space-y-2",children:m().map(((e,t)=>(0,Wg.jsxs)("div",{className:"flex items-center p-3 border border-gray-100 rounded-md hover:bg-gray-50",style:{backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsx)("div",{className:"mr-3",children:(0,Wg.jsx)("input",{type:"checkbox",className:"h-4 w-4 border-gray-300 rounded focus:ring-blue-500",checked:e.completed,readOnly:!0,style:{accentColor:"var(--color-accent)"}})}),(0,Wg.jsxs)("div",{className:"flex-1",children:[(0,Wg.jsx)("h3",{className:"font-medium text-gray-900",style:{color:"var(--color-text)"},children:e.title}),e.dueDate&&(0,Wg.jsxs)("p",{className:"text-xs text-gray-500",style:{color:"var(--color-text-secondary)"},children:["Due: ",g(e.dueDate)]})]}),(0,Wg.jsx)("div",{className:"ml-2",children:(0,Wg.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium "+("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),style:{backgroundColor:"high"===e.priority?"var(--color-priority-high)":"medium"===e.priority?"var(--color-priority-medium)":"var(--color-priority-low)",color:"high"===e.priority?"var(--color-priority-high-text)":"medium"===e.priority?"var(--color-priority-medium-text)":"var(--color-priority-low-text)"},children:e.priority})})]},e.id||t)))}):(0,Wg.jsx)("p",{className:"text-gray-500",style:{color:"var(--color-text-secondary)"},children:"No pending tasks"}),(0,Wg.jsx)("button",{onClick:()=>f("/todo"),className:"mt-4 px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-accent)",border:"1px solid var(--color-accent)"},children:"Go to Tasks"})]})]}),(0,Wg.jsxs)("div",{class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 text-center text-sm text-gray-500",children:[(0,Wg.jsx)("p",{children:"\xa9 2025 Jedidiah 5000 Productions. All rights reserved."}),(0,Wg.jsx)("p",{children:"Jedidiah is awesome"})]}),l&&(0,Wg.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,Wg.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 2px 4px var(--color-shadow)",borderRadius:"0.5rem"},children:[(0,Wg.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,Wg.jsx)("h3",{className:"text-lg font-medium text-gray-900",style:{color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"Create New Task"}),(0,Wg.jsx)("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-500",children:(0,Wg.jsx)(Hv,{})})]}),(0,Wg.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),u.title.trim()&&e&&e.uid)try{console.log("Creating task with user ID:",e.uid),console.log("Task data:",u),await n(e.uid,{title:u.title.trim(),description:u.description,priority:u.priority,dueDate:u.dueDate?new Date(u.dueDate):null,completed:!1}),d({title:"",description:"",priority:"medium",dueDate:""}),c(!1),await r(e.uid)}catch(i){console.error("Error creating task:",i),alert("Failed to create task. Please try again.")}else console.error("Missing required data for task creation")},className:"p-4",children:[(0,Wg.jsxs)("div",{className:"mb-4",children:[(0,Wg.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,Wg.jsx)("input",{type:"text",id:"title",name:"title",value:u.title,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-secondary)"},required:!0})]}),(0,Wg.jsxs)("div",{className:"mb-4",children:[(0,Wg.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Wg.jsx)("textarea",{id:"description",name:"description",value:u.description,onChange:h,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-secondary)"}})]}),(0,Wg.jsxs)("div",{className:"mb-4",children:[(0,Wg.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,Wg.jsxs)("select",{id:"priority",name:"priority",value:u.priority,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsx)("option",{value:"low",children:"Low"}),(0,Wg.jsx)("option",{value:"medium",children:"Medium"}),(0,Wg.jsx)("option",{value:"high",children:"High"})]})]}),(0,Wg.jsxs)("div",{className:"mb-4",children:[(0,Wg.jsx)("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),(0,Wg.jsx)("input",{type:"date",id:"dueDate",name:"dueDate",value:u.dueDate,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-secondary)"}})]}),(0,Wg.jsxs)("div",{className:"flex justify-end",children:[(0,Wg.jsx)("button",{type:"button",onClick:()=>c(!1),className:"mr-2 px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)"},children:"Cancel"}),(0,Wg.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white rounded-md",style:{backgroundColor:"var(--color-accent)"},children:"Create Task"})]})]})]})})]})]})},Zv=Be(((e,t)=>({notes:[],isLoading:!1,error:null,fetchNotes:async t=>{if(t){e({isLoading:!0,error:null});try{const n=kp(Ff(Hg,"notes"),Cp("createdBy","==",t)),r=await Vp(n),i=[];r.forEach((e=>{i.push({id:e.id,...e.data()})})),i.sort(((e,t)=>{const n=e.updatedAt?new Date(e.updatedAt):new Date(0);return(t.updatedAt?new Date(t.updatedAt):new Date(0))-n})),e({notes:i,isLoading:!1})}catch(n){console.error("Error fetching notes:",n),e({error:n.message,isLoading:!1})}}},createNote:async(t,n)=>{try{const r=Ff(Hg,"notes"),i={id:(await Gp(r,{...n,createdBy:t,createdAt:Kp(),updatedAt:Kp()})).id,...n,createdBy:t};return e((e=>({notes:[...e.notes,i]}))),i}catch(r){throw console.error("Error creating note:",r),r}},getNote:async e=>{if(!e)return null;try{const n=t().notes.find((t=>t.id===e));if(n)return n;const r=Uf(Hg,"notes",e),i=await Up(r);return i.exists()?{id:i.id,...i.data()}:null}catch(n){return console.error("Error getting note:",n),null}},updateNote:async(t,n)=>{if(t){e({isLoading:!0,error:null});try{const r=Uf(Hg,"notes",t);await $p(r,n),e((e=>({notes:e.notes.map((e=>e.id===t?{...e,...n}:e)),isLoading:!1})))}catch(r){throw console.error("Error updating note:",r),e({error:r.message,isLoading:!1}),r}}},deleteNote:async t=>{if(t){e({isLoading:!0,error:null});try{const n=Uf(Hg,"notes",t);await Hp(n),e((e=>({notes:e.notes.filter((e=>e.id!==t)),isLoading:!1})))}catch(n){throw console.error("Error deleting note:",n),e({error:n.message,isLoading:!1}),n}}}}))),ey=()=>{const e=ne(),{user:t}=qg(),{notes:n,fetchNotes:r,createNote:o,deleteNote:a}=Zv(),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{if(t)try{l(!0),await r(t.uid),u(null)}catch(e){console.error("Error fetching notes:",e),u("Failed to load notes. Please try again.")}finally{l(!1)}else l(!1)})()}),[t,r]);const m=n.filter((e=>{var t,n;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.content)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase()))}));return s?(0,Wg.jsx)("div",{className:"h-full flex items-center justify-center",style:{backgroundColor:"var(--color-background)",minHeight:"100vh"},children:(0,Wg.jsx)("div",{className:"loading-spinner"})}):(0,Wg.jsxs)("div",{className:"h-full overflow-auto",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",minHeight:"100vh",padding:"2rem"},children:[(0,Wg.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Wg.jsx)("div",{className:"mb-6",children:(0,Wg.jsx)("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-text)"},children:"Notes"})}),(0,Wg.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 space-y-3 sm:space-y-0 gap-4",style:{backgroundColor:"var(--color-primary)",padding:"1rem",borderRadius:"0.5rem",boxShadow:"0 2px 4px var(--color-shadow)"},children:[(0,Wg.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,Wg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(Vv,{})}),(0,Wg.jsx)("input",{type:"search",placeholder:"Search notes...",value:d,onChange:e=>h(e.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"}})]}),(0,Wg.jsxs)("button",{onClick:async()=>{if(t){p(!0);try{const n=await o(t.uid,{title:"New Note",content:"",tags:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});if(!n||!n.id)throw new Error("Failed to create note");e(`/note/${n.id}`)}catch(n){console.error("Error creating note:",n),u("Failed to create note. Please try again."),p(!1)}}else u("Please log in to create notes")},className:"flex items-center px-4 py-2 rounded-md w-full sm:w-auto justify-center",style:{backgroundColor:"var(--color-accent)",color:"white",boxShadow:"0 2px 4px var(--color-shadow)"},disabled:f,children:[(0,Wg.jsx)(Bv,{className:"mr-2"})," ",f?"Creating...":"New Note"]})]}),c&&(0,Wg.jsx)("div",{className:"mb-4 p-3 rounded-md",style:{backgroundColor:"var(--color-error-bg)",color:"var(--color-error)",border:"1px solid var(--color-error-border)"},children:c}),(0,Wg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===m.length?(0,Wg.jsx)("div",{className:"col-span-full text-center py-8",style:{color:"var(--color-text-secondary)"},children:d?"No notes match your search.":"No notes yet. Create your first note!"}):m.map((n=>(0,Wg.jsx)("div",{onClick:()=>e(`/note/${n.id}`),className:"cursor-pointer",children:(0,Wg.jsxs)("div",{className:"h-full p-4 rounded-lg border hover:shadow-md transition-shadow",style:{backgroundColor:"var(--color-primary)",color:"var(--color-text)",borderColor:"var(--color-border)"},children:[(0,Wg.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Wg.jsx)("h3",{className:"font-medium",style:{color:"var(--color-text)"},children:n.title||"Untitled Note"}),(0,Wg.jsxs)("div",{className:"flex space-x-1",children:[(0,Wg.jsx)("button",{onClick:t=>{t.stopPropagation(),e(`/note/${n.id}`)},className:"p-1 rounded-full",style:{color:"var(--color-text-secondary)"},"aria-label":"Edit note",children:(0,Wg.jsx)(Cv,{size:14})}),(0,Wg.jsx)("button",{onClick:e=>(async(e,n)=>{if(n.stopPropagation(),t){if(window.confirm("Are you sure you want to delete this note?"))try{await a(e)}catch(r){console.error("Error deleting note:",r),u("Failed to delete note. Please try again.")}}else u("Please log in to delete notes")})(n.id,e),className:"p-1 rounded-full",style:{color:"var(--color-text-secondary)"},"aria-label":"Delete note",children:(0,Wg.jsx)(Gv,{size:14})})]})]}),(0,Wg.jsx)("div",{className:"text-sm truncate",style:{color:"var(--color-text-secondary)"},children:n.content?n.content.replace(/<[^>]*>/g,"").substring(0,100):"No content"}),(0,Wg.jsx)("div",{className:"text-xs mt-2",style:{color:"var(--color-text-secondary)"},children:n.updatedAt?"string"===typeof n.updatedAt?new Date(n.updatedAt).toLocaleString():n.updatedAt.seconds?new Date(1e3*n.updatedAt.seconds).toLocaleString():"Unknown date":"Unknown date"})]})},n.id)))})]}),(0,Wg.jsxs)("div",{class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 text-center text-sm text-gray-500",children:[(0,Wg.jsx)("p",{children:"\xa9 2025 Jedidiah 5000 Productions. All rights reserved."}),(0,Wg.jsx)("p",{children:"Jedidiah is awesome"})]})]})},ty=Be((e=>({transactions:[],loading:!1,error:null,fetchTransactions:async t=>{e({loading:!0,error:null});try{const n=kp(Ff(Hg,"transactions"),Cp("userId","==",t),Np("date","desc")),r=await Vp(n),i=[];return r.forEach((e=>{const t=e.data();i.push({id:e.id,...t,date:t.date?t.date.toDate?t.date.toDate():new Date(t.date):new Date,createdAt:t.createdAt?t.createdAt.toDate?t.createdAt.toDate():new Date(t.createdAt):new Date,updatedAt:t.updatedAt?t.updatedAt.toDate?t.updatedAt.toDate():new Date(t.updatedAt):new Date})})),e({transactions:i,loading:!1}),i}catch(n){return console.error("Error fetching transactions:",n),e({error:n.message,loading:!1}),[]}},createTransaction:async(t,n)=>{e({loading:!0,error:null});try{const r=Ff(Hg,"transactions"),i={...n,userId:t,createdAt:Kp(),updatedAt:Kp()},o={id:(await Gp(r,i)).id,...i,createdAt:new Date,updatedAt:new Date};return e((e=>({transactions:[o,...e.transactions],loading:!1}))),o}catch(r){return console.error("Error creating transaction:",r),e({error:r.message,loading:!1}),null}},updateTransaction:async(t,n)=>{e({loading:!0,error:null});try{const r=Uf(Hg,"transactions",t),i={...n,updatedAt:Kp()};return await $p(r,i),e((e=>({transactions:e.transactions.map((e=>e.id===t?{...e,...n,updatedAt:new Date}:e)),loading:!1}))),!0}catch(r){return console.error("Error updating transaction:",r),e({error:r.message,loading:!1}),!1}},deleteTransaction:async t=>{e({loading:!0,error:null});try{const n=Uf(Hg,"transactions",t);return await Hp(n),e((e=>({transactions:e.transactions.filter((e=>e.id!==t)),loading:!1}))),!0}catch(n){return console.error("Error deleting transaction:",n),e({error:n.message,loading:!1}),!1}}}))),ny=()=>{const{user:e}=qg(),{transactions:t,fetchTransactions:n,createTransaction:r,deleteTransaction:o}=ty(),[a,s]=(0,i.useState)(!0),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)({amount:"",description:"",category:"other",type:"expense",date:(new Date).toISOString().split("T")[0]}),[h,f]=(0,i.useState)("USD"),[p,m]=(0,i.useState)("$");(0,i.useEffect)((()=>{(async()=>{if(e){s(!0);try{await n(e.uid);const t=Uf(Hg,"users",e.uid),r=await Up(t);if(r.exists()&&r.data().preferences&&r.data().preferences.currency){const e=r.data().preferences.currency;f(e);m({USD:"$",EUR:"\u20ac",GBP:"\xa3",JPY:"\xa5",CNY:"\xa5",PHP:"\u20b1",INR:"\u20b9",CAD:"C$",AUD:"A$",SGD:"S$",MYR:"RM"}[e]||"$")}}catch(t){console.error("Error loading transactions:",t)}finally{s(!1)}}})();const t=setInterval((()=>{e&&n(e.uid)}),3e4);return()=>clearInterval(t)}),[e,n]);const g=t&&0!==t.length?t.reduce(((e,t)=>{const n=t.amount;return e.balance+=n,n>0?e.income+=n:e.expenses+=Math.abs(n),e}),{balance:0,income:0,expenses:0}):{balance:0,income:0,expenses:0},v=(()=>{const e={};return t.forEach((t=>{const n=new Date(t.date).toISOString().split("T")[0];e[n]||(e[n]=[]),e[n].push(t)})),Object.keys(e).sort(((e,t)=>new Date(t)-new Date(e))).map((t=>({date:t,transactions:e[t]})))})(),y=[{id:"food",name:"Food & Dining"},{id:"transportation",name:"Transportation"},{id:"housing",name:"Housing"},{id:"utilities",name:"Utilities"},{id:"entertainment",name:"Entertainment"},{id:"shopping",name:"Shopping"},{id:"health",name:"Health & Medical"},{id:"travel",name:"Travel"},{id:"education",name:"Education"},{id:"personal",name:"Personal Care"},{id:"income",name:"Income"},{id:"other",name:"Other"}],b=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(e);return a?(0,Wg.jsx)("div",{className:"flex justify-center items-center h-full",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)"},children:(0,Wg.jsx)("div",{className:"loading-spinner"})}):(0,Wg.jsxs)("div",{className:"p-6 h-full overflow-auto",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)"},children:[(0,Wg.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Wg.jsx)("div",{className:"mb-6",children:(0,Wg.jsx)("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"Money"})}),(0,Wg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Wg.jsxs)("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",boxShadow:"0 1px 2px var(--color-shadow)"},children:[(0,Wg.jsx)("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Current Balance"}),(0,Wg.jsx)("p",{className:"text-2xl font-bold",style:{color:g.balance>=0?"var(--color-success)":"var(--color-error)"},children:b(g.balance)})]}),(0,Wg.jsxs)("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",boxShadow:"0 1px 2px var(--color-shadow)"},children:[(0,Wg.jsx)("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Income"}),(0,Wg.jsx)("p",{className:"text-2xl font-bold",style:{color:"var(--color-success)"},children:b(g.income)})]}),(0,Wg.jsxs)("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",boxShadow:"0 1px 2px var(--color-shadow)"},children:[(0,Wg.jsx)("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Expenses"}),(0,Wg.jsx)("p",{className:"text-2xl font-bold",style:{color:"var(--color-error)"},children:b(g.expenses)})]})]}),(0,Wg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Wg.jsx)("h2",{className:"text-lg font-medium",style:{color:"var(--color-text)"},children:"Transactions"}),(0,Wg.jsx)("button",{onClick:()=>c(!l),className:"flex items-center px-3 py-2 rounded-md",style:{backgroundColor:l?"var(--color-secondary)":"var(--color-accent)",color:l?"var(--color-accent)":"white"},children:l?"Cancel":(0,Wg.jsxs)(Wg.Fragment,{children:[(0,Wg.jsx)(Bv,{className:"mr-1",size:12}),"Add Transaction"]})})]}),l&&(0,Wg.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),u.amount&&u.description&&e)try{const t=parseFloat(u.amount);if(isNaN(t))return;await r(e.uid,{amount:"expense"===u.type?-t:t,description:u.description.trim(),category:u.category,date:new Date(u.date),createdAt:new Date,currency:h}),d({amount:"",description:"",category:"other",type:"expense",date:(new Date).toISOString().split("T")[0]}),c(!1),await n(e.uid)}catch(i){console.error("Error creating transaction:",i)}},className:"mb-6 p-4 rounded-lg border",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",boxShadow:"0 1px 2px var(--color-shadow)"},children:[(0,Wg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Amount"}),(0,Wg.jsxs)("div",{className:"flex",children:[(0,Wg.jsx)("span",{className:"inline-flex items-center px-3 border border-r-0 rounded-l-md",style:{backgroundColor:"var(--color-primary)",borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},children:p}),(0,Wg.jsx)("input",{type:"number",step:"0.01",value:u.amount,onChange:e=>d({...u,amount:e.target.value}),className:"flex-1 px-3 py-2 border rounded-r-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"},required:!0})]})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Type"}),(0,Wg.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,Wg.jsxs)("button",{type:"button",onClick:()=>d({...u,type:"income"}),className:"flex-1 py-2 px-4 text-sm font-medium rounded-l-md focus:outline-none",style:{backgroundColor:"income"===u.type?"var(--color-success)":"var(--color-secondary)",color:"income"===u.type?"white":"var(--color-text)",borderColor:"var(--color-border)"},children:[(0,Wg.jsx)(hv,{className:"inline mr-1"})," Income"]}),(0,Wg.jsxs)("button",{type:"button",onClick:()=>d({...u,type:"expense"}),className:"flex-1 py-2 px-4 text-sm font-medium rounded-r-md focus:outline-none",style:{backgroundColor:"expense"===u.type?"var(--color-error)":"var(--color-secondary)",color:"expense"===u.type?"white":"var(--color-text)",borderColor:"var(--color-border)"},children:[(0,Wg.jsx)(uv,{className:"inline mr-1"})," Expense"]})]})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Description"}),(0,Wg.jsx)("input",{type:"text",value:u.description,onChange:e=>d({...u,description:e.target.value}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"},placeholder:"e.g. Grocery shopping",required:!0})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Category"}),(0,Wg.jsx)("select",{value:u.category,onChange:e=>d({...u,category:e.target.value}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"},children:y.map((e=>(0,Wg.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Date"}),(0,Wg.jsx)("input",{type:"date",value:u.date,onChange:e=>d({...u,date:e.target.value}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",color:"var(--color-text)"},required:!0})]})]}),(0,Wg.jsx)("div",{className:"flex justify-end",children:(0,Wg.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-accent)",color:"white"},children:"Save Transaction"})})]}),0===v.length?(0,Wg.jsx)("div",{className:"text-center py-8",style:{color:"var(--color-text-secondary)"},children:"No transactions yet. Add your first transaction to get started!"}):(0,Wg.jsx)("div",{className:"space-y-6",children:v.map((e=>(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:new Date(e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,Wg.jsx)("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",boxShadow:"0 1px 2px var(--color-shadow)"},children:e.transactions.map((e=>{const t=y.find((t=>t.id===e.category))||{name:"Other"};return(0,Wg.jsxs)("div",{className:"flex items-center p-3 border-b last:border-b-0",style:{borderColor:"var(--color-border)"},children:[(0,Wg.jsxs)("div",{className:"flex-1",children:[(0,Wg.jsx)("div",{className:"font-medium",style:{color:"var(--color-text)"},children:e.description}),(0,Wg.jsx)("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:t.name})]}),(0,Wg.jsxs)("div",{className:"text-right font-medium",style:{color:e.amount>0?"var(--color-success)":"var(--color-error)"},children:[e.amount>0?"+":"",b(e.amount)]}),(0,Wg.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this transaction?"))try{await o(e)}catch(t){console.error("Error deleting transaction:",t)}})(e.id),className:"ml-3 p-1 rounded-full",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(Gv,{size:14})})]},e.id)}))})]},e.date)))})]}),(0,Wg.jsxs)("div",{class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 text-center text-sm text-gray-500",children:[(0,Wg.jsx)("p",{children:"\xa9 2025 Jedidiah 5000 Productions. All rights reserved."}),(0,Wg.jsx)("p",{children:"Jedidiah is awesome"})]})]})},ry=()=>{const{user:e,logout:t,updateProfile:n}=qg(),{currentTheme:r,changeTheme:o}=Jg(),[a,s]=(0,i.useState)("account"),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)({show:!1,message:"",type:""}),[y,b]=(0,i.useState)({emailNotifications:!0,reminderTime:"09:00",defaultView:"week",defaultTaskSort:"dueDate",currency:"USD",theme:"light"}),[w,x]=(0,i.useState)(!1);(0,i.useEffect)((()=>{e&&(c(e.displayName||""),E())}),[e]),(0,i.useEffect)((()=>{!w&&y.theme&&b((e=>({...e,theme:r})))}),[r,w]);const E=async()=>{if(e)try{const t=Uf(Hg,"users",e.uid),n=await Up(t);n.exists()&&n.data().preferences&&b({...y,...n.data().preferences})}catch(t){console.error("Error fetching user preferences:",t),C("Failed to load preferences","error")}},k=async()=>{if(e){x(!0);try{const t=Uf(Hg,"users",e.uid);await $p(t,{preferences:y}),C("Preferences saved successfully","success")}catch(t){console.error("Error saving preferences:",t),C("Failed to save preferences","error")}finally{x(!1)}}},S=e=>{o(e),b({...y,theme:e})},C=(e,t)=>{v({show:!0,message:e,type:t}),setTimeout((()=>{v({show:!1,message:"",type:""})}),5e3)};return(0,Wg.jsxs)("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[(0,Wg.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Wg.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-500 to-indigo-600",children:(0,Wg.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Settings"})}),g.show&&(0,Wg.jsx)("div",{className:"px-6 py-3 mb-4 "+("success"===g.type?"bg-green-100 text-green-800":"error"===g.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:g.message}),(0,Wg.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,Wg.jsx)("div",{className:"w-full md:w-64 bg-gray-50 border-r border-gray-200",children:(0,Wg.jsxs)("nav",{className:"p-4",children:[(0,Wg.jsxs)("ul",{className:"space-y-1",children:[(0,Wg.jsx)("li",{children:(0,Wg.jsxs)("button",{onClick:()=>s("account"),className:"w-full text-left px-4 py-2 rounded-md flex items-center "+("account"===a?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Wg.jsx)(Wv,{className:"mr-3"})," Account"]})}),(0,Wg.jsx)("li",{children:(0,Wg.jsxs)("button",{onClick:()=>s("security"),className:"w-full text-left px-4 py-2 rounded-md flex items-center "+("security"===a?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Wg.jsx)(Lv,{className:"mr-3"})," Security"]})}),(0,Wg.jsx)("li",{children:(0,Wg.jsxs)("button",{onClick:()=>s("appearance"),className:"w-full text-left px-4 py-2 rounded-md flex items-center "+("appearance"===a?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Wg.jsx)(Uv,{className:"mr-3"})," Appearance"]})}),(0,Wg.jsx)("li",{children:(0,Wg.jsxs)("button",{onClick:()=>s("notifications"),className:"w-full text-left px-4 py-2 rounded-md flex items-center "+("notifications"===a?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Wg.jsx)(pv,{className:"mr-3"})," Notifications"]})}),(0,Wg.jsx)("li",{children:(0,Wg.jsxs)("button",{onClick:()=>s("data"),className:"w-full text-left px-4 py-2 rounded-md flex items-center "+("data"===a?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Wg.jsx)(Ev,{className:"mr-3"})," Data Management"]})})]}),(0,Wg.jsx)("div",{className:"mt-8 pt-4 border-t border-gray-200",children:(0,Wg.jsxs)("button",{onClick:t,className:"w-full px-4 py-2 text-left text-red-600 hover:bg-red-50 rounded-md flex items-center",children:[(0,Wg.jsx)(zv,{className:"mr-3"})," Sign Out"]})})]})}),(0,Wg.jsxs)("div",{className:"flex-1 p-6",children:["account"===a&&(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account Settings"}),(0,Wg.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(!0);try{await n({displayName:l}),C("Profile updated successfully","success")}catch(t){console.error("Error updating profile:",t),C("Failed to update profile","error")}finally{x(!1)}},className:"space-y-4 max-w-md",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Wg.jsx)("input",{type:"email",id:"email",value:(null===e||void 0===e?void 0:e.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"}),(0,Wg.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Your email cannot be changed"})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,Wg.jsx)("input",{type:"text",id:"displayName",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Wg.jsx)("button",{type:"submit",disabled:w,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:w?"Saving...":"Save Changes"})]})]}),"security"===a&&(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Security Settings"}),(0,Wg.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h===p){x(!0);try{C("Password changed successfully","success"),d(""),f(""),m("")}catch(t){console.error("Error changing password:",t),C("Failed to change password","error")}finally{x(!1)}}else C("New passwords do not match","error")},className:"space-y-4 max-w-md",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),(0,Wg.jsx)("input",{type:"password",id:"currentPassword",value:u,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,Wg.jsx)("input",{type:"password",id:"newPassword",value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,Wg.jsx)("input",{type:"password",id:"confirmPassword",value:p,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Wg.jsx)("button",{type:"submit",disabled:w||!u||!h||!p,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:w?"Changing...":"Change Password"})]})]}),"appearance"===a&&(0,Wg.jsxs)("div",{style:{padding:"1rem"},children:[(0,Wg.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"1rem",color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"Appearance"}),(0,Wg.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,Wg.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--color-text)"},children:"Theme"}),(0,Wg.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[(0,Wg.jsxs)("div",{onClick:()=>S("light"),style:{cursor:"pointer",padding:"1rem",borderRadius:"0.5rem",border:"light"===y.theme?"2px solid var(--color-accent)":"1px solid var(--color-border)",backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,Wg.jsx)("span",{style:{fontWeight:"500",color:"var(--color-text)"},children:"Light"}),(0,Wg.jsx)($v,{style:{color:"#f59e0b"}})]}),(0,Wg.jsxs)("div",{style:{padding:"1rem",borderRadius:"0.25rem",backgroundColor:Kg.light.primary,color:Kg.light.text,border:`1px solid ${Kg.light.border}`},children:[(0,Wg.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.5rem",color:Kg.light.text},children:"Preview"}),(0,Wg.jsx)("div",{style:{color:Kg.light.textSecondary,marginBottom:"0.5rem"},children:"Sample text"}),(0,Wg.jsx)("button",{style:{padding:"0.25rem 0.5rem",backgroundColor:Kg.light.accent,color:"white",border:"none",borderRadius:"0.25rem"},children:"Button"})]})]}),(0,Wg.jsxs)("div",{onClick:()=>S("dark"),style:{cursor:"pointer",padding:"1rem",borderRadius:"0.5rem",border:"dark"===y.theme?"2px solid var(--color-accent)":"1px solid var(--color-border)",backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,Wg.jsx)("span",{style:{fontWeight:"500",color:"var(--color-text)"},children:"Dark"}),(0,Wg.jsx)(Fv,{style:{color:"#818cf8"}})]}),(0,Wg.jsxs)("div",{style:{padding:"1rem",borderRadius:"0.25rem",backgroundColor:Kg.dark.primary,color:Kg.dark.text,border:`1px solid ${Kg.dark.border}`},children:[(0,Wg.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.5rem",color:Kg.dark.text},children:"Preview"}),(0,Wg.jsx)("div",{style:{color:Kg.dark.textSecondary,marginBottom:"0.5rem"},children:"Sample text"}),(0,Wg.jsx)("button",{style:{padding:"0.25rem 0.5rem",backgroundColor:Kg.dark.accent,color:"white",border:"none",borderRadius:"0.25rem"},children:"Button"})]})]})]}),(0,Wg.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"500",marginBottom:"1rem",marginTop:"2rem",color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"Pastel Themes"}),(0,Wg.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:[(0,Wg.jsxs)("div",{onClick:()=>S("pastelPink"),style:{cursor:"pointer",padding:"1rem",borderRadius:"0.5rem",border:"pastelPink"===y.theme?"2px solid var(--color-accent)":"1px solid var(--color-border)",backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,Wg.jsx)("span",{style:{fontWeight:"500",color:"var(--color-text)"},children:"Pastel Pink"}),(0,Wg.jsx)("div",{style:{width:"1.25rem",height:"1.25rem",borderRadius:"50%",backgroundColor:Kg.pastelPink.accent}})]}),(0,Wg.jsxs)("div",{style:{padding:"1rem",borderRadius:"0.25rem",backgroundColor:Kg.pastelPink.primary,color:Kg.pastelPink.text,border:`1px solid ${Kg.pastelPink.border}`},children:[(0,Wg.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.5rem",color:Kg.pastelPink.text},children:"Preview"}),(0,Wg.jsx)("div",{style:{color:Kg.pastelPink.textSecondary,marginBottom:"0.5rem"},children:"Sample text"}),(0,Wg.jsx)("button",{style:{padding:"0.25rem 0.5rem",backgroundColor:Kg.pastelPink.accent,color:"white",border:"none",borderRadius:"0.25rem"},children:"Button"})]})]}),(0,Wg.jsxs)("div",{onClick:()=>S("pastelBlue"),style:{cursor:"pointer",padding:"1rem",borderRadius:"0.5rem",border:"pastelBlue"===y.theme?"2px solid var(--color-accent)":"1px solid var(--color-border)",backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,Wg.jsx)("span",{style:{fontWeight:"500",color:"var(--color-text)"},children:"Pastel Blue"}),(0,Wg.jsx)("div",{style:{width:"1.25rem",height:"1.25rem",borderRadius:"50%",backgroundColor:Kg.pastelBlue.accent}})]}),(0,Wg.jsxs)("div",{style:{padding:"1rem",borderRadius:"0.25rem",backgroundColor:Kg.pastelBlue.primary,color:Kg.pastelBlue.text,border:`1px solid ${Kg.pastelBlue.border}`},children:[(0,Wg.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.5rem",color:Kg.pastelBlue.text},children:"Preview"}),(0,Wg.jsx)("div",{style:{color:Kg.pastelBlue.textSecondary,marginBottom:"0.5rem"},children:"Sample text"}),(0,Wg.jsx)("button",{style:{padding:"0.25rem 0.5rem",backgroundColor:Kg.pastelBlue.accent,color:"white",border:"none",borderRadius:"0.25rem"},children:"Button"})]})]}),(0,Wg.jsxs)("div",{onClick:()=>S("pastelGreen"),style:{cursor:"pointer",padding:"1rem",borderRadius:"0.5rem",border:"pastelGreen"===y.theme?"2px solid var(--color-accent)":"1px solid var(--color-border)",backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,Wg.jsx)("span",{style:{fontWeight:"500",color:"var(--color-text)"},children:"Pastel Green"}),(0,Wg.jsx)("div",{style:{width:"1.25rem",height:"1.25rem",borderRadius:"50%",backgroundColor:Kg.pastelGreen.accent}})]}),(0,Wg.jsxs)("div",{style:{padding:"1rem",borderRadius:"0.25rem",backgroundColor:Kg.pastelGreen.primary,color:Kg.pastelGreen.text,border:`1px solid ${Kg.pastelGreen.border}`},children:[(0,Wg.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.5rem",color:Kg.pastelGreen.text},children:"Preview"}),(0,Wg.jsx)("div",{style:{color:Kg.pastelGreen.textSecondary,marginBottom:"0.5rem"},children:"Sample text"}),(0,Wg.jsx)("button",{style:{padding:"0.25rem 0.5rem",backgroundColor:Kg.pastelGreen.accent,color:"white",border:"none",borderRadius:"0.25rem"},children:"Button"})]})]}),(0,Wg.jsxs)("div",{onClick:()=>S("pastelPurple"),style:{cursor:"pointer",padding:"1rem",borderRadius:"0.5rem",border:"pastelPurple"===y.theme?"2px solid var(--color-accent)":"1px solid var(--color-border)",backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,Wg.jsx)("span",{style:{fontWeight:"500",color:"var(--color-text)"},children:"Pastel Purple"}),(0,Wg.jsx)("div",{style:{width:"1.25rem",height:"1.25rem",borderRadius:"50%",backgroundColor:Kg.pastelPurple.accent}})]}),(0,Wg.jsxs)("div",{style:{padding:"1rem",borderRadius:"0.25rem",backgroundColor:Kg.pastelPurple.primary,color:Kg.pastelPurple.text,border:`1px solid ${Kg.pastelPurple.border}`},children:[(0,Wg.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.5rem",color:Kg.pastelPurple.text},children:"Preview"}),(0,Wg.jsx)("div",{style:{color:Kg.pastelPurple.textSecondary,marginBottom:"0.5rem"},children:"Sample text"}),(0,Wg.jsx)("button",{style:{padding:"0.25rem 0.5rem",backgroundColor:Kg.pastelPurple.accent,color:"white",border:"none",borderRadius:"0.25rem"},children:"Button"})]})]}),(0,Wg.jsxs)("div",{onClick:()=>S("pastelYellow"),style:{cursor:"pointer",padding:"1rem",borderRadius:"0.5rem",border:"pastelYellow"===y.theme?"2px solid var(--color-accent)":"1px solid var(--color-border)",backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,Wg.jsx)("span",{style:{fontWeight:"500",color:"var(--color-text)"},children:"Pastel Yellow"}),(0,Wg.jsx)("div",{style:{width:"1.25rem",height:"1.25rem",borderRadius:"50%",backgroundColor:Kg.pastelYellow.accent}})]}),(0,Wg.jsxs)("div",{style:{padding:"1rem",borderRadius:"0.25rem",backgroundColor:Kg.pastelYellow.primary,color:Kg.pastelYellow.text,border:`1px solid ${Kg.pastelYellow.border}`},children:[(0,Wg.jsx)("div",{style:{fontWeight:"500",marginBottom:"0.5rem",color:Kg.pastelYellow.text},children:"Preview"}),(0,Wg.jsx)("div",{style:{color:Kg.pastelYellow.textSecondary,marginBottom:"0.5rem"},children:"Sample text"}),(0,Wg.jsx)("button",{style:{padding:"0.25rem 0.5rem",backgroundColor:Kg.pastelYellow.accent,color:"white",border:"none",borderRadius:"0.25rem"},children:"Button"})]})]})]}),(0,Wg.jsx)("button",{onClick:k,disabled:w,style:{marginTop:"2rem",padding:"0.5rem 1rem",backgroundColor:"var(--color-accent)",color:"white",border:"none",borderRadius:"0.25rem",cursor:"pointer",opacity:w?.7:1},children:w?"Saving...":"Save Preferences"})]})]}),"notifications"===a&&(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Notification Settings"}),(0,Wg.jsxs)("div",{className:"space-y-4 max-w-md",children:[(0,Wg.jsxs)("div",{className:"flex items-center",children:[(0,Wg.jsx)("input",{type:"checkbox",id:"emailNotifications",checked:y.emailNotifications,onChange:e=>b({...y,emailNotifications:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Wg.jsx)("label",{htmlFor:"emailNotifications",className:"ml-2 block text-sm text-gray-700",children:"Receive email notifications"})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{htmlFor:"reminderTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Reminder Time"}),(0,Wg.jsx)("input",{type:"time",id:"reminderTime",value:y.reminderTime,onChange:e=>b({...y,reminderTime:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Wg.jsx)("button",{onClick:k,disabled:w,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:w?"Saving...":"Save Notification Settings"})]})]}),"data"===a&&(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Data Management"}),(0,Wg.jsxs)("div",{className:"space-y-6",children:[(0,Wg.jsxs)("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[(0,Wg.jsx)("h3",{className:"text-md font-medium text-blue-800 mb-2",children:"Export Your Data"}),(0,Wg.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Download all your tasks, notes, events, and other data as a JSON file."}),(0,Wg.jsxs)("button",{onClick:()=>{C("Data export feature coming soon","info")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Wg.jsx)(Sv,{className:"inline mr-2"})," Export Data"]})]}),(0,Wg.jsxs)("div",{className:"bg-red-50 p-4 rounded-md border border-red-200",children:[(0,Wg.jsx)("h3",{className:"text-md font-medium text-red-800 mb-2",children:"Delete Account"}),(0,Wg.jsx)("p",{className:"text-sm text-red-700 mb-3",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,Wg.jsxs)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,Wg.jsx)(Gv,{className:"inline mr-2"})," Delete Account"]})]})]})]})]})]})]}),(0,Wg.jsxs)("div",{class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 text-center text-sm text-gray-500",children:[(0,Wg.jsx)("p",{children:"\xa9 2025 Jedidiah 5000 Productions. All rights reserved."}),(0,Wg.jsx)("p",{children:"Jedidiah is awesome"})]})]})},iy=()=>{const{noteId:e}=function(){let{matches:e}=i.useContext(J),t=e[e.length-1];return t?t.params:{}}(),t=ne(),{user:n}=qg(),{currentTheme:r}=Jg(),{notes:o,updateNote:a}=Zv(),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!0),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),[v,y]=(0,i.useState)(null),b=(0,i.useRef)(null);(0,i.useEffect)((()=>{(async()=>{if(n){if(e)try{const t=o.find((t=>t.id===e));t?(l(t.title||"New Note"),u(t.content||""),y(null)):y("Note not found")}catch(t){console.error("Error loading note:",t),y("Failed to load note. Please try again.")}h(!1)}else h(!1)})()}),[e,n,o]),(0,i.useEffect)((()=>{if(!e||!n||d)return;const t=setInterval((()=>{s&&c&&w(!0)}),3e4);return()=>clearInterval(t)}),[e,n,s,c,d]);const w=async function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n)if(s.trim()){r||p(!0);try{if(e)await a(e,{title:s,content:c,updatedAt:(new Date).toISOString()}),g(new Date),y(null);else{const e=await Zv.getState().createNote(n.uid,{title:s,content:c,tags:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});e&&e.id&&(t(`/note/${e.id}`,{replace:!0}),g(new Date),y(null))}}catch(i){console.error("Error saving note:",i),y("Failed to save note. Please try again.")}finally{r||p(!1)}}else y("Title cannot be empty");else y("Please log in to save notes")},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.execCommand(e,!1,t),b.current.focus()};return d?(0,Wg.jsx)("div",{className:"note-page",style:{backgroundColor:"var(--color-background)",height:"100vh"},children:(0,Wg.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,Wg.jsx)("div",{className:"loading-spinner"})})}):(0,Wg.jsxs)("div",{className:"note-page",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[(0,Wg.jsxs)("div",{className:"note-header",style:{padding:"1rem",borderBottom:"1px solid var(--color-border)",backgroundColor:"var(--color-primary)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Wg.jsxs)("div",{className:"flex items-center",children:[(0,Wg.jsx)("button",{onClick:()=>t("/notes"),className:"mr-4",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(dv,{})}),(0,Wg.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Note title",className:"text-xl font-semibold bg-transparent border-none outline-none",style:{color:"var(--color-text)"}})]}),(0,Wg.jsxs)("div",{className:"flex items-center",children:[m&&(0,Wg.jsxs)("span",{className:"text-sm mr-4",style:{color:"var(--color-text-secondary)"},children:["Last saved: ",new Date(m).toLocaleTimeString()]}),(0,Wg.jsx)("button",{onClick:()=>w(),className:"px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-accent)",color:"white"},disabled:f,children:f?"Saving...":"Save"})]})]}),v&&(0,Wg.jsx)("div",{style:{padding:"0.5rem 1rem",backgroundColor:"var(--color-error-bg)",color:"var(--color-error)",borderBottom:"1px solid var(--color-error-border)"},children:v}),(0,Wg.jsxs)("div",{className:"editor-toolbar",style:{padding:"0.5rem",borderBottom:"1px solid var(--color-border)",backgroundColor:"var(--color-secondary)",display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[(0,Wg.jsx)("button",{onClick:()=>x("bold"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(mv,{})}),(0,Wg.jsx)("button",{onClick:()=>x("italic"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(Av,{})}),(0,Wg.jsx)("button",{onClick:()=>x("underline"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(qv,{})}),(0,Wg.jsx)("div",{style:{width:"1px",backgroundColor:"var(--color-border)",margin:"0 0.5rem"}}),(0,Wg.jsx)("button",{onClick:()=>x("formatBlock","H1"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(Nv,{})}),(0,Wg.jsx)("button",{onClick:()=>x("formatBlock","H2"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)("span",{style:{display:"flex",alignItems:"center"},children:(0,Wg.jsx)(Nv,{style:{fontSize:"0.8em"}})})}),(0,Wg.jsx)("div",{style:{width:"1px",backgroundColor:"var(--color-border)",margin:"0 0.5rem"}}),(0,Wg.jsx)("button",{onClick:()=>x("insertUnorderedList"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(Ov,{})}),(0,Wg.jsx)("button",{onClick:()=>x("insertOrderedList"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(Rv,{})}),(0,Wg.jsx)("div",{style:{width:"1px",backgroundColor:"var(--color-border)",margin:"0 0.5rem"}}),(0,Wg.jsx)("button",{onClick:()=>x("justifyLeft"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(lv,{})}),(0,Wg.jsx)("button",{onClick:()=>x("justifyCenter"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(av,{})}),(0,Wg.jsx)("button",{onClick:()=>x("justifyRight"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(cv,{})}),(0,Wg.jsx)("button",{onClick:()=>x("justifyFull"),className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(sv,{})}),(0,Wg.jsx)("div",{style:{width:"1px",backgroundColor:"var(--color-border)",margin:"0 0.5rem"}}),(0,Wg.jsx)("button",{onClick:()=>{const e=prompt("Enter link URL:");e&&x("createLink",e)},className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(Pv,{})}),(0,Wg.jsx)("button",{onClick:()=>{const e=prompt("Enter image URL:");e&&x("insertImage",e)},className:"p-2 rounded hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(Dv,{})})]}),(0,Wg.jsx)("div",{className:"flex-grow overflow-auto",style:{backgroundColor:"var(--color-primary)",padding:"1rem"},children:(0,Wg.jsx)("div",{ref:b,className:"editor-content",contentEditable:!0,suppressContentEditableWarning:!0,onInput:e=>{u(e.currentTarget.innerHTML)},style:{minHeight:"100%",outline:"none",direction:"ltr"},dangerouslySetInnerHTML:{__html:c}})})]})};function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oy(e,t)}function ay(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oy(e,t)}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(null,arguments)}function ly(e){return ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(e)}function cy(e){var t=function(e,t){if("object"!=ly(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ly(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ly(t)?t:t+""}function uy(e,t,n){return(t=cy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dy(Object(n),!0).forEach((function(t){uy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fy(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var py="function"===typeof Symbol&&Symbol.observable||"@@observable",my=function(){return Math.random().toString(36).substring(7).split("").join(".")},gy={INIT:"@@redux/INIT"+my(),REPLACE:"@@redux/REPLACE"+my(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+my()}};function vy(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function yy(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(fy(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(fy(1));return n(yy)(e,t)}if("function"!==typeof e)throw new Error(fy(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(fy(3));return o}function d(e){if("function"!==typeof e)throw new Error(fy(4));if(l)throw new Error(fy(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(fy(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!vy(e))throw new Error(fy(7));if("undefined"===typeof e.type)throw new Error(fy(8));if(l)throw new Error(fy(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:gy.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(fy(10));i=e,h({type:gy.REPLACE})}})[py]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(fy(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[py]=function(){return this},e},r}function by(e,t){return function(){return t(e.apply(this,arguments))}}function wy(e,t){if("function"===typeof e)return by(e,t);if("object"!==typeof e||null===e)throw new Error(fy(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=by(i,t))}return n}function xy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Ey=i.createContext(null);var ky=function(e){e()},Sy=function(){return ky};var Cy={notify:function(){},get:function(){return[]}};function _y(e,t){var n,r=Cy;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Sy(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Cy)},getListeners:function(){return r}};return a}var Iy="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect;const Ny=function(e){var t=e.store,n=e.context,r=e.children,o=(0,i.useMemo)((function(){var e=_y(t);return{store:t,subscription:e}}),[t]),a=(0,i.useMemo)((function(){return t.getState()}),[t]);Iy((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var s=n||Ey;return i.createElement(s.Provider,{value:o},r)};function Ty(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var Dy=n(219),Ay=n.n(Dy),Py=n(86),Ry=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Oy=["reactReduxForwardedRef"],jy=[],Ly=[null,null];function My(e,t){var n=e[1];return[t.payload,n+1]}function Fy(e,t,n){Iy((function(){return e.apply(void 0,t)}),n)}function Uy(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function By(e,t,n,r,i,o,a,s,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(BC){n=BC,d=BC}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Vy=function(){return[null,0]};function zy(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,a=n.methodName,s=void 0===a?"connectAdvanced":a,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,f=void 0===h?"store":h,p=(n.withRef,n.forwardRef),m=void 0!==p&&p,g=n.context,v=void 0===g?Ey:g,y=Ty(n,Ry),b=v;return function(t){var n=t.displayName||t.name||"Component",r=o(n),a=sy({},y,{getDisplayName:o,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure;var u=l?i.useMemo:function(e){return e()};function h(n){var r=(0,i.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Ty(n,Oy);return[n.context,e,t]}),[n]),o=r[0],s=r[1],l=r[2],c=(0,i.useMemo)((function(){return o&&o.Consumer&&(0,Py.isContextConsumer)(i.createElement(o.Consumer,null))?o:b}),[o,b]),h=(0,i.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var p=f?n.store:h.store,m=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,a)}(p)}),[p]),g=(0,i.useMemo)((function(){if(!d)return Ly;var e=_y(p,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,h]),v=g[0],y=g[1],w=(0,i.useMemo)((function(){return f?h:sy({},h,{subscription:v})}),[f,h,v]),x=(0,i.useReducer)(My,jy,Vy),E=x[0][0],k=x[1];if(E&&E.error)throw E.error;var S=(0,i.useRef)(),C=(0,i.useRef)(l),_=(0,i.useRef)(),I=(0,i.useRef)(!1),N=u((function(){return _.current&&l===C.current?_.current:m(p.getState(),l)}),[p,E,l]);Fy(Uy,[C,S,I,l,N,_,y]),Fy(By,[d,p,v,m,C,S,I,_,y,k],[p,v,m]);var T=(0,i.useMemo)((function(){return i.createElement(t,sy({},N,{ref:s}))}),[s,t,N]);return(0,i.useMemo)((function(){return d?i.createElement(c.Provider,{value:w},T):T}),[c,T,w])}var p=l?i.memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=r,m){var g=i.forwardRef((function(e,t){return i.createElement(p,sy({},e,{reactReduxForwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,Ay()(g,t)}return Ay()(p,t)}}function $y(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Hy(e,t){if($y(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!$y(e[n[i]],t[n[i]]))return!1;return!0}function Gy(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function qy(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Wy(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=qy(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=qy(i),i=r(t,n)),i},r}}const Ky=[function(e){return"function"===typeof e?Wy(e):void 0},function(e){return e?void 0:Gy((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?Gy((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const Qy=[function(e){return"function"===typeof e?Wy(e):void 0},function(e){return e?void 0:Gy((function(){return{}}))}];function Yy(e,t,n){return sy({},n,e,t)}const Jy=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Yy}}];var Xy=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Zy(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function eb(e,t,n,r,i){var o,a,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,a),m=!u(i,o,f,a);return o=i,a=f,p&&m?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):m?function(){var t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(s=e(o=i,a=u),l=t(r,a),c=n(s,l,a),f=!0,c)}}function tb(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Ty(t,Xy),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?eb:Zy)(a,s,l,e,o)}var nb=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function rb(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ib(e,t){return e===t}function ob(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?zy:n,i=t.mapStateToPropsFactories,o=void 0===i?Qy:i,a=t.mapDispatchToPropsFactories,s=void 0===a?Ky:a,l=t.mergePropsFactories,c=void 0===l?Jy:l,u=t.selectorFactory,d=void 0===u?tb:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,u=void 0===l||l,h=a.areStatesEqual,f=void 0===h?ib:h,p=a.areOwnPropsEqual,m=void 0===p?Hy:p,g=a.areStatePropsEqual,v=void 0===g?Hy:g,y=a.areMergedPropsEqual,b=void 0===y?Hy:y,w=Ty(a,nb),x=rb(e,o,"mapStateToProps"),E=rb(t,s,"mapDispatchToProps"),k=rb(n,c,"mergeProps");return r(d,sy({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:E,initMergeProps:k,pure:u,areStatesEqual:f,areOwnPropsEqual:m,areStatePropsEqual:v,areMergedPropsEqual:b},w))}}const ab=ob();var sb;function lb(e,t){var n=(0,i.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}sb=s.unstable_batchedUpdates,ky=sb;var cb=lb,ub=function(e,t){return lb((function(){return e}),t)},db="Invariant failed";var hb=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},fb=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},pb=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},mb={top:0,right:0,bottom:0,left:0},gb=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?mb:n,i=e.border,o=void 0===i?mb:i,a=e.padding,s=void 0===a?mb:a,l=hb(fb(t,r)),c=hb(pb(t,o)),u=hb(pb(c,s));return{marginBox:l,borderBox:hb(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},vb=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(db)}(!1),n},yb=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return gb({borderBox:l,border:o,margin:a,padding:s})},bb=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),yb(e,t)},wb=function(e,t){var n={top:vb(t.marginTop),right:vb(t.marginRight),bottom:vb(t.marginBottom),left:vb(t.marginLeft)},r={top:vb(t.paddingTop),right:vb(t.paddingRight),bottom:vb(t.paddingBottom),left:vb(t.paddingLeft)},i={top:vb(t.borderTopWidth),right:vb(t.borderRightWidth),bottom:vb(t.borderBottomWidth),left:vb(t.borderLeftWidth)};return gb({borderBox:e,margin:n,padding:r,border:i})},xb=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return wb(t,n)},Eb=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function kb(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Eb(r)&&Eb(i)))return!1;var r,i;return!0}const Sb=function(e,t){var n;void 0===t&&(t=kb);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};const Cb=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function _b(e,t){}_b.bind(null,"warn"),_b.bind(null,"error");function Ib(){}function Nb(e,t,n){var r=t.map((function(t){var r=function(e,t){return sy({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var Tb="Invariant failed";function Db(e){this.message=e}function Ab(e,t){if(!e)throw new Db(Tb)}Db.prototype.toString=function(){return this.message};var Pb=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Ib,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Db&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ay(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Nb(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Db))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),Rb=function(e){return e+1},Ob=function(e,t){var n=e.droppableId===t.droppableId,r=Rb(e.index),i=Rb(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},jb=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Lb=function(e){return"\n  The item has returned to its starting position\n  of "+Rb(e.index)+"\n"},Mb="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Fb=function(e){return"\n  You have lifted an item in position "+Rb(e.source.index)+"\n"},Ub=function(e){var t=e.destination;if(t)return Ob(e.source,t);var n=e.combine;return n?jb(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Bb=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Lb(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Ob(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+jb(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Lb(e.source)+"\n  "},Vb={x:0,y:0},zb=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},$b=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Hb=function(e,t){return e.x===t.x&&e.y===t.y},Gb=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},qb=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Wb=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Kb=function(e,t){return Math.min.apply(Math,t.map((function(t){return Wb(e,t)})))},Qb=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Yb=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Jb=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Xb=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=hb({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):hb(e)},Zb=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?Yb(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?sy({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:Xb(a,i)}},ew=function(e,t){e.frame||Ab(!1);var n=e.frame,r=$b(t,n.scroll.initial),i=Gb(r),o=sy({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return sy({},e,{frame:o,subject:Zb({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function tw(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function nw(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function rw(e,t){if(e.find)return e.find(t);var n=nw(e,t);return-1!==n?e[n]:void 0}function iw(e){return Array.prototype.slice.call(e)}var ow=Sb((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),aw=Sb((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),sw=Sb((function(e){return tw(e)})),lw=Sb((function(e){return tw(e)})),cw=Sb((function(e,t){var n=lw(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function uw(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function dw(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var hw=Sb((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),fw=function(e,t){return e.descriptor.droppableId===t.descriptor.id},pw={point:Vb,value:0},mw={invisible:{},visible:{},all:[]},gw={displaced:mw,displacedBy:pw,at:null},vw=function(e,t){return function(n){return e<=n&&n<=t}},yw=function(e){var t=vw(e.top,e.bottom),n=vw(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&o||s&&i)}},bw=function(e){var t=vw(e.top,e.bottom),n=vw(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},ww={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xw={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ew=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Vb;return Yb(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},kw=function(e){return Ew(sy({},e,{isVisibleThroughFrameFn:yw}))},Sw=function(e){return Ew(sy({},e,{isVisibleThroughFrameFn:bw}))};function Cw(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return hb(fb(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!kw({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(l,a,o),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function _w(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:mw,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Iw(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=fw(t,r);if(null==s)return _w({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=rw(n,(function(e){return e.descriptor.index===s}));if(!u)return _w({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=hw(t,n),h=n.indexOf(u);return{displaced:Cw({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Nw(e,t){return Boolean(t.effected[e])}var Tw=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||Ab(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:Iw({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return Nw(a,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:Iw({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:h})},Dw=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=dw(n);i||Ab(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return Nw(r,n)?o?Vb:Gb(i.point):o?i.point:Vb}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return zb(a,s)},Aw=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Pw=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Rw=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return qb(t.line,n.marginBox[t.end]+Aw(t,r),Pw(t,n.marginBox,r))},Ow=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return qb(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Pw(t,n.marginBox,r))},jw=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=cw(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return qb(t.line,n.contentBox[t.start]+Aw(t,r),Pw(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(Nw(d,o))return Ow({axis:l,moveRelativeTo:h.page,isMoving:s});var f=yb(h.page,u.point);return Ow({axis:l,moveRelativeTo:f,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Nw(p.descriptor.id,o)){var m=yb(p.page,Gb(o.displacedBy.point));return Rw({axis:l,moveRelativeTo:m,isMoving:s})}return Rw({axis:l,moveRelativeTo:p.page,isMoving:s})},Lw=function(e,t){var n=e.frame;return n?zb(t,n.scroll.diff.displacement):t},Mw=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?jw({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):Dw({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?Lw(n,t):t},Fw=function(e,t){var n=$b(t,e.scroll.initial),r=Gb(n);return{frame:hb({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Uw(e,t){return e.map((function(e){return t[e]}))}var Bw=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return zb(e.scroll.diff.displacement,t)}(e.viewport,t),i=$b(r,n.page.borderBox.center);return zb(n.client.borderBox.center,i)},Vw=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=$b(r,t.page.borderBox.center),c={target:Yb(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return s?function(e){return Ew(sy({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=vw(e.top,e.bottom),r=vw(e.left,e.right);return function(e){return t===ww?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):Sw(c)},zw=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=cw(r.descriptor.id,i),d=fw(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!uw(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return sy({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=hw(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=nw(c,(function(e){return e.descriptor.id===l}));-1===u&&Ab(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||Tw({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;var f=Mw({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(Vw({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Bw({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};var p=$b(f,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=Fw(n,zb(n.scroll.current,o)),s=r.frame?ew(r,zb(r.frame.scroll.current,o)):r,l=t.displaced,c=Cw({afterDragging:Uw(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=Cw({afterDragging:Uw(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),sy({},t,{displaced:{all:l.all,invisible:d,visible:h}})}({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:m,scrollJumpRequest:p}},$w=function(e){var t=e.subject.active;return t||Ab(!1),t},Hw=function(e,t){var n=e.page.borderBox.center;return Nw(e.descriptor.id,t)?$b(n,t.displacedBy.point):n},Gw=function(e,t){var n=e.page.borderBox;return Nw(e.descriptor.id,t)?Yb(n,Gb(t.displacedBy.point)):n},qw=Sb((function(e,t){var n=t[e.line];return{value:n,point:qb(e.line,n)}})),Ww=function(e,t){return sy({},e,{scroll:sy({},e.scroll,{max:t})})},Kw=function(e,t,n){var r=e.frame;fw(t,e)&&Ab(!1),e.subject.withPlaceholder&&Ab(!1);var i=qw(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return qb(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=cw(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0),a=o+t[r.line]-i;return a<=0?null:qb(r.line,a)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return sy({},e,{subject:Zb({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=o?zb(r.scroll.max,o):r.scroll.max,l=Ww(r,s);return sy({},e,{subject:Zb({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},Qw=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=vw(a[s.start],a[s.end]),c=sw(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return yw(o.frame)($w(e))})).filter((function(e){var n=$w(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=$w(e),n=vw(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=$w(e)[s.crossAxisStart],i=$w(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return $w(e)[s.crossAxisStart]===$w(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return vw($w(e)[s.start],$w(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return $w(e)[s.start]-$w(t)[s.start]}))[0]:c.sort((function(e,t){var r=Kb(n,Jb($w(e))),i=Kb(n,Jb($w(t)));return r!==i?r-i:$w(e)[s.start]-$w(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var u=cw(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter((function(e){return Sw({target:Gw(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=Wb(t,Lw(r,Hw(e,o))),a=Wb(t,Lw(r,Hw(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:mw,displacedBy:pw,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Mw({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=fw(i,a)?a:Kw(a,i,o);return Vw({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),f=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?e:e+1}(),p=qw(a.axis,i.displaceBy);return Iw({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:p,last:mw,index:f})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;var f=Mw({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Bw({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},Yw=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Jw=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Yw(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,f=h.draggables,p=h.droppables;return l?zw({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Qw({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Xw(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Zw(e){var t=vw(e.top,e.bottom),n=vw(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function ex(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=sw(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Zw(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=vw(i[o.crossAxisStart],i[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=qb(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Wb(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var tx=function(e,t){return hb(Yb(e,t))};function nx(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var rx=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=tx(n.page.borderBox,t),c=ex({pageBorderBox:l,draggable:n,droppables:i});if(!c)return gw;var u=i[c],d=cw(u.descriptor.id,r),h=function(e,t){var n=e.frame;return n?tx(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=qw(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=rw(hw(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=Nw(t,a),l=nx({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=qw(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=rw(hw(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Nw(t,s),i=nx({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n})),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:fw(n,r)});return Iw({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},ix=function(e,t){var n;return sy({},e,((n={})[t.descriptor.id]=t,n))},ox=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=Yw(t),o=Yw(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||Ab(!1);var n=e.frame;if(!n)return sy({},e,{subject:Zb({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Ab(!1);var i=Ww(n,r);return sy({},e,{subject:Zb({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(a);return ix(r,s)},ax=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=$b(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:zb(t.initial.client.borderBoxCenter,u)},h={selection:zb(d.selection,s.scroll.current),borderBoxCenter:zb(d.borderBoxCenter,s.scroll.current),offset:zb(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return sy({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var p=l.draggables[t.critical.draggable.id],m=o||rx({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=ox({previousImpact:i,impact:o,droppables:r}),s=Yw(o);if(!s)return a;var l=r[s];if(fw(t,l))return a;if(l.subject.withPlaceholder)return a;var c=Kw(l,t,n);return ix(a,c)}({draggable:p,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return sy({},t,{current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var sx=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return sy({},t,{displaced:Cw({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a})})},lx=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=Mw({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return Bw({pageBorderBoxCenter:s,draggable:n,viewport:o})},cx=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Ab(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=Yw(i);u||Ab(!1);var d=l[u],h=sx({impact:i,viewport:o,destination:d,draggables:s}),f=lx({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return ax({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},ux=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=qw(n.axis,t.displaceBy),a=cw(n.descriptor.id,r),s=a.indexOf(t);-1===s&&Ab(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:Cw({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},dx=function(e){0},hx=function(e){0},fx=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||Ab(!1),t}(n[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=yb(t.client,n),o=bb(i,r);return sy({},t,{placeholder:sy({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:zb(i,a),initialWindowScroll:r.scroll.initial});return s}))},px=function(e){return"SNAP"===e.movementMode},mx=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:ix(e.droppables,t)}}(e.dimensions,t);return!px(e)||n?ax({state:e,dimensions:r}):cx({state:e,dimensions:r})};function gx(e){return e.isDragging&&"SNAP"===e.movementMode?sy({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var vx={phase:"IDLE",completed:null,shouldFlush:!1},yx=function(e,t){if(void 0===e&&(e=vx),"FLUSH"===t.type)return sy({},vx,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Ab(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Vb},d={client:u,page:{selection:zb(u.selection,o.scroll.initial),borderBoxCenter:zb(u.selection,o.scroll.initial),offset:zb(u.selection,o.scroll.diff.value)}},h=sw(a.droppables).every((function(e){return!e.isFixedOnPage})),f=ux({draggable:l,home:c,draggables:a.draggables,viewport:o}),p=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:f.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Ab(!1),sy({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ab(!1),function(e){var t=e.state,n=e.published;dx();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return ew(n,e.scroll)})),i=sy({},t.dimensions.droppables,{},ow(r)),o=aw(fx({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=sy({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var s={droppables:i,draggables:a},l=Yw(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],h=ux({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=h.impact,p=h.afterCritical,m=c&&c.isCombineEnabled?t.impact:f,g=rx({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p});hx();var v=sy({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:s,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:sy({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Xw(e)||Ab(!1);var m=t.payload.client;return Hb(m,e.current.client.selection)?e:ax({state:e,clientSelection:m,impact:px(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return gx(e);if("COLLECTING"===e.phase)return gx(e);Xw(e)||Ab(!1);var g=t.payload,v=g.id,y=g.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var w=ew(b,y);return mx(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Xw(e)||Ab(!1);var x=t.payload,E=x.id,k=x.isEnabled,S=e.dimensions.droppables[E];S||Ab(!1),S.isEnabled===k&&Ab(!1);var C=sy({},S,{isEnabled:k});return mx(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Xw(e)||Ab(!1);var _=t.payload,I=_.id,N=_.isCombineEnabled,T=e.dimensions.droppables[I];T||Ab(!1),T.isCombineEnabled===N&&Ab(!1);var D=sy({},T,{isCombineEnabled:N});return mx(e,D,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Xw(e)||Ab(!1),e.isWindowScrollAllowed||Ab(!1);var A=t.payload.newScroll;if(Hb(e.viewport.scroll.current,A))return gx(e);var P=Fw(e.viewport,A);return px(e)?cx({state:e,viewport:P}):ax({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Xw(e))return e;var R=t.payload.maxScroll;if(Hb(R,e.viewport.scroll.max))return e;var O=sy({},e.viewport,{scroll:sy({},e.viewport.scroll,{max:R})});return sy({phase:"DRAGGING"},e,{viewport:O})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Ab(!1);var j=Jw({state:e,type:t.type});return j?ax({state:e,impact:j.impact,clientSelection:j.clientSelection,scrollJumpRequest:j.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return"COLLECTING"!==e.phase&&Ab(!1),sy({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var M=t.payload,F=M.completed,U=M.dropDuration,B=M.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ab(!1),{phase:"DROP_ANIMATING",completed:F,dropDuration:U,newHomeClientOffset:B,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},bx=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},wx=function(){return{type:"COLLECTION_STARTING",payload:null}},xx=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Ex=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},kx=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Sx=function(e){return{type:"MOVE",payload:e}},Cx=function(){return{type:"MOVE_UP",payload:null}},_x=function(){return{type:"MOVE_DOWN",payload:null}},Ix=function(){return{type:"MOVE_RIGHT",payload:null}},Nx=function(){return{type:"MOVE_LEFT",payload:null}},Tx=function(e){return{type:"DROP_COMPLETE",payload:e}},Dx=function(e){return{type:"DROP",payload:e}},Ax=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Px="cubic-bezier(.2,1,.1,1)",Rx={drop:0,combining:.7},Ox={drop:.75},jx=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Lx={fluid:"opacity "+jx,snap:"transform "+jx+", opacity "+jx,drop:function(e){var t=e+"s "+Px;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+jx,placeholder:"height "+jx+", width "+jx+", margin "+jx},Mx=function(e){return Hb(e,Vb)?null:"translate("+e.x+"px, "+e.y+"px)"},Fx=Mx,Ux=function(e,t){var n=Mx(e);return n?t?n+" scale("+Ox.drop+")":n:null},Bx=.33,Vx=.55,zx=Vx-Bx,$x=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&Ab(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&Ab(!1);var a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:sy({},r,{displaced:mw}),didDropInsideDroppable:!0}:{impact:sx({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,h=d?uw(u):null,f=d?dw(u):null,p={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:h,combine:f},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,l=Yw(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=lx({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return $b(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:u};if(!Hb(i.current.client.offset,g)||Boolean(m.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=Wb(t,n);if(i<=0)return Bx;if(i>=1500)return Vx;var o=Bx+zx*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:g,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:y,completed:v}))}else n(Tx({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},Hx=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Gx(e){var t=e.onWindowScroll;var n=Cb((function(){t(Hx())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=Ib;function o(){return i!==Ib}return{start:function(){o()&&Ab(!1),i=Nb(window,[r])},stop:function(){o()||Ab(!1),n.cancel(),i(),i=Ib},isActive:o}}var qx=function(e){var t=Gx({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Wx=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=nw(e,(function(e){return e.timerId===t}));-1===n&&Ab(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Kx=function(e,t){dx(),t(),hx()},Qx=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Yx=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},Jx=function(e,t){var n=function(e,t){var n=Wx(),r=null,i=function(n){r||Ab(!1),r=null,Kx(0,(function(){return Yx(e().onDragEnd,n,t,Bb)}))};return{beforeCapture:function(t,n){r&&Ab(!1),Kx(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Ab(!1),Kx(0,(function(){var r=e().onBeforeDragStart;r&&r(Qx(t,n))}))},start:function(i,o){r&&Ab(!1);var a=Qx(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){Kx(0,(function(){return Yx(e().onDragStart,a,t,Fb)}))}))},update:function(i,o){var a=uw(o),s=dw(o);r||Ab(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);l&&(r.lastCritical=i);var c,u,d=(u=a,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=a);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(h&&(r.lastCombine=s),l||d||h){var f=sy({},Qx(i,r.mode),{combine:s,destination:a});n.add((function(){Kx(0,(function(){return Yx(e().onDragUpdate,f,t,Ub)}))}))}},flush:function(){r||Ab(!1),n.flush()},drop:i,abort:function(){if(r){var e=sy({},Qx(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Xx=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Ab(!1),e.dispatch(Tx({completed:r.completed}))}else t(n)}}},Zx=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Nb(window,[o])}))}}}},eE=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Dx({reason:r.reason})))}}}},tE=xy,nE=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return yy(yx,tE(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(fy(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=xy.apply(void 0,o)(n.dispatch),hy(hy({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(Tx({completed:c.completed})),"IDLE"!==n().phase&&Ab(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),h=d.critical,f=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:f,clientSelection:s,movementMode:l,viewport:p}})}else t(i)}}}}(n),$x,Xx,Zx,eE,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&Ab(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),qx,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Jx(o,a))))};var rE=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=$b({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},iE=function(){var e=document.documentElement;return e||Ab(!1),e},oE=function(){var e=iE();return rE({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},aE=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;dx();var i=function(){var e=Hx(),t=oE(),n=e.y,r=e.x,i=iE(),o=i.clientWidth,a=i.clientHeight;return{frame:hb({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:Vb,displacement:Vb}}}}(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),c={draggables:aw(l),droppables:ow(s)};return hx(),{dimensions:c,critical:t,viewport:i}};function sE(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var lE=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,dx();var e=r,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(Vb)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},hx(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||Ab(!1);var i=n.critical.draggable;"ADDITION"===t.type&&sE(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&sE(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||Ab(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||Ab(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||Ab(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&Ab(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},aE({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},cE=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},uE=function(e){window.scrollBy(e.x,e.y)},dE=Sb((function(e){return sw(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),hE=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=rw(dE(t),(function(t){return t.frame||Ab(!1),Zw(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},fE=.25,pE=.05,mE=28,gE=function(e){return Math.pow(e,2)},vE={stopDampeningAt:1200,accelerateAt:360},yE=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},bE=vE.accelerateAt,wE=vE.stopDampeningAt,xE=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return mE;if(e===t.startScrollingFrom)return 1;var n=yE({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=mE*gE(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=wE,i=Date.now()-n;if(i>=wE)return e;if(i<bE)return 1;var o=yE({startOfRange:bE,endOfRange:r,current:i}),a=e*gE(o);return Math.ceil(a)}(o,r),1):o},EE=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*fE,maxScrollValueAt:e[t.size]*pE}}(t,i);return n[i.end]<n[i.start]?xE({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*xE({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},kE=Qb((function(e){return 0===e?0:e})),SE=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=EE({container:n,distanceToEdges:a,dragStartTime:t,axis:ww,shouldUseTimeDampening:o}),l=EE({container:n,distanceToEdges:a,dragStartTime:t,axis:xw,shouldUseTimeDampening:o}),c=kE({x:l,y:s});if(Hb(c,Vb))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Hb(u,Vb)?null:u:null},CE=Qb((function(e){return 0===e?0:e>0?1:-1})),_E=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=zb(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return Hb(a,Vb)?null:a}}(),IE=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=CE(r),a=_E({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},NE=function(e,t){return IE({current:e.scroll.current,max:e.scroll.max,change:t})},TE=function(e,t){var n=e.frame;return!!n&&IE({current:n.scroll.current,max:n.scroll.max,change:t})},DE=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=SE({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&NE(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void i(l)}var c=hE({center:a,destination:Yw(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=SE({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&TE(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},AE=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!TE(e,t))return t;var r=function(e,t){var n=e.frame;return n&&TE(e,t)?_E({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=$b(t,r);return n(e.descriptor.id,i),$b(t,i)},o=function(e,t,n){if(!e)return n;if(!NE(t,n))return n;var i=function(e,t){if(!NE(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return _E({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=$b(n,i);return r(o),$b(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Yw(e.impact);r||Ab(!1);var a=i(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=zb(e.current.client.selection,n);t({client:r})}(e,l)}}}},PE=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Cb(t),i=Cb(n),o=null,a=function(e){o||Ab(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;DE({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){dx(),o&&Ab(!1);var t=Date.now(),n=!1,r=function(){n=!0};DE({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},hx(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=AE({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},RE="data-rbd",OE=function(){var e=RE+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),jE=function(){var e=RE+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),LE=function(){var e=RE+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ME={contextId:RE+"-scroll-container-context-id"},FE=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},UE="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,BE=function(){var e=document.querySelector("head");return e||Ab(!1),e},VE=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function zE(e,t){var n=cb((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(OE.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: "+Lx.outOfTheWay+";\n    ";return{selector:n(jE.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(LE.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:FE(i,"always"),resting:FE(i,"resting"),dragging:FE(i,"dragging"),dropAnimating:FE(i,"dropAnimating"),userCancel:FE(i,"userCancel")}}(e)}),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=ub(Sb((function(e){var t=o.current;t||Ab(!1),t.textContent=e})),[]),s=ub((function(e){var t=r.current;t||Ab(!1),t.textContent=e}),[]);UE((function(){(r.current||o.current)&&Ab(!1);var i=VE(t),l=VE(t);return r.current=i,o.current=l,i.setAttribute(RE+"-always",e),l.setAttribute(RE+"-dynamic",e),BE().appendChild(i),BE().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||Ab(!1),BE().removeChild(t),e.current=null};e(r),e(o)}}),[t,s,a,n.always,n.resting,e]);var l=ub((function(){return a(n.dragging)}),[a,n.dragging]),c=ub((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=ub((function(){o.current&&a(n.resting)}),[a,n.resting]);return cb((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}var $E=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function HE(e){return e instanceof $E(e).HTMLElement}function GE(e,t){var n="["+OE.contextId+'="'+e+'"]',r=iw(document.querySelectorAll(n));if(!r.length)return null;var i=rw(r,(function(e){return e.getAttribute(OE.draggableId)===t}));return i&&HE(i)?i:null}function qE(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Ab(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return tw(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||Ab(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return tw(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var WE=i.createContext(null),KE=function(){var e=document.body;return e||Ab(!1),e},QE={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var YE=0,JE={separator:"::"};function XE(e,t){return void 0===t&&(t=JE),cb((function(){return""+e+t.separator+YE++}),[t.separator,e])}var ZE=i.createContext(null);function ek(e){0}function tk(e,t){ek()}function nk(){tk()}function rk(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e})),t}var ik,ok=((ik={})[13]=!0,ik[9]=!0,ik),ak=function(e){ok[e.keyCode]&&e.preventDefault()},sk=function(){var e="visibilitychange";return"undefined"===typeof document?e:rw([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var lk,ck={type:"IDLE"};function uk(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&Ab(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void ak(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Ab(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:sk,fn:t}]}function dk(){}var hk=((lk={})[34]=!0,lk[33]=!0,lk[36]=!0,lk[35]=!0,lk);function fk(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(hk[r.keyCode]?r.preventDefault():ak(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:sk,fn:n}]}var pk={type:"IDLE"};var mk={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function gk(e,t){if(null==t)return!1;if(Boolean(mk[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&gk(e,t.parentElement)}function vk(e,t){var n=t.target;return!!HE(n)&&gk(e,n)}var yk=function(e){return hb(e.getBoundingClientRect()).center};var bk=function(){var e="matches";return"undefined"===typeof document?e:rw([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function wk(e,t){return null==e?null:e[bk](t)?e:wk(e.parentElement,t)}function xk(e,t){return e.closest?e.closest(t):wk(e,t)}function Ek(e,t){var n,r=t.target;if(!((n=r)instanceof $E(n).Element))return null;var i=function(e){return"["+OE.contextId+'="'+e+'"]'}(e),o=xk(r,i);return o&&HE(o)?o:null}function kk(e){e.preventDefault()}function Sk(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function Ck(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!cE(n.getState(),i))}function _k(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!Ck({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var n="["+jE.contextId+'="'+e+'"]',r=rw(iw(document.querySelectorAll(n)),(function(e){return e.getAttribute(jE.id)===t}));return r&&HE(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&vk(c,s))return null;var u=t.claim(a||Ib),d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var p=function(e,t){Sk({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=Nb(window,[{eventName:"click",fn:kk,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(Dx({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&Ab(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",sy({isActive:function(){return Sk({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var g={isActive:function(){return Sk({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=Cb((function(e){p((function(){return Sx({client:e})}))}));return sy({},m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(Cx)},moveRight:function(){return p(Ix)},moveDown:function(){return p(_x)},moveLeft:function(){return p(Nx)}};return m({liftActionArgs:{id:o,clientSelection:yk(c),movementMode:"SNAP"},cleanup:Ib,actions:e})},abort:function(){Sk({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return g}var Ik=[function(e){var t=(0,i.useRef)(ck),n=(0,i.useRef)(Ib),r=cb((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),o=cb((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=ub((function(){n.current=Nb(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=ub((function(){"IDLE"!==t.current.type&&(t.current=ck,n.current(),a())}),[a]),l=ub((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=ub((function(){var e=uk({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Nb(window,e,{capture:!0,passive:!1})}),[l,s]),u=ub((function(e,n){"IDLE"!==t.current.type&&Ab(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);UE((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,i.useRef)(dk),n=cb((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=Nb(window,fk(s,l),{capture:!0,passive:!1})}}}function l(){a||Ab(!1),a=!1,t.current(),r()}}}}),[e]),r=ub((function(){t.current=Nb(window,[n],{passive:!1,capture:!0})}),[n]);UE((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,i.useRef)(pk),n=(0,i.useRef)(Ib),r=ub((function(){return t.current}),[]),o=ub((function(e){t.current=e}),[]),a=cb((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),h(i,a)}}}}}}),[e]),s=ub((function(){n.current=Nb(window,[a],{capture:!0,passive:!1})}),[a]),l=ub((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(pk),n.current(),s())}),[s,o]),c=ub((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=ub((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=Nb(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Ab(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:sk,fn:t}]}(t),e),o=Nb(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:sk,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=ub((function(){var e=r();"PENDING"!==e.type&&Ab(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=ub((function(e,t){"IDLE"!==r().type&&Ab(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);UE((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(pk))}}),[r,s,o]),UE((function(){return Nb(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Nk(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Ik:[],o||[]),l=(0,i.useState)((function(){return function(){var e=null;function t(){e||Ab(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Ab(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=ub((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);UE((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),UE((function(){return l.tryAbandon}),[l.tryAbandon]);var u=ub((function(e){return Ck({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=ub((function(e,i,o){return _k({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,r,n]),h=ub((function(e){return function(e,t){var n=Ek(e,t);return n?n.getAttribute(OE.draggableId):null}(t,e)}),[t]),f=ub((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=ub((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),m=ub(l.isClaimed,[l]),g=cb((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}}),[u,d,h,f,p,m]);ek();for(var v=0;v<s.length;v++)s[v](g)}function Tk(e){return e.current||Ab(!1),e.current}function Dk(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,a=e.dragHandleUsageInstructions,s=(0,i.useRef)(null);nk();var l=rk(e),c=ub((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(l.current)}),[l]),u=function(e){var t=cb((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),sy(e.style,QE),KE().appendChild(e),function(){setTimeout((function(){var t=KE();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),ub((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),d=function(e){var t=e.contextId,n=e.text,r=XE("hidden-text",{separator:"-"}),o=cb((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,i.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",KE().appendChild(e),function(){var t=KE();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:a}),h=zE(t,o),f=ub((function(e){Tk(s).dispatch(e)}),[]),p=cb((function(){return wy({publishWhileDragging:bx,updateDroppableScroll:xx,updateDroppableIsEnabled:Ex,updateDroppableIsCombineEnabled:kx,collectionStarting:wx},f)}),[f]),m=function(){var e=cb(qE,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=cb((function(){return lE(m,p)}),[m,p]),v=cb((function(){return PE(sy({scrollWindow:uE,scrollDroppable:g.scrollDroppable},wy({move:Sx},f)))}),[g.scrollDroppable,f]),y=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=ub((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=ub((function(t){var n=GE(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=ub((function(e,t){n.current===e&&(n.current=t)}),[]),c=ub((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),u=ub((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(OE.draggableId)===e&&(n.current=e)}),[]);return UE((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),cb((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),b=cb((function(){return nE({announce:u,autoScroller:v,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:h})}),[u,v,g,y,c,h]);s.current=b;var w=ub((function(){var e=Tk(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=ub((function(){var e=Tk(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(cb((function(){return{isDragging:x,tryAbort:w}}),[x,w]));var E=ub((function(e){return cE(Tk(s).getState(),e)}),[]),k=ub((function(){return Xw(Tk(s).getState())}),[]),S=cb((function(){return{marshal:g,focus:y,contextId:t,canLift:E,isMovementAllowed:k,dragHandleUsageInstructionsId:d,registry:m}}),[t,g,d,y,E,k,m]);return Nk({contextId:t,store:b,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((function(){return w}),[w]),i.createElement(ZE.Provider,{value:S},i.createElement(Ny,{context:WE,store:b},e.children))}var Ak=0;function Pk(e){var t=cb((function(){return""+Ak++}),[]),n=e.dragHandleUsageInstructions||Mb;return i.createElement(Pb,null,(function(r){return i.createElement(Dk,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Rk=function(e){return function(t){return e===t}},Ok=Rk("scroll"),jk=Rk("auto"),Lk=(Rk("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Mk=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Lk(n,Ok)||Lk(n,jk)},Fk=function e(t){return null==t||t===document.body||t===document.documentElement?null:Mk(t)?t:e(t.parentElement)},Uk=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Bk=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Vk=function(e){return{closestScrollable:Fk(e),isFixedOnPage:Bk(e)}},zk=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=xb(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=fb({top:r,right:a,bottom:o,left:i},n.border);return gb({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=bb(u,i),h=function(){if(!c)return null;var e=xb(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:bb(e,i),scroll:Uk(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=rE({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Vb,displacement:Vb}}}}(),u="vertical"===o?ww:xw;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:Zb({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f},$k={passive:!1},Hk={passive:!0},Gk=function(e){return e.shouldPublishImmediately?$k:Hk};function qk(e){var t=(0,i.useContext)(e);return t||Ab(!1),t}var Wk=function(e){return e&&e.env.closestScrollable||null};function Kk(){}var Qk={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Yk=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Qk:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Lx.placeholder:null}};var Jk=i.memo((function(e){var t=(0,i.useRef)(null),n=ub((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,a=e.onClose,s=e.contextId,l=(0,i.useState)("open"===e.animate),c=l[0],u=l[1];(0,i.useEffect)((function(){return c?"open"!==r?(n(),u(!1),Kk):t.current?Kk:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):Kk}),[r,c,n]);var d=ub((function(e){"height"===e.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),h=Yk({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})})),Xk=i.createContext(null);var Zk=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ay(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),eS=5e3,tS=4500,nS=function(e,t){return t?Lx.drop(t.duration):e?Lx.snap:Lx.fluid},rS=function(e,t){return e?t?Rx.drop:Rx.combining:null};function iS(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),l=s?Ux(n,o):Fx(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:nS(a,i),transform:l,opacity:rS(o,s),zIndex:s?tS:eS,pointerEvents:"none"}}(e):{transform:Fx((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function oS(e){var t=XE("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=cb((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=ub((function(e){var t=o();return t||Ab(!1),function(e,t,n){void 0===n&&(n=Vb);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=wb(i,r),a=bb(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=cb((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);UE((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),UE((function(){if(f.current)f.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function aS(e,t,n){tk()}function sS(e){e.preventDefault()}var lS=function(e,t){return e===t},cS=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function uS(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var dS={mapped:{type:"SECONDARY",offset:Vb,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:uS(null)}};var hS=ab((function(){var e=function(){var e=Sb((function(e,t){return{x:e,y:t}})),t=Sb((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Sb((function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=Yw(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==i.draggableId)return null;var h=i.isClone,f=r.dimensions.draggables[i.draggableId],p=d.result,m=p.mode,g=cS(p),v=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:Px,moveTo:r.newHomeClientOffset,opacity:v?Rx.drop:null,scale:v?Ox.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,h,g,v,y)}}}return null}}(),t=function(){var e=Sb((function(e,t){return{x:e,y:t}})),t=Sb(uS),n=Sb((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Vb,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=dw(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=Gb(a.displacedBy.point),h=e(d.x,d.y);return n(h,u,!0)}if(l)return r(u);var f=o.displacedBy.point,p=e(f.x,f.y);return n(p,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||dS}}),{dropAnimationFinished:Ax},null,{context:WE,pure:!0,areStatePropsEqual:lS})((function(e){var t=(0,i.useRef)(null),n=ub((function(e){t.current=e}),[]),r=ub((function(){return t.current}),[]),o=qk(ZE),a=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,c=qk(Xk),u=c.type,d=c.droppableId,h=cb((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;aS(),ek(),y||oS(cb((function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}}),[h,l,r,v,g,m]));var x=cb((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:sS}:null}),[a,s,p,m]),E=ub((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),k=cb((function(){var e=iS(b),t="DRAGGING"===b.type&&b.dropping?E:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:x}}),[a,x,p,b,E,n]),S=cb((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return f(k,b.snapshot,S)}));function fS(e){return qk(Xk).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(hS,e):null}function pS(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(fS,sy({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var mS=function(e,t){return e===t.droppable.type},gS=function(e,t){return t.draggables[e.draggable.id]};var vS={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Ab(!1),document.body}},yS=ab((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=sy({},e,{shouldAnimatePlaceholder:!1}),n=Sb((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Sb((function(r,i,o,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!a)return e;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!mS(a,c))return t;var u=gS(c,n.dimensions),d=Yw(n.impact)===o;return r(o,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!mS(a,h.critical))return t;var f=gS(h.critical,n.dimensions);return r(o,s,cS(h.result)===o,Yw(h.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!mS(a,p.critical))return t;var m=Yw(p.impact)===o,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return m?g?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:WE,pure:!0,areStatePropsEqual:lS})((function(e){var t=(0,i.useContext)(ZE);t||Ab(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,i.useRef)(null),a=(0,i.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,h=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,v=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,w=ub((function(){return o.current}),[]),x=ub((function(e){o.current=e}),[]),E=(ub((function(){return a.current}),[]),ub((function(e){a.current=e}),[]));tk();var k=ub((function(){r()&&y({maxScroll:oE()})}),[r,y]);!function(e){var t=(0,i.useRef)(null),n=qk(ZE),r=XE("droppable"),o=n.registry,a=n.marshal,s=rk(e),l=cb((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=cb((function(){return Sb((function(e,n){t.current||Ab(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),d=ub((function(){var e=t.current;return e&&e.env.closestScrollable?Uk(e.env.closestScrollable):Vb}),[]),h=ub((function(){var e=d();u(e.x,e.y)}),[d,u]),f=cb((function(){return Cb(h)}),[h]),p=ub((function(){var e=t.current,n=Wk(e);e&&n||Ab(!1),e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),m=ub((function(e,r){t.current&&Ab(!1);var i=s.current,o=i.getDroppableRef();o||Ab(!1);var a=Vk(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=zk({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(ME.contextId,n.contextId),d.addEventListener("scroll",p,Gk(c.scrollOptions))),u}),[n.contextId,l,p,s]),g=ub((function(){var e=t.current,n=Wk(e);return e&&n||Ab(!1),Uk(n)}),[]),v=ub((function(){var e=t.current;e||Ab(!1);var n=Wk(e);t.current=null,n&&(f.cancel(),n.removeAttribute(ME.contextId),n.removeEventListener("scroll",p,Gk(e.scrollOptions)))}),[p,f]),y=ub((function(e){var n=t.current;n||Ab(!1);var r=Wk(n);r||Ab(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=cb((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:y}}),[v,m,g,y]),w=cb((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);UE((function(){return c.current=w.descriptor,o.droppable.register(w),function(){t.current&&v(),o.droppable.unregister(w)}}),[b,l,v,w,a,o.droppable]),UE((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),UE((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});var S=i.createElement(Zk,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement(Jk,{placeholder:r,onClose:t,innerRef:E,animate:o,contextId:n,onTransitionEnd:k})})),C=cb((function(){return{innerRef:x,placeholder:S,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,S,x]),_=v?v.dragging.draggableId:null,I=cb((function(){return{droppableId:c,type:u,isUsingCloneFor:_}}),[c,_,u]);return i.createElement(Xk.Provider,{value:I},l(C,g),function(){if(!v)return null;var e=v.dragging,t=v.render,n=i.createElement(fS,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return s.createPortal(n,b())}())}));yS.defaultProps=vS;const bS=()=>{const{user:e}=qg(),{tasks:t,fetchTasks:n,createTask:r,deleteTask:o,toggleTaskCompletion:a,updateTask:s}=Jv(),{events:l,fetchEvents:c,createEvent:u,deleteEvent:d,updateEvent:h}=Yv(),[f,p]=(0,i.useState)("list"),[m,g]=(0,i.useState)("month"),[v,y]=(0,i.useState)(!0),[b,w]=(0,i.useState)(""),[x,E]=(0,i.useState)(!0),[k,S]=(0,i.useState)(!1),[C,_]=(0,i.useState)(""),[I,N]=(0,i.useState)("all"),[T,D]=(0,i.useState)("all"),[A,P]=(0,i.useState)(null),[R,O]=(0,i.useState)("dueDate"),[j,L]=(0,i.useState)("asc"),[M,F]=(0,i.useState)("normal"),[U,B]=(0,i.useState)(""),[V,z]=(0,i.useState)(""),[$,H]=(0,i.useState)(!1),[G,q]=(0,i.useState)("daily"),[W,K]=(0,i.useState)("default"),[Q,Y]=(0,i.useState)([]),[J,X]=(0,i.useState)(""),[Z,ee]=(0,i.useState)(!1),[te,ne]=(0,i.useState)(null),[re,ie]=(0,i.useState)(new Date),[oe,ae]=(0,i.useState)(!1),[se,le]=(0,i.useState)((new Date).toISOString().split("T")[0]),[ce,ue]=(0,i.useState)({title:"",date:(new Date).toISOString().split("T")[0],time:"12:00",description:"",category:"default",reminder:!1,reminderTime:"30"}),[de,he]=(0,i.useState)(null),[fe,pe]=(0,i.useState)(!0),[me,ge]=(0,i.useState)({completedToday:0,completedThisWeek:0,streak:0,totalCompleted:0});(0,i.useEffect)((()=>{e&&(y(!0),Promise.all([n(e.uid),c(e.uid)]).then((()=>{y(!1)})).catch((e=>{console.error("Error fetching data:",e),y(!1)})))}),[e,n,c]);const ve=(0,i.useMemo)((()=>{let e=t;if(b){const t=b.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)))}if("all"!==I&&(e=e.filter((e=>"completed"===I?e.completed:!e.completed))),"all"!==T&&(e=e.filter((e=>e.priority===T))),A){const t=new Date;t.setHours(0,0,0,0);const n=new Date(t);n.setDate(n.getDate()+1);const r=new Date(t);r.setDate(r.getDate()+7),e=e.filter((e=>{if(!e.dueDate)return!1;const i=new Date(e.dueDate);return i.setHours(0,0,0,0),"today"===A?i.getTime()===t.getTime():"tomorrow"===A?i.getTime()===n.getTime():"week"!==A||i>=t&&i<r}))}if("dueDate"===R)e.sort(((e,t)=>e.dueDate?t.dueDate?new Date(e.dueDate)-new Date(t.dueDate):-1:1));else if("priority"===R){const t={high:0,medium:1,low:2,normal:3};e.sort(((e,n)=>t[e.priority||"normal"]-t[n.priority||"normal"]))}else"title"===R&&e.sort(((e,t)=>e.title.localeCompare(t.title)));return"desc"===j&&e.reverse(),e}),[t,b,I,T,A,R,j]);(0,i.useEffect)((()=>{if(!t.length)return;const e=new Date;e.setHours(0,0,0,0);const n=new Date(e);n.setDate(e.getDate()-e.getDay());const r=t.filter((t=>t.completed&&new Date(t.updatedAt).setHours(0,0,0,0)===e.getTime())).length,i=t.filter((e=>{const t=new Date(e.updatedAt);return t.setHours(0,0,0,0),e.completed&&t>=n})).length,o=t.filter((e=>e.completed)).length;let a=localStorage.getItem("taskStreak")?parseInt(localStorage.getItem("taskStreak")):0;if(r>0){const e=localStorage.getItem("lastActiveDate"),t=(new Date).toDateString();e!==t&&(new Date(e).getTime()===new Date(t).getTime()-864e5?a+=1:new Date(e).getTime()<new Date(t).getTime()-864e5&&(a=1),localStorage.setItem("lastActiveDate",t),localStorage.setItem("taskStreak",a.toString()))}ge({completedToday:r,completedThisWeek:i,streak:a,totalCompleted:o})}),[t]);const ye=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},be=e=>{if(!e)return"";return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},we=e=>{switch(e){case"high":return"var(--color-error)";case"medium":return"var(--color-warning)";case"low":return"var(--color-success)";default:return"var(--color-accent)"}},xe=e=>{const t={work:"#4a6da7",personal:"#6a8d73",school:"#a28089",health:"#d96666",default:"var(--color-accent)"};return t[e]||t.default},Ee=async(e,t)=>{try{await s(e,t),te&&te.id===e&&ne(null)}catch(n){console.error("Error updating task:",n)}},ke=async e=>{try{await d(e)}catch(t){console.error("Error deleting event:",t)}},Se=e=>{he(e),ue({title:e.title,date:new Date(e.date).toISOString().split("T")[0],time:new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),description:e.description||"",category:e.category||"default",reminder:e.reminder||!1,reminderTime:e.reminderTime||"30"}),ae(!0)},Ce=e=>{le(e),ue((t=>({...t,date:e}))),ae(!0)},_e=l.filter((e=>{const t=new Date(e.date),n=new Date,r=new Date;return r.setDate(n.getDate()+7),t>=n&&t<=r})).sort(((e,t)=>new Date(e.date)-new Date(t.date)));return(0,Wg.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,Wg.jsxs)("div",{className:"flex-1 p-6",children:[(0,Wg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Wg.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:"list"===f?"To Do List":"Calendar"}),(0,Wg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Wg.jsxs)("div",{className:"relative mr-4",children:[(0,Wg.jsx)("input",{type:"text",placeholder:"Search...",className:"px-3 py-2 pr-8 border rounded-md",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:b,onChange:e=>w(e.target.value)}),(0,Wg.jsx)(Vv,{className:"absolute right-3 top-3",style:{color:"var(--color-text-secondary)"}})]}),(0,Wg.jsxs)("div",{className:"flex rounded-md overflow-hidden",children:[(0,Wg.jsxs)("button",{onClick:()=>p("list"),className:"px-4 py-2 flex items-center "+("list"===f?"bg-blue-500 text-white":"bg-gray-200"),style:"list"===f?{backgroundColor:"var(--color-accent)",color:"white"}:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:[(0,Wg.jsx)(Ov,{className:"mr-2"}),"List"]}),(0,Wg.jsxs)("button",{onClick:()=>p("calendar"),className:"px-4 py-2 flex items-center "+("calendar"===f?"bg-blue-500 text-white":"bg-gray-200"),style:"calendar"===f?{backgroundColor:"var(--color-accent)",color:"white"}:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:[(0,Wg.jsx)(vv,{className:"mr-2"}),"Calendar"]})]})]})]}),(0,Wg.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex justify-between items-center",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 2px 4px var(--color-shadow)"},children:[(0,Wg.jsxs)("div",{className:"text-center",children:[(0,Wg.jsx)("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Completed Today"}),(0,Wg.jsx)("div",{className:"text-2xl font-bold",style:{color:"var(--color-accent)"},children:me.completedToday})]}),(0,Wg.jsxs)("div",{className:"text-center",children:[(0,Wg.jsx)("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"This Week"}),(0,Wg.jsx)("div",{className:"text-2xl font-bold",style:{color:"var(--color-accent)"},children:me.completedThisWeek})]}),(0,Wg.jsxs)("div",{className:"text-center",children:[(0,Wg.jsx)("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Streak"}),(0,Wg.jsxs)("div",{className:"text-2xl font-bold",style:{color:"var(--color-accent)"},children:[me.streak," days"]})]}),(0,Wg.jsxs)("div",{className:"text-center",children:[(0,Wg.jsx)("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Total Completed"}),(0,Wg.jsx)("div",{className:"text-2xl font-bold",style:{color:"var(--color-accent)"},children:me.totalCompleted})]})]}),"list"===f?(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("div",{className:"mb-6 p-4 rounded-lg shadow-md",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 2px 4px var(--color-shadow)"},children:Z?(0,Wg.jsxs)("form",{onSubmit:te?async t=>{if(t.preventDefault(),te&&C.trim()&&e)try{const e={title:C.trim(),priority:M,dueDate:U?new Date(`${U}${V?`T${V}`:""}`):null,category:W,isRecurring:$,recurringType:$?G:null,subtasks:Q};await s(te.id,e),ne(null),_(""),B(""),z(""),F("normal"),K("default"),H(!1),q("daily"),Y([]),ee(!1)}catch(n){console.error("Error updating task:",n)}}:async t=>{if(t.preventDefault(),C.trim()&&e)try{const t={title:C.trim(),completed:!1,createdAt:new Date,priority:M,dueDate:U?new Date(`${U}${V?`T${V}`:""}`):null,category:W,isRecurring:$,recurringType:$?G:null,subtasks:Q.map((e=>({text:e.text,completed:e.completed})))};await r(e.uid,t),_(""),B(""),z(""),F("normal"),K("default"),H(!1),q("daily"),Y([]),ee(!1)}catch(n){console.error("Error adding task:",n)}},children:[(0,Wg.jsx)("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--color-text)"},children:te?"Edit Task":"Add New Task"}),(0,Wg.jsxs)("div",{className:"space-y-4",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Task Title"}),(0,Wg.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},placeholder:"Task title...",value:C,onChange:e=>_(e.target.value),required:!0})]}),(0,Wg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Due Date"}),(0,Wg.jsx)("input",{type:"date",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:U,onChange:e=>B(e.target.value)})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Due Time (optional)"}),(0,Wg.jsx)("input",{type:"time",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:V,onChange:e=>z(e.target.value)})]})]}),(0,Wg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Priority"}),(0,Wg.jsxs)("select",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:M,onChange:e=>F(e.target.value),children:[(0,Wg.jsx)("option",{value:"low",children:"Low"}),(0,Wg.jsx)("option",{value:"normal",children:"Normal"}),(0,Wg.jsx)("option",{value:"medium",children:"Medium"}),(0,Wg.jsx)("option",{value:"high",children:"High"})]})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Category"}),(0,Wg.jsxs)("select",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:W,onChange:e=>K(e.target.value),children:[(0,Wg.jsx)("option",{value:"default",children:"Default"}),(0,Wg.jsx)("option",{value:"work",children:"Work"}),(0,Wg.jsx)("option",{value:"personal",children:"Personal"}),(0,Wg.jsx)("option",{value:"school",children:"School"}),(0,Wg.jsx)("option",{value:"health",children:"Health"})]})]})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wg.jsx)("input",{type:"checkbox",id:"isRecurring",className:"mr-2",checked:$,onChange:e=>H(e.target.checked)}),(0,Wg.jsx)("label",{htmlFor:"isRecurring",className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Recurring Task"})]}),$&&(0,Wg.jsxs)("select",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:G,onChange:e=>q(e.target.value),children:[(0,Wg.jsx)("option",{value:"daily",children:"Daily"}),(0,Wg.jsx)("option",{value:"weekly",children:"Weekly"}),(0,Wg.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Subtasks"}),(0,Wg.jsx)("div",{className:"space-y-2 mb-2",children:Q.map(((e,t)=>(0,Wg.jsxs)("div",{className:"flex items-center",children:[(0,Wg.jsx)("input",{type:"checkbox",checked:e.completed,onChange:e=>((e,t)=>{const n=[...Q];if(n[e].completed=t,Y(n),te){const n=[...te.subtasks];n[e].completed=t,Ee(te.id,{subtasks:n})}})(t,e.target.checked),className:"mr-2 h-4 w-4",style:{accentColor:"var(--color-accent)"}}),(0,Wg.jsx)("span",{className:e.completed?"line-through":"",style:{color:"var(--color-text-secondary)"},children:e.text}),(0,Wg.jsx)("button",{type:"button",onClick:()=>(e=>{if(Y(Q.filter(((t,n)=>n!==e))),te){const t=te.subtasks.filter(((t,n)=>n!==e));Ee(te.id,{subtasks:t})}})(t),className:"ml-auto text-gray-400 hover:text-red-500",children:(0,Wg.jsx)(Gv,{size:12})})]},t)))}),(0,Wg.jsxs)("div",{className:"flex",children:[(0,Wg.jsx)("input",{type:"text",className:"flex-1 px-3 py-2 border rounded-l-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},placeholder:"Add subtask...",value:J,onChange:e=>X(e.target.value)}),(0,Wg.jsx)("button",{type:"button",onClick:()=>{J.trim()&&(Y([...Q,{text:J,completed:!1}]),X(""))},className:"px-3 py-2 rounded-r-md",style:{backgroundColor:"var(--color-accent)",color:"white"},children:(0,Wg.jsx)(Bv,{})})]})]})]}),(0,Wg.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,Wg.jsx)("button",{type:"button",className:"px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},onClick:()=>{ne(null),_(""),B(""),z(""),F("normal"),K("default"),H(!1),q("daily"),Y([]),ee(!1)},children:"Cancel"}),(0,Wg.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-accent)",color:"white"},disabled:!C.trim(),children:te?"Update Task":"Add Task"})]})]}):(0,Wg.jsxs)("div",{className:"flex",children:[(0,Wg.jsx)("input",{type:"text",className:"flex-1 px-3 py-2 border rounded-l-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},placeholder:"Add a new task...",value:C,onChange:e=>_(e.target.value)}),(0,Wg.jsx)("button",{onClick:()=>ee(!0),className:"px-3 py-2 rounded-r-md",style:{backgroundColor:"var(--color-accent)",color:"white"},children:(0,Wg.jsx)(Bv,{})})]})}),(0,Wg.jsxs)("div",{className:"mb-4 p-4 rounded-lg flex justify-between items-center",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 2px 4px var(--color-shadow)"},children:[(0,Wg.jsxs)("div",{className:"flex space-x-2",children:[(0,Wg.jsx)("button",{onClick:()=>N("all"),className:"px-3 py-1 rounded-md "+("all"===I?"bg-blue-500 text-white":"bg-gray-200"),style:"all"===I?{backgroundColor:"var(--color-accent)",color:"white"}:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:"All"}),(0,Wg.jsx)("button",{onClick:()=>N("active"),className:"px-3 py-1 rounded-md "+("active"===I?"bg-blue-500 text-white":"bg-gray-200"),style:"active"===I?{backgroundColor:"var(--color-accent)",color:"white"}:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:"Active"}),(0,Wg.jsx)("button",{onClick:()=>N("completed"),className:"px-3 py-1 rounded-md "+("completed"===I?"bg-blue-500 text-white":"bg-gray-200"),style:"completed"===I?{backgroundColor:"var(--color-accent)",color:"white"}:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:"Completed"})]}),(0,Wg.jsxs)("div",{className:"flex items-center",children:[(0,Wg.jsx)("span",{className:"mr-2 text-sm",style:{color:"var(--color-text-secondary)"},children:"Sort by:"}),(0,Wg.jsxs)("select",{className:"px-2 py-1 border rounded-md",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:R,onChange:e=>O(e.target.value),children:[(0,Wg.jsx)("option",{value:"dueDate",children:"Due Date"}),(0,Wg.jsx)("option",{value:"priority",children:"Priority"}),(0,Wg.jsx)("option",{value:"title",children:"Title"})]}),(0,Wg.jsx)("button",{onClick:()=>L("asc"===j?"desc":"asc"),className:"ml-2 p-1 rounded-md",style:{color:"var(--color-text-secondary)"},children:"asc"===j?(0,Wg.jsx)(hv,{}):(0,Wg.jsx)(uv,{})})]})]}),(0,Wg.jsx)(Pk,{onDragEnd:e=>{if(!e.destination)return;const n=Array.from(t),[r]=n.splice(e.source.index,1);n.splice(e.destination.index,0,r)},children:(0,Wg.jsx)(yS,{droppableId:"tasks",children:n=>(0,Wg.jsxs)("div",{...n.droppableProps,ref:n.innerRef,className:"space-y-2",children:[ve.map(((n,i)=>(0,Wg.jsx)(pS,{draggableId:n.id,index:i,children:i=>(0,Wg.jsx)("div",{ref:i.innerRef,...i.draggableProps,...i.dragHandleProps,className:"p-4 rounded-lg shadow-sm",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 1px 2px var(--color-shadow)",borderLeft:`4px solid ${we(n.priority)}`},children:(0,Wg.jsxs)("div",{className:"flex items-start",children:[(0,Wg.jsx)("div",{className:"mr-3 mt-1",children:(0,Wg.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded",checked:n.completed,onChange:()=>(async n=>{try{const i=t.find((e=>e.id===n));if(!i)return;if(await a(n),!i.completed&&(S(!0),setTimeout((()=>S(!1)),2e3),i.isRecurring)){const t=new Date(i.dueDate);switch(i.recurringType){case"daily":t.setDate(t.getDate()+1);break;case"weekly":t.setDate(t.getDate()+7);break;case"monthly":t.setMonth(t.getMonth()+1)}await r(e.uid,{...i,id:void 0,completed:!1,dueDate:t,createdAt:new Date})}}catch(i){console.error("Error toggling task completion:",i)}})(n.id),style:{accentColor:"var(--color-accent)"}})}),(0,Wg.jsxs)("div",{className:"flex-1",children:[(0,Wg.jsxs)("div",{className:"flex justify-between",children:[(0,Wg.jsx)("h3",{className:"font-medium "+(n.completed?"line-through":""),style:{color:"var(--color-text)"},children:n.title}),(0,Wg.jsxs)("div",{className:"flex space-x-2",children:[n.isRecurring&&(0,Wg.jsx)("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-accent-light)",color:"var(--color-accent)"},children:n.recurringType}),(0,Wg.jsx)("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:we(n.priority)+"20",color:we(n.priority)},children:n.priority})]})]}),n.dueDate&&(0,Wg.jsxs)("p",{className:"text-sm mt-1",style:{color:"var(--color-text-secondary)"},children:["Due: ",ye(n.dueDate)," ",n.dueDate&&0!==new Date(n.dueDate).getHours()?be(n.dueDate):""]}),n.subtasks&&n.subtasks.length>0&&(0,Wg.jsx)("div",{className:"mt-2 space-y-1",children:n.subtasks.map(((e,t)=>(0,Wg.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Wg.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>{const r=[...n.subtasks];r[t].completed=!e.completed,Ee(n.id,{subtasks:r})},className:"mr-2 h-4 w-4",style:{accentColor:"var(--color-accent)"}}),(0,Wg.jsx)("span",{className:e.completed?"line-through":"",style:{color:"var(--color-text-secondary)"},children:e.text})]},t)))})]}),(0,Wg.jsxs)("div",{className:"ml-4 flex space-x-2",children:[(0,Wg.jsx)("button",{onClick:()=>(e=>{ne(e),_(e.title),F(e.priority||"normal"),B(e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:""),z(e.dueDate?new Date(e.dueDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}):""),K(e.category||"default"),H(e.isRecurring||!1),q(e.recurringType||"daily"),Y(e.subtasks||[]),ee(!0)})(n),className:"text-gray-400 hover:text-blue-500",children:(0,Wg.jsx)(Cv,{size:16})}),(0,Wg.jsx)("button",{onClick:()=>(async e=>{try{await o(e)}catch(t){console.error("Error deleting task:",t)}})(n.id),className:"text-gray-400 hover:text-red-500",children:(0,Wg.jsx)(Gv,{size:16})})]})]})})},n.id))),n.placeholder]})})}),0===ve.length&&(0,Wg.jsx)("div",{className:"text-center py-8",style:{color:"var(--color-text-secondary)"},children:"No tasks found. Add a new task to get started!"})]}):(0,Wg.jsxs)("div",{children:[(0,Wg.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Wg.jsxs)("div",{className:"flex items-center",children:[(0,Wg.jsx)("button",{onClick:()=>{if("month"===m)ie(new Date(re.getFullYear(),re.getMonth()-1,1));else if("week"===m){const e=new Date(re);e.setDate(re.getDate()-7),ie(e)}else{const e=new Date(re);e.setDate(re.getDate()-1),ie(e)}},className:"p-2 mr-2 rounded-full hover:bg-gray-100",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(wv,{})}),(0,Wg.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)",textShadow:"var(--text-shadow)"},children:(e=>{if("month"===m)return e.toLocaleDateString("en-US",{month:"long",year:"numeric"});if("week"===m){const t=new Date(e);t.setDate(e.getDate()-e.getDay());const n=new Date(t);return n.setDate(t.getDate()+6),t.getMonth()===n.getMonth()?`${t.toLocaleDateString("en-US",{month:"long"})} ${t.getDate()} - ${n.getDate()}, ${t.getFullYear()}`:`${t.toLocaleDateString("en-US",{month:"short"})} ${t.getDate()} - ${n.toLocaleDateString("en-US",{month:"short"})} ${n.getDate()}, ${t.getFullYear()}`}return e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})(re)}),(0,Wg.jsx)("button",{onClick:()=>{if("month"===m)ie(new Date(re.getFullYear(),re.getMonth()+1,1));else if("week"===m){const e=new Date(re);e.setDate(re.getDate()+7),ie(e)}else{const e=new Date(re);e.setDate(re.getDate()+1),ie(e)}},className:"p-2 ml-2 rounded-full hover:bg-gray-100",style:{color:"var(--color-text-secondary)"},children:(0,Wg.jsx)(xv,{})})]}),(0,Wg.jsxs)("div",{className:"flex items-center",children:[(0,Wg.jsxs)("div",{className:"flex rounded-md overflow-hidden mr-4",children:[(0,Wg.jsxs)("button",{onClick:()=>g("month"),className:"px-3 py-1 flex items-center "+("month"===m?"bg-blue-500 text-white":"bg-gray-200"),style:"month"===m?{backgroundColor:"var(--color-accent)",color:"white"}:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:[(0,Wg.jsx)(vv,{className:"mr-1",size:12}),"Month"]}),(0,Wg.jsxs)("button",{onClick:()=>g("week"),className:"px-3 py-1 flex items-center "+("week"===m?"bg-blue-500 text-white":"bg-gray-200"),style:"week"===m?{backgroundColor:"var(--color-accent)",color:"white"}:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:[(0,Wg.jsx)(bv,{className:"mr-1",size:12}),"Week"]}),(0,Wg.jsxs)("button",{onClick:()=>g("day"),className:"px-3 py-1 flex items-center "+("day"===m?"bg-blue-500 text-white":"bg-gray-200"),style:"day"===m?{backgroundColor:"var(--color-accent)",color:"white"}:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:[(0,Wg.jsx)(yv,{className:"mr-1",size:12}),"Day"]})]}),(0,Wg.jsxs)("button",{onClick:()=>{le((new Date).toISOString().split("T")[0]),ue((e=>({...e,date:(new Date).toISOString().split("T")[0]}))),ae(!0)},className:"flex items-center px-3 py-2 rounded-md",style:{backgroundColor:"var(--color-accent)",color:"white"},children:[(0,Wg.jsx)(Bv,{className:"mr-1"}),"New Event"]})]})]}),oe&&(0,Wg.jsx)("div",{className:"mb-6 p-4 border rounded-lg shadow-md",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)",boxShadow:"0 2px 4px var(--color-shadow)"},children:(0,Wg.jsxs)("form",{onSubmit:de?async t=>{if(t.preventDefault(),de&&ce.title.trim()&&e)try{const e=new Date(`${ce.date}T${ce.time}`);await h(de.id,{title:ce.title.trim(),date:e,description:ce.description,category:ce.category,reminder:ce.reminder,reminderTime:ce.reminderTime,updatedAt:new Date}),he(null),ue({title:"",date:se,time:"12:00",description:"",category:"default",reminder:!1,reminderTime:"30"}),ae(!1)}catch(n){console.error("Error updating event:",n)}}:async t=>{if(t.preventDefault(),ce.title.trim()&&e)try{const t=new Date(`${ce.date}T${ce.time}`);await u(e.uid,{title:ce.title.trim(),date:t,description:ce.description,category:ce.category,reminder:ce.reminder,reminderTime:ce.reminderTime,createdAt:new Date}),ue({title:"",date:se,time:"12:00",description:"",category:"default",reminder:!1,reminderTime:"30"}),ae(!1)}catch(n){console.error("Error creating event:",n)}},children:[(0,Wg.jsx)("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--color-text)"},children:de?"Edit Event":"Create New Event"}),(0,Wg.jsxs)("div",{className:"space-y-4",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Event Title"}),(0,Wg.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},placeholder:"Event title...",value:ce.title,onChange:e=>ue({...ce,title:e.target.value}),required:!0})]}),(0,Wg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Date"}),(0,Wg.jsx)("input",{type:"date",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:ce.date,onChange:e=>ue({...ce,date:e.target.value}),required:!0})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Time"}),(0,Wg.jsx)("input",{type:"time",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:ce.time,onChange:e=>ue({...ce,time:e.target.value}),required:!0})]})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Category"}),(0,Wg.jsxs)("select",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:ce.category,onChange:e=>ue({...ce,category:e.target.value}),children:[(0,Wg.jsx)("option",{value:"default",children:"Default"}),(0,Wg.jsx)("option",{value:"work",children:"Work"}),(0,Wg.jsx)("option",{value:"personal",children:"Personal"}),(0,Wg.jsx)("option",{value:"school",children:"School"}),(0,Wg.jsx)("option",{value:"health",children:"Health"})]})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Wg.jsx)("input",{type:"checkbox",id:"reminderEnabled",className:"mr-2",checked:ce.reminder,onChange:e=>ue({...ce,reminder:e.target.checked})}),(0,Wg.jsx)("label",{htmlFor:"reminderEnabled",className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Set Reminder"})]}),ce.reminder&&(0,Wg.jsxs)("select",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},value:ce.reminderTime,onChange:e=>ue({...ce,reminderTime:e.target.value}),children:[(0,Wg.jsx)("option",{value:"5",children:"5 minutes before"}),(0,Wg.jsx)("option",{value:"15",children:"15 minutes before"}),(0,Wg.jsx)("option",{value:"30",children:"30 minutes before"}),(0,Wg.jsx)("option",{value:"60",children:"1 hour before"}),(0,Wg.jsx)("option",{value:"1440",children:"1 day before"})]})]}),(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Description (optional)"}),(0,Wg.jsx)("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",borderColor:"var(--color-border)"},rows:"3",placeholder:"Event description...",value:ce.description,onChange:e=>ue({...ce,description:e.target.value})})]})]}),(0,Wg.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,Wg.jsx)("button",{type:"button",className:"px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},onClick:()=>{ae(!1),he(null),ue({title:"",date:se,time:"12:00",description:"",category:"default",reminder:!1,reminderTime:"30"})},children:"Cancel"}),(0,Wg.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-md",style:{backgroundColor:"var(--color-accent)",color:"white"},disabled:!ce.title.trim(),children:de?"Update Event":"Create Event"})]})]})}),(0,Wg.jsxs)("div",{className:"flex",children:[fe&&(0,Wg.jsxs)("div",{className:"w-64 mr-6 rounded-lg shadow-md overflow-hidden",style:{backgroundColor:"var(--color-secondary)",boxShadow:"0 2px 4px var(--color-shadow)"},children:[(0,Wg.jsx)("div",{className:"p-4 border-b",style:{borderColor:"var(--color-border)"},children:(0,Wg.jsx)("h3",{className:"text-lg font-medium",style:{color:"var(--color-text)"},children:"Upcoming Events"})}),(0,Wg.jsx)("div",{className:"p-4",children:0===_e.length?(0,Wg.jsx)("div",{className:"text-center py-4",style:{color:"var(--color-text-secondary)"},children:"No upcoming events"}):(0,Wg.jsx)("div",{className:"space-y-3",children:_e.map((e=>(0,Wg.jsxs)("div",{className:"p-2 rounded",style:{backgroundColor:xe(e.category)+"20",borderLeft:`3px solid ${xe(e.category)}`},onClick:()=>Se(e),children:[(0,Wg.jsx)("div",{className:"font-medium",style:{color:"var(--color-text)"},children:e.title}),(0,Wg.jsxs)("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:[ye(e.date)," at ",be(e.date)]})]},e.id)))})})]}),(0,Wg.jsx)("div",{className:"flex-1",children:(0,Wg.jsxs)("div",{className:"mb-8 border rounded-lg shadow-md overflow-hidden",style:{borderColor:"var(--color-border)",boxShadow:"0 4px 6px var(--color-shadow)"},children:["month"===m&&(0,Wg.jsxs)("div",{className:"grid grid-cols-7 gap-0",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e=>(0,Wg.jsx)("div",{className:"p-2 text-center font-medium border-b",style:{backgroundColor:"var(--color-accent-light)",color:"var(--color-accent)",borderColor:"var(--color-border)"},children:e},e))),(()=>{const e=re.getFullYear(),t=re.getMonth(),n=new Date(e,t,1).getDay(),r=new Date(e,t+1,0).getDate(),i=[];for(let o=0;o<n;o++)i.push((0,Wg.jsx)("div",{className:"h-24 border border-gray-200",style:{backgroundColor:"var(--color-secondary)",opacity:.5}},`empty-${o}`));for(let o=1;o<=r;o++){const n=new Date(e,t,o),r=n.toISOString().split("T")[0],a=l.filter((n=>{const r=new Date(n.date);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===o}));i.push((0,Wg.jsxs)("div",{className:"h-24 border border-gray-200 p-1 overflow-hidden relative",style:{backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Wg.jsx)("span",{className:"text-sm font-medium "+((new Date).toDateString()===n.toDateString()?"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center":""),style:{backgroundColor:(new Date).toDateString()===n.toDateString()?"var(--color-accent-light)":"transparent",color:(new Date).toDateString()===n.toDateString()?"var(--color-accent)":"var(--color-text)"},children:o}),(0,Wg.jsx)("button",{onClick:()=>Ce(r),className:"text-xs p-1 rounded-full hover:bg-gray-100",style:{color:"var(--color-text-secondary)"},title:"Add event",children:(0,Wg.jsx)(Bv,{size:10})})]}),(0,Wg.jsx)("div",{className:"mt-1 space-y-1 max-h-16 overflow-y-auto",children:a.map((e=>(0,Wg.jsxs)("div",{className:"text-xs p-1 rounded flex justify-between items-center",style:{backgroundColor:xe(e.category),color:"#000000"},onClick:()=>Se(e),children:[(0,Wg.jsx)("span",{className:"truncate",children:e.title}),(0,Wg.jsx)("button",{onClick:t=>{t.stopPropagation(),ke(e.id)},className:"text-gray-400 hover:text-red-500 ml-1",children:(0,Wg.jsx)(Gv,{size:10})})]},e.id)))})]},o))}return i})()]}),"week"===m&&(()=>{const e=new Date(re);e.setDate(re.getDate()-re.getDay());const t=[];for(let n=0;n<7;n++){const r=new Date(e);r.setDate(e.getDate()+n);const i=r.toISOString().split("T")[0],o=l.filter((e=>new Date(e.date).toDateString()===r.toDateString()));t.push((0,Wg.jsxs)("div",{className:"border border-gray-200 p-2",style:{backgroundColor:"var(--color-secondary)"},children:[(0,Wg.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("div",{className:"text-sm font-medium",children:r.toLocaleDateString("en-US",{weekday:"short"})}),(0,Wg.jsx)("div",{className:"text-lg font-bold "+((new Date).toDateString()===r.toDateString()?"text-blue-600":""),style:{color:(new Date).toDateString()===r.toDateString()?"var(--color-accent)":"var(--color-text)"},children:r.getDate()})]}),(0,Wg.jsx)("button",{onClick:()=>Ce(i),className:"p-1 rounded-full hover:bg-gray-100",style:{color:"var(--color-text-secondary)"},title:"Add event",children:(0,Wg.jsx)(Bv,{size:12})})]}),(0,Wg.jsx)("div",{className:"space-y-1",children:o.map((e=>(0,Wg.jsxs)("div",{className:"text-xs p-1 rounded flex justify-between items-center",style:{backgroundColor:xe(e.category),color:"#000000"},onClick:()=>Se(e),children:[(0,Wg.jsxs)("div",{className:"flex-1",children:[(0,Wg.jsx)("div",{className:"font-medium truncate",children:e.title}),(0,Wg.jsx)("div",{className:"text-xs",children:be(e.date)})]}),(0,Wg.jsx)("button",{onClick:t=>{t.stopPropagation(),ke(e.id)},className:"text-gray-400 hover:text-red-500 ml-1",children:(0,Wg.jsx)(Gv,{size:10})})]},e.id)))})]},n))}return(0,Wg.jsx)("div",{className:"grid grid-cols-7 gap-2",children:t})})(),"day"===m&&(()=>{const e=new Date(re),t=e.toISOString().split("T")[0],n=l.filter((t=>new Date(t.date).toDateString()===e.toDateString())).sort(((e,t)=>new Date(e.date)-new Date(t.date))),r=[];for(let i=0;i<24;i++){i.toString().padStart(2,"0");const e=n.filter((e=>new Date(e.date).getHours()===i));r.push((0,Wg.jsxs)("div",{className:"flex border-b border-gray-200 py-2",style:{borderColor:"var(--color-border)"},children:[(0,Wg.jsx)("div",{className:"w-16 text-right pr-4 text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:0===i?"12 AM":i<12?`${i} AM`:12===i?"12 PM":i-12+" PM"}),(0,Wg.jsx)("div",{className:"flex-1",children:e.map((e=>(0,Wg.jsx)("div",{className:"mb-1 p-2 rounded",style:{backgroundColor:xe(e.category),color:"#000000"},onClick:()=>Se(e),children:(0,Wg.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Wg.jsxs)("div",{children:[(0,Wg.jsx)("div",{className:"font-medium",children:e.title}),(0,Wg.jsx)("div",{className:"text-xs",children:be(e.date)}),e.description&&(0,Wg.jsx)("div",{className:"text-sm mt-1",children:e.description})]}),(0,Wg.jsx)("button",{onClick:t=>{t.stopPropagation(),ke(e.id)},className:"text-gray-400 hover:text-red-500",children:(0,Wg.jsx)(Gv,{size:14})})]})},e.id)))})]},i))}return(0,Wg.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,Wg.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",style:{backgroundColor:"var(--color-secondary)",borderColor:"var(--color-border)"},children:[(0,Wg.jsx)("h3",{className:"text-lg font-medium",style:{color:"var(--color-text)"},children:e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),(0,Wg.jsxs)("button",{onClick:()=>Ce(t),className:"px-3 py-1 rounded-md flex items-center",style:{backgroundColor:"var(--color-accent)",color:"white"},children:[(0,Wg.jsx)(Bv,{className:"mr-1",size:12}),"Add Event"]})]}),(0,Wg.jsx)("div",{className:"max-h-[600px] overflow-y-auto",children:r})]})})()]})})]})]}),(0,Wg.jsx)("div",{className:"fixed bottom-8 right-8 z-10",children:(0,Wg.jsx)("button",{onClick:()=>{"list"===f?ee(!0):(le((new Date).toISOString().split("T")[0]),ue((e=>({...e,date:(new Date).toISOString().split("T")[0]}))),ae(!0))},className:"w-14 h-14 rounded-full flex items-center justify-center shadow-lg",style:{backgroundColor:"var(--color-accent)",color:"white"},children:(0,Wg.jsx)(Bv,{size:20})})}),k&&(0,Wg.jsx)("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",children:(0,Wg.jsx)("div",{className:"text-6xl animate-bounce",children:"\ud83c\udf89"})})]}),(0,Wg.jsxs)("div",{class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 text-center text-sm text-gray-500",children:[(0,Wg.jsx)("p",{children:"\xa9 2025 Jedidiah 5000 Productions. All rights reserved."}),(0,Wg.jsx)("p",{children:"Jedidiah is awesome"})]})]})},wS="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function xS(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]={...o};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=xS(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}function ES(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?xS(t.components[n].defaultProps,r):r}var kS=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(BC){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),SS=Math.abs,CS=String.fromCharCode,_S=Object.assign;function IS(e){return e.trim()}function NS(e,t,n){return e.replace(t,n)}function TS(e,t){return e.indexOf(t)}function DS(e,t){return 0|e.charCodeAt(t)}function AS(e,t,n){return e.slice(t,n)}function PS(e){return e.length}function RS(e){return e.length}function OS(e,t){return t.push(e),e}var jS=1,LS=1,MS=0,FS=0,US=0,BS="";function VS(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:jS,column:LS,length:a,return:""}}function zS(e,t){return _S(VS("",null,null,"",null,null,0),e,{length:-e.length},t)}function $S(){return US=FS>0?DS(BS,--FS):0,LS--,10===US&&(LS=1,jS--),US}function HS(){return US=FS<MS?DS(BS,FS++):0,LS++,10===US&&(LS=1,jS++),US}function GS(){return DS(BS,FS)}function qS(){return FS}function WS(e,t){return AS(BS,e,t)}function KS(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QS(e){return jS=LS=1,MS=PS(BS=e),FS=0,[]}function YS(e){return BS="",e}function JS(e){return IS(WS(FS-1,eC(91===e?e+2:40===e?e+1:e)))}function XS(e){for(;(US=GS())&&US<33;)HS();return KS(e)>2||KS(US)>3?"":" "}function ZS(e,t){for(;--t&&HS()&&!(US<48||US>102||US>57&&US<65||US>70&&US<97););return WS(e,qS()+(t<6&&32==GS()&&32==HS()))}function eC(e){for(;HS();)switch(US){case e:return FS;case 34:case 39:34!==e&&39!==e&&eC(US);break;case 40:41===e&&eC(e);break;case 92:HS()}return FS}function tC(e,t){for(;HS()&&e+US!==57&&(e+US!==84||47!==GS()););return"/*"+WS(t,FS-1)+"*"+CS(47===e?e:HS())}function nC(e){for(;!KS(GS());)HS();return WS(e,FS)}var rC="-ms-",iC="-moz-",oC="-webkit-",aC="comm",sC="rule",lC="decl",cC="@keyframes";function uC(e,t){for(var n="",r=RS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function dC(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case lC:return e.return=e.return||e.value;case aC:return"";case cC:return e.return=e.value+"{"+uC(e.children,r)+"}";case sC:e.value=e.props.join(",")}return PS(n=uC(e.children,r))?e.return=e.value+"{"+n+"}":""}function hC(e){return function(t){t.root||(t=t.return)&&e(t)}}function fC(e){return YS(pC("",null,null,null,[""],e=QS(e),0,[0],e))}function pC(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,x=o,E=r,k=b;g;)switch(p=y,y=HS()){case 40:if(108!=p&&58==DS(k,d-1)){-1!=TS(k+=NS(JS(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=JS(y);break;case 9:case 10:case 13:case 32:k+=XS(p);break;case 92:k+=ZS(qS()-1,7);continue;case 47:switch(GS()){case 42:case 47:OS(gC(tC(HS(),qS()),t,n),l);break;default:k+="/"}break;case 123*m:s[c++]=PS(k)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(k=NS(k,/\f/g,"")),f>0&&PS(k)-d&&OS(f>32?vC(k+";",r,n,d-1):vC(NS(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(OS(E=mC(k,t,n,c,u,i,s,b,w=[],x=[],d),o),123===y)if(0===u)pC(k,t,E,E,w,o,d,s,x);else switch(99===h&&110===DS(k,3)?100:h){case 100:case 108:case 109:case 115:pC(e,E,E,r&&OS(mC(e,E,E,0,0,i,s,b,i,w=[],d),x),i,x,d,s,r?w:x);break;default:pC(k,E,E,E,[""],x,0,s,x)}}c=u=f=0,m=v=1,b=k="",d=a;break;case 58:d=1+PS(k),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==$S())continue;switch(k+=CS(y),y*m){case 38:v=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(PS(k)-1)*v,v=1;break;case 64:45===GS()&&(k+=JS(HS())),h=GS(),u=d=PS(b=k+=nC(qS())),y++;break;case 45:45===p&&2==PS(k)&&(m=0)}}return o}function mC(e,t,n,r,i,o,a,s,l,c,u){for(var d=i-1,h=0===i?o:[""],f=RS(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=AS(e,d+1,d=SS(m=a[p])),b=e;v<f;++v)(b=IS(m>0?h[v]+" "+y:NS(y,/&\f/g,h[v])))&&(l[g++]=b);return VS(e,t,n,0===i?sC:s,l,c,u)}function gC(e,t,n){return VS(e,t,n,aC,CS(US),AS(e,2,-2),0)}function vC(e,t,n,r){return VS(e,t,n,lC,AS(e,0,r),AS(e,r+1,-1),r)}var yC=function(e,t,n){for(var r=0,i=0;r=i,i=GS(),38===r&&12===i&&(t[n]=1),!KS(i);)HS();return WS(e,FS)},bC=function(e,t){return YS(function(e,t){var n=-1,r=44;do{switch(KS(r)){case 0:38===r&&12===GS()&&(t[n]=1),e[n]+=yC(FS-1,t,n);break;case 2:e[n]+=JS(r);break;case 4:if(44===r){e[++n]=58===GS()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=CS(r)}}while(r=HS());return e}(QS(e),t))},wC=new WeakMap,xC=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||wC.get(n))&&!r){wC.set(e,!0);for(var i=[],o=bC(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},EC=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function kC(e,t){switch(function(e,t){return 45^DS(e,0)?(((t<<2^DS(e,0))<<2^DS(e,1))<<2^DS(e,2))<<2^DS(e,3):0}(e,t)){case 5103:return oC+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oC+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return oC+e+iC+e+rC+e+e;case 6828:case 4268:return oC+e+rC+e+e;case 6165:return oC+e+rC+"flex-"+e+e;case 5187:return oC+e+NS(e,/(\w+).+(:[^]+)/,oC+"box-$1$2"+rC+"flex-$1$2")+e;case 5443:return oC+e+rC+"flex-item-"+NS(e,/flex-|-self/,"")+e;case 4675:return oC+e+rC+"flex-line-pack"+NS(e,/align-content|flex-|-self/,"")+e;case 5548:return oC+e+rC+NS(e,"shrink","negative")+e;case 5292:return oC+e+rC+NS(e,"basis","preferred-size")+e;case 6060:return oC+"box-"+NS(e,"-grow","")+oC+e+rC+NS(e,"grow","positive")+e;case 4554:return oC+NS(e,/([^-])(transform)/g,"$1"+oC+"$2")+e;case 6187:return NS(NS(NS(e,/(zoom-|grab)/,oC+"$1"),/(image-set)/,oC+"$1"),e,"")+e;case 5495:case 3959:return NS(e,/(image-set\([^]*)/,oC+"$1$`$1");case 4968:return NS(NS(e,/(.+:)(flex-)?(.*)/,oC+"box-pack:$3"+rC+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+oC+e+e;case 4095:case 3583:case 4068:case 2532:return NS(e,/(.+)-inline(.+)/,oC+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(PS(e)-1-t>6)switch(DS(e,t+1)){case 109:if(45!==DS(e,t+4))break;case 102:return NS(e,/(.+:)(.+)-([^]+)/,"$1"+oC+"$2-$3$1"+iC+(108==DS(e,t+3)?"$3":"$2-$3"))+e;case 115:return~TS(e,"stretch")?kC(NS(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==DS(e,t+1))break;case 6444:switch(DS(e,PS(e)-3-(~TS(e,"!important")&&10))){case 107:return NS(e,":",":"+oC)+e;case 101:return NS(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oC+(45===DS(e,14)?"inline-":"")+"box$3$1"+oC+"$2$3$1"+rC+"$2box$3")+e}break;case 5936:switch(DS(e,t+11)){case 114:return oC+e+rC+NS(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return oC+e+rC+NS(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return oC+e+rC+NS(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return oC+e+rC+e+e}return e}var SC=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case lC:e.return=kC(e.value,e.length);break;case cC:return uC([zS(e,{value:NS(e.value,"@","@"+oC)})],r);case sC:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uC([zS(e,{props:[NS(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return uC([zS(e,{props:[NS(t,/:(plac\w+)/,":"+oC+"input-$1")]}),zS(e,{props:[NS(t,/:(plac\w+)/,":-moz-$1")]}),zS(e,{props:[NS(t,/:(plac\w+)/,rC+"input-$1")]})],r)}return""}))}}],CC=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||SC,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,c=[xC,EC],u=[dC,hC((function(e){l.insert(e)}))],d=function(e){var t=RS(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(c.concat(o,u));i=function(e,t,n,r){l=n,uC(fC(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new kS({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return h.sheet.hydrate(s),h};var _C=!!o.useInsertionEffect&&o.useInsertionEffect,IC=(_C||i.useLayoutEffect,i.createContext("undefined"!==typeof HTMLElement?CC({key:"css"}):null)),NC=(IC.Provider,i.createContext({}));const TC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(NC);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n};function DC(e,t,n,r,o){const[a,s]=i.useState((()=>o&&n?n(e).matches:r?r(e).matches:t));return wS((()=>{if(!n)return;const t=n(e),r=()=>{s(t.matches)};return r(),t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}}),[e,n]),a}const AC={...o}.useSyncExternalStore;function PC(e,t,n,r,o){const a=i.useCallback((()=>t),[t]),s=i.useMemo((()=>{if(o&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return a}),[a,e,r,o,n]),[l,c]=i.useMemo((()=>{if(null===n)return[a,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]}),[a,n,e]);return AC(c,l,s)}function RC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t}=e;return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=TC();r&&t&&(r=r[t]||r);const i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:a=(i?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:l=!1}=ES({name:"MuiUseMediaQuery",props:n,theme:r});let c="function"===typeof e?e(r):e;c=c.replace(/^@media( ?)/m,"");return(void 0!==AC?PC:DC)(c,o,a,s,l)}}RC();const OC=RC({themeId:"$$material"}),jC=e=>{let{to:t,icon:n,label:r,active:i,onClick:o}=e;return(0,Wg.jsxs)(Te,{to:t,className:"flex items-center px-2 py-1 text-sm rounded-md transition-colors "+(i?"bg-gray-200 text-gray-900 font-medium":"text-gray-700 hover:bg-gray-200"),onClick:o,children:[(0,Wg.jsx)("span",{className:"mr-2 "+(i?"text-gray-900":"text-gray-500"),children:n}),r]})},LC=e=>{var t;let{children:n}=e;const{user:r,logout:o}=qg(),a=OC("(max-width: 768px)"),[s,l]=(0,i.useState)(!1),c=ee(),u=()=>{l(!s)},d=()=>{a&&l(!1)};return(0,Wg.jsxs)("div",{className:"app-container",children:[a&&(0,Wg.jsx)("button",{onClick:u,className:"fixed top-4 left-4 z-50 p-2 rounded-md shadow-md hover:bg-opacity-90",style:{backgroundColor:"var(--color-secondary)",color:"var(--color-text)"},"aria-label":"Toggle sidebar",children:s?(0,Wg.jsx)(Hv,{size:20}):(0,Wg.jsx)(fv,{size:20})}),(0,Wg.jsx)("div",{className:"fixed inset-y-0 left-0 z-40 w-64 transform transition-transform duration-300 ease-in-out "+(a?s?"translate-x-0":"-translate-x-full":"translate-x-0"),style:{backgroundColor:"var(--color-secondary)",borderRight:"1px solid var(--color-border)"},children:(0,Wg.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Wg.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",style:{borderBottom:"1px solid var(--color-border)"},children:[(0,Wg.jsx)("h1",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:"Lock The Eff In"}),a&&(0,Wg.jsx)("button",{onClick:u,className:"p-1 rounded-md hover:bg-opacity-80",style:{color:"var(--color-text-secondary)"},"aria-label":"Close sidebar",children:(0,Wg.jsx)(Hv,{size:18})})]}),(0,Wg.jsx)("div",{className:"px-3 py-2",style:{borderBottom:"1px solid var(--color-border)"},children:(0,Wg.jsxs)("div",{className:"relative",children:[(0,Wg.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:(0,Wg.jsx)(Vv,{className:"h-4 w-4",style:{color:"var(--color-text-secondary)"}})}),(0,Wg.jsx)("input",{type:"text",placeholder:"Search",className:"w-full py-1 pl-8 pr-3 text-sm rounded-md focus:outline-none",style:{backgroundColor:"var(--color-primary)",border:"1px solid var(--color-border)",color:"var(--color-text)"}})]})}),(0,Wg.jsxs)("nav",{className:"flex-1 px-2 py-2 space-y-0.5 overflow-y-auto",children:[(0,Wg.jsx)("div",{className:"px-2 py-1 text-xs font-semibold uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:"Favorites"}),(0,Wg.jsx)(jC,{to:"/dashboard",icon:(0,Wg.jsx)(Tv,{}),label:"Dashboard",active:"/dashboard"===c.pathname,onClick:d}),(0,Wg.jsx)(jC,{to:"/todo",icon:(0,Wg.jsx)(Ov,{}),label:"To Do & Calendar",active:"/todo"===c.pathname||"/calendar"===c.pathname,onClick:d}),(0,Wg.jsx)("div",{className:"mt-4 px-2 py-1 text-xs font-semibold uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:"Workspace"}),(0,Wg.jsx)(jC,{to:"/notes",icon:(0,Wg.jsx)(gv,{}),label:"Notes",active:"/notes"===c.pathname||c.pathname.startsWith("/note/"),onClick:d}),(0,Wg.jsx)(jC,{to:"/money",icon:(0,Wg.jsx)(Mv,{}),label:"Money",active:"/money"===c.pathname,onClick:d}),(0,Wg.jsx)(jC,{to:"/settings",icon:(0,Wg.jsx)(kv,{}),label:"Settings",active:"/settings"===c.pathname,onClick:d})]}),(0,Wg.jsxs)("div",{className:"p-3 border-t flex items-center",style:{borderColor:"var(--color-border)"},children:[(0,Wg.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:"var(--color-accent)"},children:(0,Wg.jsx)("span",{className:"text-white text-sm font-medium",children:(null===r||void 0===r||null===(t=r.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),(0,Wg.jsxs)("div",{className:"flex-1 truncate",children:[(0,Wg.jsx)("div",{className:"text-sm font-medium truncate",style:{color:"var(--color-text)"},children:(null===r||void 0===r?void 0:r.email)||"User"}),(0,Wg.jsx)("button",{onClick:o,className:"text-xs hover:underline",style:{color:"var(--color-text-secondary)"},children:"Sign out"})]})]})]})}),(0,Wg.jsxs)("div",{className:"content-container",style:{marginLeft:a?0:"16rem",backgroundColor:"var(--color-background)",color:"var(--color-text)",transition:"margin-left 0.3s ease-in-out"},children:[(0,Wg.jsx)("main",{className:"flex-1 p-4 overflow-auto",children:n}),(0,Wg.jsxs)("div",{class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 text-center text-sm text-gray-500",children:[(0,Wg.jsx)("p",{children:"\xa9 2025 Jedidiah 5000 Productions. All rights reserved."}),(0,Wg.jsx)("p",{children:"Jedidiah is awesome"})]})]})]})},MC=()=>(0,Wg.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-slate-100/90 dark:bg-slate-900/90 z-50",children:(0,Wg.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Wg.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),(0,Wg.jsx)("p",{className:"mt-4 text-lg font-medium text-slate-700 dark:text-slate-300",children:"Loading..."})]})}),FC=()=>{const{user:e,loading:t,initialized:n}=qg();return n?(0,Wg.jsx)(Yg,{children:(0,Wg.jsx)(_e,{children:t?(0,Wg.jsx)(MC,{}):(0,Wg.jsxs)(we,{children:[(0,Wg.jsx)(ye,{path:"/login",element:e?(0,Wg.jsx)(ve,{to:"/dashboard"}):(0,Wg.jsx)(Kv,{})}),(0,Wg.jsx)(ye,{path:"/register",element:e?(0,Wg.jsx)(ve,{to:"/dashboard"}):(0,Wg.jsx)(Qv,{})}),(0,Wg.jsx)(ye,{path:"/dashboard",element:e?(0,Wg.jsx)(LC,{children:(0,Wg.jsx)(Xv,{})}):(0,Wg.jsx)(ve,{to:"/login"})}),(0,Wg.jsx)(ye,{path:"/todo",element:e?(0,Wg.jsx)(LC,{children:(0,Wg.jsx)(bS,{})}):(0,Wg.jsx)(ve,{to:"/login"})}),(0,Wg.jsx)(ye,{path:"/calendar",element:e?(0,Wg.jsx)(LC,{children:(0,Wg.jsx)(bS,{})}):(0,Wg.jsx)(ve,{to:"/login"})}),(0,Wg.jsx)(ye,{path:"/notes",element:e?(0,Wg.jsx)(LC,{children:(0,Wg.jsx)(ey,{})}):(0,Wg.jsx)(ve,{to:"/login"})}),(0,Wg.jsx)(ye,{path:"/note/:id",element:e?(0,Wg.jsx)(LC,{children:(0,Wg.jsx)(iy,{})}):(0,Wg.jsx)(ve,{to:"/login"})}),(0,Wg.jsx)(ye,{path:"/money",element:e?(0,Wg.jsx)(LC,{children:(0,Wg.jsx)(ny,{})}):(0,Wg.jsx)(ve,{to:"/login"})}),(0,Wg.jsx)(ye,{path:"/settings",element:e?(0,Wg.jsx)(LC,{children:(0,Wg.jsx)(ry,{})}):(0,Wg.jsx)(ve,{to:"/login"})}),(0,Wg.jsx)(ye,{path:"*",element:(0,Wg.jsx)(ve,{to:e?"/dashboard":"/login"})})]})})}):(0,Wg.jsx)(MC,{})},UC=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};a.createRoot(document.getElementById("root")).render((0,Wg.jsx)(i.StrictMode,{children:(0,Wg.jsx)(FC,{})})),UC()})();
//# sourceMappingURL=main.e2e39da1.js.map